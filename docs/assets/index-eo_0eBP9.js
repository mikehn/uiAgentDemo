var ev=Object.defineProperty;var tv=(e,t,n)=>t in e?ev(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zo=(e,t,n)=>tv(e,typeof t!="symbol"?t+"":t,n);function nv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},oo={},np={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=Symbol.for("react.element"),sv=Symbol.for("react.portal"),iv=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),fv=Symbol.for("react.memo"),hv=Symbol.for("react.lazy"),Id=Symbol.iterator;function pv(e){return e===null||typeof e!="object"?null:(e=Id&&e[Id]||e["@@iterator"],typeof e=="function"?e:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sp=Object.assign,ip={};function Hr(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ap(){}ap.prototype=Hr.prototype;function rc(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}var sc=rc.prototype=new ap;sc.constructor=rc;sp(sc,Hr.prototype);sc.isPureReactComponent=!0;var Ld=Array.isArray,op=Object.prototype.hasOwnProperty,ic={current:null},lp={key:!0,ref:!0,__self:!0,__source:!0};function up(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)op.call(t,r)&&!lp.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ci,type:e,key:i,ref:a,props:s,_owner:ic.current}}function mv(e,t){return{$$typeof:ci,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===ci}function gv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rd=/\/+/g;function Wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gv(""+e.key):t.toString(36)}function ta(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ci:case sv:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Wo(a,0):r,Ld(s)?(n="",e!=null&&(n=e.replace(Rd,"$&/")+"/"),ta(s,t,n,"",function(u){return u})):s!=null&&(ac(s)&&(s=mv(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Rd,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ld(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Wo(i,o);a+=ta(i,t,n,l,s)}else if(l=pv(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Wo(i,o++),a+=ta(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ni(e,t,n){if(e==null)return e;var r=[],s=0;return ta(e,r,"","",function(i){return t.call(n,i,s++)}),r}function yv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},na={transition:null},vv={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:na,ReactCurrentOwner:ic};function cp(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Ni,forEach:function(e,t,n){Ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Hr;V.Fragment=iv;V.Profiler=ov;V.PureComponent=rc;V.StrictMode=av;V.Suspense=dv;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;V.act=cp;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ic.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)op.call(t,l)&&!lp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ci,type:e.type,key:s,ref:i,props:r,_owner:a}};V.createContext=function(e){return e={$$typeof:uv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lv,_context:e},e.Consumer=e};V.createElement=up;V.createFactory=function(e){var t=up.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:cv,render:e}};V.isValidElement=ac;V.lazy=function(e){return{$$typeof:hv,_payload:{_status:-1,_result:e},_init:yv}};V.memo=function(e,t){return{$$typeof:fv,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=na.transition;na.transition={};try{e()}finally{na.transition=t}};V.unstable_act=cp;V.useCallback=function(e,t){return ze.current.useCallback(e,t)};V.useContext=function(e){return ze.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};V.useEffect=function(e,t){return ze.current.useEffect(e,t)};V.useId=function(){return ze.current.useId()};V.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return ze.current.useMemo(e,t)};V.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};V.useRef=function(e){return ze.current.useRef(e)};V.useState=function(e){return ze.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return ze.current.useTransition()};V.version="18.3.1";np.exports=V;var y=np.exports;const D=rv(y),Tl=nv({__proto__:null,default:D},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=y,wv=Symbol.for("react.element"),Sv=Symbol.for("react.fragment"),bv=Object.prototype.hasOwnProperty,_v=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kv={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)bv.call(t,r)&&!kv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wv,type:e,key:i,ref:a,props:s,_owner:_v.current}}oo.Fragment=Sv;oo.jsx=dp;oo.jsxs=dp;tp.exports=oo;var c=tp.exports,fp={exports:{}},at={},hp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,O){var T=I.length;I.push(O);e:for(;0<T;){var M=T-1>>>1,J=I[M];if(0<s(J,O))I[M]=O,I[T]=J,T=M;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],T=I.pop();if(T!==O){I[0]=T;e:for(var M=0,J=I.length,H=J>>>1;M<H;){var be=2*(M+1)-1,Ve=I[be],Ft=be+1,Zt=I[Ft];if(0>s(Ve,T))Ft<J&&0>s(Zt,Ve)?(I[M]=Zt,I[Ft]=T,M=Ft):(I[M]=Ve,I[be]=T,M=be);else if(Ft<J&&0>s(Zt,T))I[M]=Zt,I[Ft]=T,M=Ft;else break e}}return O}function s(I,O){var T=I.sortIndex-O.sortIndex;return T!==0?T:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,d=null,h=3,p=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=I)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function S(I){if(x=!1,w(I),!g)if(n(l)!==null)g=!0,le(_);else{var O=n(u);O!==null&&ce(S,O.startTime-I)}}function _(I,O){g=!1,x&&(x=!1,v(j),j=-1),p=!0;var T=h;try{for(w(O),d=n(l);d!==null&&(!(d.expirationTime>O)||I&&!R());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var J=M(d.expirationTime<=O);O=e.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),w(O)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var be=n(u);be!==null&&ce(S,be.startTime-O),H=!1}return H}finally{d=null,h=T,p=!1}}var C=!1,E=null,j=-1,P=5,N=-1;function R(){return!(e.unstable_now()-N<P)}function X(){if(E!==null){var I=e.unstable_now();N=I;var O=!0;try{O=E(!0,I)}finally{O?Y():(C=!1,E=null)}}else C=!1}var Y;if(typeof m=="function")Y=function(){m(X)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Fe=Z.port2;Z.port1.onmessage=X,Y=function(){Fe.postMessage(null)}}else Y=function(){b(X,0)};function le(I){E=I,C||(C=!0,Y())}function ce(I,O){j=b(function(){I(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,le(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var T=h;h=O;try{return I()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var T=h;h=I;try{return O()}finally{h=T}},e.unstable_scheduleCallback=function(I,O,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=T+J,I={id:f++,callback:O,priorityLevel:I,startTime:T,expirationTime:J,sortIndex:-1},T>M?(I.sortIndex=T,t(u,I),n(l)===null&&I===n(u)&&(x?(v(j),j=-1):x=!0,ce(S,T-M))):(I.sortIndex=J,t(l,I),g||p||(g=!0,le(_))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var O=h;return function(){var T=h;h=O;try{return I.apply(this,arguments)}finally{h=T}}}})(pp);hp.exports=pp;var Ev=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=y,it=Ev;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,Ds={};function nr(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(Ds[e]=t,e=0;e<t.length;e++)mp.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,Nv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Td={},Ad={};function jv(e){return Al.call(Ad,e)?!0:Al.call(Td,e)?!1:Nv.test(e)?Ad[e]=!0:(Td[e]=!0,!1)}function $v(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pv(e,t,n,r){if(t===null||typeof t>"u"||$v(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var oc=/[\-:]([a-z])/g;function lc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oc,lc);$e[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oc,lc);$e[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oc,lc);$e[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function uc(e,t,n,r){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pv(t,n,s,r)&&(n=null),r||s===null?jv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=Cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),pr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),yp=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),vp=Symbol.for("react.offscreen"),Od=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,Ho;function os(e){if(Ho===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ho=t&&t[1]||""}return`
`+Ho+e}var Vo=!1;function Ko(e,t){if(!e||Vo)return"";Vo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Vo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?os(e):""}function Iv(e){switch(e.tag){case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return e=Ko(e.type,!1),e;case 11:return e=Ko(e.type.render,!1),e;case 1:return e=Ko(e.type,!0),e;default:return""}}function Dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case pr:return"Portal";case Ol:return"Profiler";case cc:return"StrictMode";case Ml:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yp:return(e.displayName||"Context")+".Consumer";case gp:return(e._context.displayName||"Context")+".Provider";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fc:return t=e.displayName||null,t!==null?t:Dl(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Dl(e(t))}catch{}}return null}function Lv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dl(t);case 8:return t===cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rv(e){var t=xp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $i(e){e._valueTracker||(e._valueTracker=Rv(e))}function wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bl(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Md(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sp(e,t){t=t.checked,t!=null&&uc(e,"checked",t,!1)}function Ul(e,t){Sp(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&zl(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zl(e,t,n){(t!=="number"||ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ls=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(ls(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function bp(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _p(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_p(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pi,kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tv=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(e){Tv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ks[t]=ks[e]})});function Ep(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ks.hasOwnProperty(e)&&ks[e]?(""+t).trim():t+"px"}function Cp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ep(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Av=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(e,t){if(t){if(Av[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,$r=null,Pr=null;function Ud(e){if(e=hi(e)){if(typeof Jl!="function")throw Error($(280));var t=e.stateNode;t&&(t=ho(t),Jl(e.stateNode,e.type,t))}}function Np(e){$r?Pr?Pr.push(e):Pr=[e]:$r=e}function jp(){if($r){var e=$r,t=Pr;if(Pr=$r=null,Ud(e),t)for(e=0;e<t.length;e++)Ud(t[e])}}function $p(e,t){return e(t)}function Pp(){}var qo=!1;function Ip(e,t,n){if(qo)return e(t,n);qo=!0;try{return $p(e,t,n)}finally{qo=!1,($r!==null||Pr!==null)&&(Pp(),jp())}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var r=ho(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Yl=!1;if(qt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Yl=!1}function Ov(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Es=!1,Ea=null,Ca=!1,Ql=null,Mv={onError:function(e){Es=!0,Ea=e}};function Fv(e,t,n,r,s,i,a,o,l){Es=!1,Ea=null,Ov.apply(Mv,arguments)}function Dv(e,t,n,r,s,i,a,o,l){if(Fv.apply(this,arguments),Es){if(Es){var u=Ea;Es=!1,Ea=null}else throw Error($(198));Ca||(Ca=!0,Ql=u)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zd(e){if(rr(e)!==e)throw Error($(188))}function Bv(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zd(s),e;if(i===r)return zd(s),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Rp(e){return e=Bv(e),e!==null?Tp(e):null}function Tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tp(e);if(t!==null)return t;e=e.sibling}return null}var Ap=it.unstable_scheduleCallback,Wd=it.unstable_cancelCallback,Uv=it.unstable_shouldYield,zv=it.unstable_requestPaint,ue=it.unstable_now,Wv=it.unstable_getCurrentPriorityLevel,pc=it.unstable_ImmediatePriority,Op=it.unstable_UserBlockingPriority,Na=it.unstable_NormalPriority,Hv=it.unstable_LowPriority,Mp=it.unstable_IdlePriority,lo=null,Ot=null;function Vv(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Jv,Kv=Math.log,qv=Math.LN2;function Jv(e){return e>>>=0,e===0?32:31-(Kv(e)/qv|0)|0}var Ii=64,Li=4194304;function us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=us(o):(i&=a,i!==0&&(r=us(i)))}else a=n&~s,a!==0?r=us(a):i!==0&&(r=us(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),s=1<<n,r|=e[n],t&=~s;return r}function Yv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Et(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Yv(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fp(){var e=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),e}function Jo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function di(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function Gv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Et(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function mc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var G=0;function Dp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bp,gc,Up,zp,Wp,Xl=!1,Ri=[],pn=null,mn=null,gn=null,zs=new Map,Ws=new Map,an=[],Xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function Zr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=hi(t),t!==null&&gc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zv(e,t,n,r,s){switch(t){case"focusin":return pn=Zr(pn,e,t,n,r,s),!0;case"dragenter":return mn=Zr(mn,e,t,n,r,s),!0;case"mouseover":return gn=Zr(gn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return zs.set(i,Zr(zs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ws.set(i,Zr(Ws.get(i)||null,e,t,n,r,s)),!0}return!1}function Hp(e){var t=On(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=Lp(n),t!==null){e.blockedOn=t,Wp(e.priority,function(){Up(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ql=r,n.target.dispatchEvent(r),ql=null}else return t=hi(n),t!==null&&gc(t),e.blockedOn=n,!1;t.shift()}return!0}function Vd(e,t,n){ra(e)&&n.delete(t)}function ex(){Xl=!1,pn!==null&&ra(pn)&&(pn=null),mn!==null&&ra(mn)&&(mn=null),gn!==null&&ra(gn)&&(gn=null),zs.forEach(Vd),Ws.forEach(Vd)}function es(e,t){e.blockedOn===t&&(e.blockedOn=null,Xl||(Xl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,ex)))}function Hs(e){function t(s){return es(s,e)}if(0<Ri.length){es(Ri[0],e);for(var n=1;n<Ri.length;n++){var r=Ri[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&es(pn,e),mn!==null&&es(mn,e),gn!==null&&es(gn,e),zs.forEach(t),Ws.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Hp(n),n.blockedOn===null&&an.shift()}var Ir=Gt.ReactCurrentBatchConfig,$a=!0;function tx(e,t,n,r){var s=G,i=Ir.transition;Ir.transition=null;try{G=1,yc(e,t,n,r)}finally{G=s,Ir.transition=i}}function nx(e,t,n,r){var s=G,i=Ir.transition;Ir.transition=null;try{G=4,yc(e,t,n,r)}finally{G=s,Ir.transition=i}}function yc(e,t,n,r){if($a){var s=Zl(e,t,n,r);if(s===null)sl(e,t,r,Pa,n),Hd(e,r);else if(Zv(s,e,t,n,r))r.stopPropagation();else if(Hd(e,r),t&4&&-1<Xv.indexOf(e)){for(;s!==null;){var i=hi(s);if(i!==null&&Bp(i),i=Zl(e,t,n,r),i===null&&sl(e,t,r,Pa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sl(e,t,r,null,n)}}var Pa=null;function Zl(e,t,n,r){if(Pa=null,e=hc(r),e=On(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function Vp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wv()){case pc:return 1;case Op:return 4;case Na:case Hv:return 16;case Mp:return 536870912;default:return 16}default:return 16}}var un=null,vc=null,sa=null;function Kp(){if(sa)return sa;var e,t=vc,n=t.length,r,s="value"in un?un.value:un.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return sa=s.slice(e,1<r?1-r:void 0)}function ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function Kd(){return!1}function ot(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ti:Kd,this.isPropagationStopped=Kd,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=ot(Vr),fi=ae({},Vr,{view:0,detail:0}),rx=ot(fi),Yo,Qo,ts,uo=ae({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(Yo=e.screenX-ts.screenX,Qo=e.screenY-ts.screenY):Qo=Yo=0,ts=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),qd=ot(uo),sx=ae({},uo,{dataTransfer:0}),ix=ot(sx),ax=ae({},fi,{relatedTarget:0}),Go=ot(ax),ox=ae({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),lx=ot(ox),ux=ae({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cx=ot(ux),dx=ae({},Vr,{data:0}),Jd=ot(dx),fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=px[e])?!!t[e]:!1}function wc(){return mx}var gx=ae({},fi,{key:function(e){if(e.key){var t=fx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yx=ot(gx),vx=ae({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=ot(vx),xx=ae({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),wx=ot(xx),Sx=ae({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bx=ot(Sx),_x=ae({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kx=ot(_x),Ex=[9,13,27,32],Sc=qt&&"CompositionEvent"in window,Cs=null;qt&&"documentMode"in document&&(Cs=document.documentMode);var Cx=qt&&"TextEvent"in window&&!Cs,qp=qt&&(!Sc||Cs&&8<Cs&&11>=Cs),Qd=" ",Gd=!1;function Jp(e,t){switch(e){case"keyup":return Ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function Nx(e,t){switch(e){case"compositionend":return Yp(t);case"keypress":return t.which!==32?null:(Gd=!0,Qd);case"textInput":return e=t.data,e===Qd&&Gd?null:e;default:return null}}function jx(e,t){if(gr)return e==="compositionend"||!Sc&&Jp(e,t)?(e=Kp(),sa=vc=un=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qp&&t.locale!=="ko"?null:t.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$x[e.type]:t==="textarea"}function Qp(e,t,n,r){Np(r),t=Ia(t,"onChange"),0<t.length&&(n=new xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ns=null,Vs=null;function Px(e){om(e,0)}function co(e){var t=xr(e);if(wp(t))return e}function Ix(e,t){if(e==="change")return t}var Gp=!1;if(qt){var Xo;if(qt){var Zo="oninput"in document;if(!Zo){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Zo=typeof Zd.oninput=="function"}Xo=Zo}else Xo=!1;Gp=Xo&&(!document.documentMode||9<document.documentMode)}function ef(){Ns&&(Ns.detachEvent("onpropertychange",Xp),Vs=Ns=null)}function Xp(e){if(e.propertyName==="value"&&co(Vs)){var t=[];Qp(t,Vs,e,hc(e)),Ip(Px,t)}}function Lx(e,t,n){e==="focusin"?(ef(),Ns=t,Vs=n,Ns.attachEvent("onpropertychange",Xp)):e==="focusout"&&ef()}function Rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(Vs)}function Tx(e,t){if(e==="click")return co(t)}function Ax(e,t){if(e==="input"||e==="change")return co(t)}function Ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Ox;function Ks(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Al.call(t,s)||!Nt(e[s],t[s]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,t){var n=tf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tf(n)}}function Zp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function em(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ka(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mx(e){var t=em(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zp(n.ownerDocument.documentElement,n)){if(r!==null&&bc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=nf(n,i);var a=nf(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fx=qt&&"documentMode"in document&&11>=document.documentMode,yr=null,eu=null,js=null,tu=!1;function rf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tu||yr==null||yr!==ka(r)||(r=yr,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&Ks(js,r)||(js=r,r=Ia(eu,"onSelect"),0<r.length&&(t=new xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},el={},tm={};qt&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function fo(e){if(el[e])return el[e];if(!vr[e])return e;var t=vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tm)return el[e]=t[n];return e}var nm=fo("animationend"),rm=fo("animationiteration"),sm=fo("animationstart"),im=fo("transitionend"),am=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){am.set(e,t),nr(t,[e])}for(var tl=0;tl<sf.length;tl++){var nl=sf[tl],Dx=nl.toLowerCase(),Bx=nl[0].toUpperCase()+nl.slice(1);Cn(Dx,"on"+Bx)}Cn(nm,"onAnimationEnd");Cn(rm,"onAnimationIteration");Cn(sm,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(im,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function af(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dv(r,t,void 0,e),e.currentTarget=null}function om(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;af(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;af(s,o,u),i=l}}}if(Ca)throw e=Ql,Ca=!1,Ql=null,e}function te(e,t){var n=t[au];n===void 0&&(n=t[au]=new Set);var r=e+"__bubble";n.has(r)||(lm(t,e,2,!1),n.add(r))}function rl(e,t,n){var r=0;t&&(r|=4),lm(n,e,r,t)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Oi]){e[Oi]=!0,mp.forEach(function(n){n!=="selectionchange"&&(Ux.has(n)||rl(n,!1,e),rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oi]||(t[Oi]=!0,rl("selectionchange",!1,t))}}function lm(e,t,n,r){switch(Vp(t)){case 1:var s=tx;break;case 4:s=nx;break;default:s=yc}n=s.bind(null,t,n,e),s=void 0,!Yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=On(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Ip(function(){var u=i,f=hc(n),d=[];e:{var h=am.get(e);if(h!==void 0){var p=xc,g=e;switch(e){case"keypress":if(ia(n)===0)break e;case"keydown":case"keyup":p=yx;break;case"focusin":g="focus",p=Go;break;case"focusout":g="blur",p=Go;break;case"beforeblur":case"afterblur":p=Go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wx;break;case nm:case rm:case sm:p=lx;break;case im:p=bx;break;case"scroll":p=rx;break;case"wheel":p=kx;break;case"copy":case"cut":case"paste":p=cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yd}var x=(t&4)!==0,b=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var m=u,w;m!==null;){w=m;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Us(m,v),S!=null&&x.push(Js(m,S,w)))),b)break;m=m.return}0<x.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==ql&&(g=n.relatedTarget||n.fromElement)&&(On(g)||g[Jt]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?On(g):null,g!==null&&(b=rr(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=qd,S="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Yd,S="onPointerLeave",v="onPointerEnter",m="pointer"),b=p==null?h:xr(p),w=g==null?h:xr(g),h=new x(S,m+"leave",p,n,f),h.target=b,h.relatedTarget=w,S=null,On(f)===u&&(x=new x(v,m+"enter",g,n,f),x.target=w,x.relatedTarget=b,S=x),b=S,p&&g)t:{for(x=p,v=g,m=0,w=x;w;w=ar(w))m++;for(w=0,S=v;S;S=ar(S))w++;for(;0<m-w;)x=ar(x),m--;for(;0<w-m;)v=ar(v),w--;for(;m--;){if(x===v||v!==null&&x===v.alternate)break t;x=ar(x),v=ar(v)}x=null}else x=null;p!==null&&of(d,h,p,x,!1),g!==null&&b!==null&&of(d,b,g,x,!0)}}e:{if(h=u?xr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=Ix;else if(Xd(h))if(Gp)_=Ax;else{_=Rx;var C=Lx}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Tx);if(_&&(_=_(e,u))){Qp(d,_,n,f);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&zl(h,"number",h.value)}switch(C=u?xr(u):window,e){case"focusin":(Xd(C)||C.contentEditable==="true")&&(yr=C,eu=u,js=null);break;case"focusout":js=eu=yr=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,rf(d,n,f);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":rf(d,n,f)}var E;if(Sc)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else gr?Jp(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(qp&&n.locale!=="ko"&&(gr||j!=="onCompositionStart"?j==="onCompositionEnd"&&gr&&(E=Kp()):(un=f,vc="value"in un?un.value:un.textContent,gr=!0)),C=Ia(u,j),0<C.length&&(j=new Jd(j,e,null,n,f),d.push({event:j,listeners:C}),E?j.data=E:(E=Yp(n),E!==null&&(j.data=E)))),(E=Cx?Nx(e,n):jx(e,n))&&(u=Ia(u,"onBeforeInput"),0<u.length&&(f=new Jd("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=E))}om(d,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ia(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Us(e,n),i!=null&&r.unshift(Js(e,i,s)),i=Us(e,t),i!=null&&r.push(Js(e,i,s))),e=e.return}return r}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function of(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Us(n,i),l!=null&&a.unshift(Js(n,l,o))):s||(l=Us(n,i),l!=null&&a.push(Js(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var zx=/\r\n?/g,Wx=/\u0000|\uFFFD/g;function lf(e){return(typeof e=="string"?e:""+e).replace(zx,`
`).replace(Wx,"")}function Mi(e,t,n){if(t=lf(t),lf(e)!==t&&n)throw Error($(425))}function La(){}var nu=null,ru=null;function su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iu=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(e){return uf.resolve(null).then(e).catch(Kx)}:iu;function Kx(e){setTimeout(function(){throw e})}function il(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hs(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Kr,Ys="__reactProps$"+Kr,Jt="__reactContainer$"+Kr,au="__reactEvents$"+Kr,qx="__reactListeners$"+Kr,Jx="__reactHandles$"+Kr;function On(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cf(e);e!==null;){if(n=e[Rt])return n;e=cf(e)}return t}e=n,n=e.parentNode}return null}function hi(e){return e=e[Rt]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function ho(e){return e[Ys]||null}var ou=[],wr=-1;function Nn(e){return{current:e}}function ne(e){0>wr||(e.current=ou[wr],ou[wr]=null,wr--)}function ee(e,t){wr++,ou[wr]=e.current,e.current=t}var En={},Me=Nn(En),Ye=Nn(!1),Jn=En;function Or(e,t){var n=e.type.contextTypes;if(!n)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function Ra(){ne(Ye),ne(Me)}function df(e,t,n){if(Me.current!==En)throw Error($(168));ee(Me,t),ee(Ye,n)}function um(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($(108,Lv(e)||"Unknown",s));return ae({},n,r)}function Ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Jn=Me.current,ee(Me,e),ee(Ye,Ye.current),!0}function ff(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=um(e,t,Jn),r.__reactInternalMemoizedMergedChildContext=e,ne(Ye),ne(Me),ee(Me,e)):ne(Ye),ee(Ye,n)}var zt=null,po=!1,al=!1;function cm(e){zt===null?zt=[e]:zt.push(e)}function Yx(e){po=!0,cm(e)}function jn(){if(!al&&zt!==null){al=!0;var e=0,t=G;try{var n=zt;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,po=!1}catch(s){throw zt!==null&&(zt=zt.slice(e+1)),Ap(pc,jn),s}finally{G=t,al=!1}}return null}var Sr=[],br=0,Aa=null,Oa=0,ct=[],dt=0,Yn=null,Wt=1,Ht="";function Pn(e,t){Sr[br++]=Oa,Sr[br++]=Aa,Aa=e,Oa=t}function dm(e,t,n){ct[dt++]=Wt,ct[dt++]=Ht,ct[dt++]=Yn,Yn=e;var r=Wt;e=Ht;var s=32-Et(r)-1;r&=~(1<<s),n+=1;var i=32-Et(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Wt=1<<32-Et(t)+s|n<<s|r,Ht=i+e}else Wt=1<<i|n<<s|r,Ht=e}function _c(e){e.return!==null&&(Pn(e,1),dm(e,1,0))}function kc(e){for(;e===Aa;)Aa=Sr[--br],Sr[br]=null,Oa=Sr[--br],Sr[br]=null;for(;e===Yn;)Yn=ct[--dt],ct[dt]=null,Ht=ct[--dt],ct[dt]=null,Wt=ct[--dt],ct[dt]=null}var st=null,rt=null,re=!1,St=null;function fm(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:Wt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function lu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uu(e){if(re){var t=rt;if(t){var n=t;if(!hf(e,t)){if(lu(e))throw Error($(418));t=yn(n.nextSibling);var r=st;t&&hf(e,t)?fm(r,n):(e.flags=e.flags&-4097|2,re=!1,st=e)}}else{if(lu(e))throw Error($(418));e.flags=e.flags&-4097|2,re=!1,st=e}}}function pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Fi(e){if(e!==st)return!1;if(!re)return pf(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!su(e.type,e.memoizedProps)),t&&(t=rt)){if(lu(e))throw hm(),Error($(418));for(;t;)fm(e,t),t=yn(t.nextSibling)}if(pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?yn(e.stateNode.nextSibling):null;return!0}function hm(){for(var e=rt;e;)e=yn(e.nextSibling)}function Mr(){rt=st=null,re=!1}function Ec(e){St===null?St=[e]:St.push(e)}var Qx=Gt.ReactCurrentBatchConfig;function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Di(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function pm(e){function t(v,m){if(e){var w=v.deletions;w===null?(v.deletions=[m],v.flags|=16):w.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Sn(v,m),v.index=0,v.sibling=null,v}function i(v,m,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<m?(v.flags|=2,m):w):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,m,w,S){return m===null||m.tag!==6?(m=hl(w,v.mode,S),m.return=v,m):(m=s(m,w),m.return=v,m)}function l(v,m,w,S){var _=w.type;return _===mr?f(v,m,w.props.children,S,w.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===rn&&mf(_)===m.type)?(S=s(m,w.props),S.ref=ns(v,m,w),S.return=v,S):(S=fa(w.type,w.key,w.props,null,v.mode,S),S.ref=ns(v,m,w),S.return=v,S)}function u(v,m,w,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=pl(w,v.mode,S),m.return=v,m):(m=s(m,w.children||[]),m.return=v,m)}function f(v,m,w,S,_){return m===null||m.tag!==7?(m=Vn(w,v.mode,S,_),m.return=v,m):(m=s(m,w),m.return=v,m)}function d(v,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hl(""+m,v.mode,w),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return w=fa(m.type,m.key,m.props,null,v.mode,w),w.ref=ns(v,null,m),w.return=v,w;case pr:return m=pl(m,v.mode,w),m.return=v,m;case rn:var S=m._init;return d(v,S(m._payload),w)}if(ls(m)||Gr(m))return m=Vn(m,v.mode,w,null),m.return=v,m;Di(v,m)}return null}function h(v,m,w,S){var _=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(v,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ji:return w.key===_?l(v,m,w,S):null;case pr:return w.key===_?u(v,m,w,S):null;case rn:return _=w._init,h(v,m,_(w._payload),S)}if(ls(w)||Gr(w))return _!==null?null:f(v,m,w,S,null);Di(v,w)}return null}function p(v,m,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(m,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ji:return v=v.get(S.key===null?w:S.key)||null,l(m,v,S,_);case pr:return v=v.get(S.key===null?w:S.key)||null,u(m,v,S,_);case rn:var C=S._init;return p(v,m,w,C(S._payload),_)}if(ls(S)||Gr(S))return v=v.get(w)||null,f(m,v,S,_,null);Di(m,S)}return null}function g(v,m,w,S){for(var _=null,C=null,E=m,j=m=0,P=null;E!==null&&j<w.length;j++){E.index>j?(P=E,E=null):P=E.sibling;var N=h(v,E,w[j],S);if(N===null){E===null&&(E=P);break}e&&E&&N.alternate===null&&t(v,E),m=i(N,m,j),C===null?_=N:C.sibling=N,C=N,E=P}if(j===w.length)return n(v,E),re&&Pn(v,j),_;if(E===null){for(;j<w.length;j++)E=d(v,w[j],S),E!==null&&(m=i(E,m,j),C===null?_=E:C.sibling=E,C=E);return re&&Pn(v,j),_}for(E=r(v,E);j<w.length;j++)P=p(E,v,j,w[j],S),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?j:P.key),m=i(P,m,j),C===null?_=P:C.sibling=P,C=P);return e&&E.forEach(function(R){return t(v,R)}),re&&Pn(v,j),_}function x(v,m,w,S){var _=Gr(w);if(typeof _!="function")throw Error($(150));if(w=_.call(w),w==null)throw Error($(151));for(var C=_=null,E=m,j=m=0,P=null,N=w.next();E!==null&&!N.done;j++,N=w.next()){E.index>j?(P=E,E=null):P=E.sibling;var R=h(v,E,N.value,S);if(R===null){E===null&&(E=P);break}e&&E&&R.alternate===null&&t(v,E),m=i(R,m,j),C===null?_=R:C.sibling=R,C=R,E=P}if(N.done)return n(v,E),re&&Pn(v,j),_;if(E===null){for(;!N.done;j++,N=w.next())N=d(v,N.value,S),N!==null&&(m=i(N,m,j),C===null?_=N:C.sibling=N,C=N);return re&&Pn(v,j),_}for(E=r(v,E);!N.done;j++,N=w.next())N=p(E,v,j,N.value,S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?j:N.key),m=i(N,m,j),C===null?_=N:C.sibling=N,C=N);return e&&E.forEach(function(X){return t(v,X)}),re&&Pn(v,j),_}function b(v,m,w,S){if(typeof w=="object"&&w!==null&&w.type===mr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ji:e:{for(var _=w.key,C=m;C!==null;){if(C.key===_){if(_=w.type,_===mr){if(C.tag===7){n(v,C.sibling),m=s(C,w.props.children),m.return=v,v=m;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===rn&&mf(_)===C.type){n(v,C.sibling),m=s(C,w.props),m.ref=ns(v,C,w),m.return=v,v=m;break e}n(v,C);break}else t(v,C);C=C.sibling}w.type===mr?(m=Vn(w.props.children,v.mode,S,w.key),m.return=v,v=m):(S=fa(w.type,w.key,w.props,null,v.mode,S),S.ref=ns(v,m,w),S.return=v,v=S)}return a(v);case pr:e:{for(C=w.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(v,m.sibling),m=s(m,w.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=pl(w,v.mode,S),m.return=v,v=m}return a(v);case rn:return C=w._init,b(v,m,C(w._payload),S)}if(ls(w))return g(v,m,w,S);if(Gr(w))return x(v,m,w,S);Di(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,w),m.return=v,v=m):(n(v,m),m=hl(w,v.mode,S),m.return=v,v=m),a(v)):n(v,m)}return b}var Fr=pm(!0),mm=pm(!1),Ma=Nn(null),Fa=null,_r=null,Cc=null;function Nc(){Cc=_r=Fa=null}function jc(e){var t=Ma.current;ne(Ma),e._currentValue=t}function cu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){Fa=e,Cc=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Cc!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(Fa===null)throw Error($(308));_r=e,Fa.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Mn=null;function $c(e){Mn===null?Mn=[e]:Mn.push(e)}function gm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$c(t)):(n.next=s.next,s.next=n),t.interleaved=n,Yt(e,r)}function Yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ym(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Yt(e,n)}return s=r.interleaved,s===null?(t.next=t,$c(r)):(t.next=s.next,s.next=t),r.interleaved=t,Yt(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mc(e,n)}}function gf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var s=e.updateQueue;sn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,f=u=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,x=o;switch(h=t,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ae({},d,h);break e;case 2:sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=p,l=d):f=f.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gn|=a,e.lanes=a,e.memoizedState=d}}function yf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var pi={},Mt=Nn(pi),Qs=Nn(pi),Gs=Nn(pi);function Fn(e){if(e===pi)throw Error($(174));return e}function Ic(e,t){switch(ee(Gs,t),ee(Qs,e),ee(Mt,pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hl(t,e)}ne(Mt),ee(Mt,t)}function Dr(){ne(Mt),ne(Qs),ne(Gs)}function vm(e){Fn(Gs.current);var t=Fn(Mt.current),n=Hl(t,e.type);t!==n&&(ee(Qs,e),ee(Mt,n))}function Lc(e){Qs.current===e&&(ne(Mt),ne(Qs))}var se=Nn(0);function Ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function Rc(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var oa=Gt.ReactCurrentDispatcher,ll=Gt.ReactCurrentBatchConfig,Qn=0,ie=null,xe=null,ke=null,Ua=!1,$s=!1,Xs=0,Gx=0;function Re(){throw Error($(321))}function Tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function Ac(e,t,n,r,s,i){if(Qn=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=e===null||e.memoizedState===null?tw:nw,e=n(r,s),$s){i=0;do{if($s=!1,Xs=0,25<=i)throw Error($(301));i+=1,ke=xe=null,t.updateQueue=null,oa.current=rw,e=n(r,s)}while($s)}if(oa.current=za,t=xe!==null&&xe.next!==null,Qn=0,ke=xe=ie=null,Ua=!1,t)throw Error($(300));return e}function Oc(){var e=Xs!==0;return Xs=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ie.memoizedState=ke=e:ke=ke.next=e,ke}function gt(){if(xe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=ke===null?ie.memoizedState:ke.next;if(t!==null)ke=t,xe=e;else{if(e===null)throw Error($(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},ke===null?ie.memoizedState=ke=e:ke=ke.next=e}return ke}function Zs(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=gt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var f=u.lane;if((Qn&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ie.lanes|=f,Gn|=f}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,Nt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ie.lanes|=i,Gn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cl(e){var t=gt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Nt(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xm(){}function wm(e,t){var n=ie,r=gt(),s=t(),i=!Nt(r.memoizedState,s);if(i&&(r.memoizedState=s,Je=!0),r=r.queue,Mc(_m.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,ei(9,bm.bind(null,n,r,s,t),void 0,null),Ee===null)throw Error($(349));Qn&30||Sm(n,t,s)}return s}function Sm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bm(e,t,n,r){t.value=n,t.getSnapshot=r,km(t)&&Em(e)}function _m(e,t,n){return n(function(){km(t)&&Em(e)})}function km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function Em(e){var t=Yt(e,1);t!==null&&Ct(t,e,1,-1)}function vf(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=ew.bind(null,ie,e),[t.memoizedState,e]}function ei(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cm(){return gt().memoizedState}function la(e,t,n,r){var s=It();ie.flags|=e,s.memoizedState=ei(1|t,n,void 0,r===void 0?null:r)}function mo(e,t,n,r){var s=gt();r=r===void 0?null:r;var i=void 0;if(xe!==null){var a=xe.memoizedState;if(i=a.destroy,r!==null&&Tc(r,a.deps)){s.memoizedState=ei(t,n,i,r);return}}ie.flags|=e,s.memoizedState=ei(1|t,n,i,r)}function xf(e,t){return la(8390656,8,e,t)}function Mc(e,t){return mo(2048,8,e,t)}function Nm(e,t){return mo(4,2,e,t)}function jm(e,t){return mo(4,4,e,t)}function $m(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pm(e,t,n){return n=n!=null?n.concat([e]):null,mo(4,4,$m.bind(null,t,e),n)}function Fc(){}function Im(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lm(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rm(e,t,n){return Qn&21?(Nt(n,t)||(n=Fp(),ie.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Xx(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=ll.transition;ll.transition={};try{e(!1),t()}finally{G=n,ll.transition=r}}function Tm(){return gt().memoizedState}function Zx(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Am(e))Om(t,n);else if(n=gm(e,t,n,r),n!==null){var s=Ue();Ct(n,e,r,s),Mm(n,t,r)}}function ew(e,t,n){var r=wn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Am(e))Om(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Nt(o,a)){var l=t.interleaved;l===null?(s.next=s,$c(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=gm(e,t,s,r),n!==null&&(s=Ue(),Ct(n,e,r,s),Mm(n,t,r))}}function Am(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Om(e,t){$s=Ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mc(e,n)}}var za={readContext:mt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},tw={readContext:mt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:xf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,la(4194308,4,$m.bind(null,t,e),n)},useLayoutEffect:function(e,t){return la(4194308,4,e,t)},useInsertionEffect:function(e,t){return la(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zx.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:vf,useDebugValue:Fc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=vf(!1),t=e[0];return e=Xx.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,s=It();if(re){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ee===null)throw Error($(349));Qn&30||Sm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,xf(_m.bind(null,r,i,e),[e]),r.flags|=2048,ei(9,bm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=It(),t=Ee.identifierPrefix;if(re){var n=Ht,r=Wt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nw={readContext:mt,useCallback:Im,useContext:mt,useEffect:Mc,useImperativeHandle:Pm,useInsertionEffect:Nm,useLayoutEffect:jm,useMemo:Lm,useReducer:ul,useRef:Cm,useState:function(){return ul(Zs)},useDebugValue:Fc,useDeferredValue:function(e){var t=gt();return Rm(t,xe.memoizedState,e)},useTransition:function(){var e=ul(Zs)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:wm,useId:Tm,unstable_isNewReconciler:!1},rw={readContext:mt,useCallback:Im,useContext:mt,useEffect:Mc,useImperativeHandle:Pm,useInsertionEffect:Nm,useLayoutEffect:jm,useMemo:Lm,useReducer:cl,useRef:Cm,useState:function(){return cl(Zs)},useDebugValue:Fc,useDeferredValue:function(e){var t=gt();return xe===null?t.memoizedState=e:Rm(t,xe.memoizedState,e)},useTransition:function(){var e=cl(Zs)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:wm,useId:Tm,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function du(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),s=wn(e),i=Vt(r,s);i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,s),t!==null&&(Ct(t,e,s,r),aa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),s=wn(e),i=Vt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,s),t!==null&&(Ct(t,e,s,r),aa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=wn(e),s=Vt(n,r);s.tag=2,t!=null&&(s.callback=t),t=vn(e,s,r),t!==null&&(Ct(t,e,r,n),aa(t,e,r))}};function wf(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ks(n,r)||!Ks(s,i):!0}function Fm(e,t,n){var r=!1,s=En,i=t.contextType;return typeof i=="object"&&i!==null?i=mt(i):(s=Qe(t)?Jn:Me.current,r=t.contextTypes,i=(r=r!=null)?Or(e,s):En),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function fu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=mt(i):(i=Qe(t)?Jn:Me.current,s.context=Or(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(du(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&go.enqueueReplaceState(s,s.state,null),Da(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",r=t;do n+=Iv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function Dm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ha||(Ha=!0,_u=r),hu(e,t)},n}function Bm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hu(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function bf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vw.bind(null,e,t,n),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var iw=Gt.ReactCurrentOwner,Je=!1;function Be(e,t,n,r){t.child=e===null?mm(t,null,n,r):Fr(t,e.child,n,r)}function Ef(e,t,n,r,s){n=n.render;var i=t.ref;return Lr(t,s),r=Ac(e,t,n,r,i,s),n=Oc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(re&&n&&_c(t),t.flags|=1,Be(e,t,r,s),t.child)}function Cf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Kc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Um(e,t,i,r,s)):(e=fa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(a,r)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=Sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ks(i,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return pu(e,t,n,r,s)}function zm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Er,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Er,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Er,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(Er,nt),nt|=r;return Be(e,t,s,n),t.child}function Wm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pu(e,t,n,r,s){var i=Qe(n)?Jn:Me.current;return i=Or(t,i),Lr(t,s),n=Ac(e,t,n,r,i,s),r=Oc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(re&&r&&_c(t),t.flags|=1,Be(e,t,n,s),t.child)}function Nf(e,t,n,r,s){if(Qe(n)){var i=!0;Ta(t)}else i=!1;if(Lr(t,s),t.stateNode===null)ua(e,t),Fm(t,n,r),fu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Qe(n)?Jn:Me.current,u=Or(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Sf(t,a,r,u),sn=!1;var h=t.memoizedState;a.state=h,Da(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Ye.current||sn?(typeof f=="function"&&(du(t,n,f,r),l=t.memoizedState),(o=sn||wf(t,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ym(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:vt(t.type,o),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=mt(l):(l=Qe(n)?Jn:Me.current,l=Or(t,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Sf(t,a,r,l),sn=!1,h=t.memoizedState,a.state=h,Da(t,r,a,s);var g=t.memoizedState;o!==d||h!==g||Ye.current||sn?(typeof p=="function"&&(du(t,n,p,r),g=t.memoizedState),(u=sn||wf(t,n,u,r,h,g,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return mu(e,t,n,r,i,s)}function mu(e,t,n,r,s,i){Wm(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&ff(t,n,!1),Qt(e,t,i);r=t.stateNode,iw.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Fr(t,e.child,null,i),t.child=Fr(t,null,o,i)):Be(e,t,o,i),t.memoizedState=r.state,s&&ff(t,n,!0),t.child}function Hm(e){var t=e.stateNode;t.pendingContext?df(e,t.pendingContext,t.pendingContext!==t.context):t.context&&df(e,t.context,!1),Ic(e,t.containerInfo)}function jf(e,t,n,r,s){return Mr(),Ec(s),t.flags|=256,Be(e,t,n,r),t.child}var gu={dehydrated:null,treeContext:null,retryLane:0};function yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vm(e,t,n){var r=t.pendingProps,s=se.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(se,s&1),e===null)return uu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xo(a,r,0,null),e=Vn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yu(n),t.memoizedState=gu,e):Dc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return aw(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Sn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Sn(o,i):(i=Vn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?yu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=gu,r}return i=e.child,e=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Dc(e,t){return t=xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bi(e,t,n,r){return r!==null&&Ec(r),Fr(t,e.child,null,n),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aw(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=dl(Error($(422))),Bi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xo({mode:"visible",children:r.children},s,0,null),i=Vn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Fr(t,e.child,null,a),t.child.memoizedState=yu(a),t.memoizedState=gu,i);if(!(t.mode&1))return Bi(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error($(419)),r=dl(i,r,void 0),Bi(e,t,a,r)}if(o=(a&e.childLanes)!==0,Je||o){if(r=Ee,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yt(e,s),Ct(r,e,s,-1))}return Vc(),r=dl(Error($(421))),Bi(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=yn(s.nextSibling),st=t,re=!0,St=null,e!==null&&(ct[dt++]=Wt,ct[dt++]=Ht,ct[dt++]=Yn,Wt=e.id,Ht=e.overflow,Yn=t),t=Dc(t,r.children),t.flags|=4096,t)}function $f(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cu(e.return,t,n)}function fl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Km(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Be(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,n,t);else if(e.tag===19)$f(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ba(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ba(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fl(t,!0,n,null,i);break;case"together":fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ow(e,t,n){switch(t.tag){case 3:Hm(t),Mr();break;case 5:vm(t);break;case 1:Qe(t.type)&&Ta(t);break;case 4:Ic(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(Ma,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Vm(e,t,n):(ee(se,se.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);ee(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Km(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,zm(e,t,n)}return Qt(e,t,n)}var qm,vu,Jm,Ym;qm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vu=function(){};Jm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fn(Mt.current);var i=null;switch(n){case"input":s=Bl(e,s),r=Bl(e,r),i=[];break;case"select":s=ae({},s,{value:void 0}),r=ae({},r,{value:void 0}),i=[];break;case"textarea":s=Wl(e,s),r=Wl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=La)}Vl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ds.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ym=function(e,t,n,r){n!==r&&(t.flags|=4)};function rs(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lw(e,t,n){var r=t.pendingProps;switch(kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Qe(t.type)&&Ra(),Te(t),null;case 3:return r=t.stateNode,Dr(),ne(Ye),ne(Me),Rc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Cu(St),St=null))),vu(e,t),Te(t),null;case 5:Lc(t);var s=Fn(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)Jm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Te(t),null}if(e=Fn(Mt.current),Fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rt]=t,r[Ys]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<cs.length;s++)te(cs[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Md(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Dd(r,i),te("invalid",r)}Vl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Mi(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Mi(r.textContent,o,e),s=["children",""+o]):Ds.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&te("scroll",r)}switch(n){case"input":$i(r),Fd(r,i,!0);break;case"textarea":$i(r),Bd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=La)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_p(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Rt]=t,e[Ys]=r,qm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Kl(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<cs.length;s++)te(cs[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":Md(e,r),s=Bl(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ae({},r,{value:void 0}),te("invalid",e);break;case"textarea":Dd(e,r),s=Wl(e,r),te("invalid",e);break;default:s=r}Vl(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Cp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bs(e,l):typeof l=="number"&&Bs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ds.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",e):l!=null&&uc(e,i,l,a))}switch(n){case"input":$i(e),Fd(e,r,!1);break;case"textarea":$i(e),Bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Ym(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=Fn(Gs.current),Fn(Mt.current),Fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:Mi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Te(t),null;case 13:if(ne(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&rt!==null&&t.mode&1&&!(t.flags&128))hm(),Mr(),t.flags|=98560,i=!1;else if(i=Fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Rt]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else St!==null&&(Cu(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?we===0&&(we=3):Vc())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return Dr(),vu(e,t),e===null&&qs(t.stateNode.containerInfo),Te(t),null;case 10:return jc(t.type._context),Te(t),null;case 17:return Qe(t.type)&&Ra(),Te(t),null;case 19:if(ne(se),i=t.memoizedState,i===null)return Te(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)rs(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ba(e),a!==null){for(t.flags|=128,rs(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Ur&&(t.flags|=128,r=!0,rs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ba(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!re)return Te(t),null}else 2*ue()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,rs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=se.current,ee(se,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Hc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function uw(e,t){switch(kc(t),t.tag){case 1:return Qe(t.type)&&Ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ne(Ye),ne(Me),Rc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lc(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return Dr(),null;case 10:return jc(t.type._context),null;case 22:case 23:return Hc(),null;case 24:return null;default:return null}}var Ui=!1,Oe=!1,cw=typeof WeakSet=="function"?WeakSet:Set,A=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function xu(e,t,n){try{n()}catch(r){oe(e,t,r)}}var Pf=!1;function dw(e,t){if(nu=$a,e=em(),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===s&&(o=a),h===i&&++f===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:e,selectionRange:n},$a=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:vt(t.type,x),b);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){oe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return g=Pf,Pf=!1,g}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xu(t,n,i)}s=s.next}while(s!==r)}}function yo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Ys],delete t[au],delete t[qx],delete t[Jx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gm(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=La));else if(r!==4&&(e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Ce=null,wt=!1;function en(e,t,n){for(n=n.child;n!==null;)Xm(e,t,n),n=n.sibling}function Xm(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(lo,n)}catch{}switch(n.tag){case 5:Oe||kr(n,t);case 6:var r=Ce,s=wt;Ce=null,en(e,t,n),Ce=r,wt=s,Ce!==null&&(wt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(wt?(e=Ce,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),Hs(e)):il(Ce,n.stateNode));break;case 4:r=Ce,s=wt,Ce=n.stateNode.containerInfo,wt=!0,en(e,t,n),Ce=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&xu(n,t,a),s=s.next}while(s!==r)}en(e,t,n);break;case 1:if(!Oe&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){oe(n,t,o)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,en(e,t,n),Oe=r):en(e,t,n);break;default:en(e,t,n)}}function Lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cw),t.forEach(function(r){var s=ww.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ce=o.stateNode,wt=!1;break e;case 3:Ce=o.stateNode.containerInfo,wt=!0;break e;case 4:Ce=o.stateNode.containerInfo,wt=!0;break e}o=o.return}if(Ce===null)throw Error($(160));Xm(i,a,s),Ce=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}function Zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),jt(e),r&4){try{Ps(3,e,e.return),yo(3,e)}catch(x){oe(e,e.return,x)}try{Ps(5,e,e.return)}catch(x){oe(e,e.return,x)}}break;case 1:yt(t,e),jt(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(yt(t,e),jt(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var s=e.stateNode;try{Bs(s,"")}catch(x){oe(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Sp(s,i),Kl(o,a);var u=Kl(o,i);for(a=0;a<l.length;a+=2){var f=l[a],d=l[a+1];f==="style"?Cp(s,d):f==="dangerouslySetInnerHTML"?kp(s,d):f==="children"?Bs(s,d):uc(s,f,d,u)}switch(o){case"input":Ul(s,i);break;case"textarea":bp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?jr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ys]=i}catch(x){oe(e,e.return,x)}}break;case 6:if(yt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){oe(e,e.return,x)}}break;case 3:if(yt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(t.containerInfo)}catch(x){oe(e,e.return,x)}break;case 4:yt(t,e),jt(e);break;case 13:yt(t,e),jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zc=ue())),r&4&&Lf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||f,yt(t,e),Oe=u):yt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(A=e,f=e.child;f!==null;){for(d=A=f;A!==null;){switch(h=A,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ps(4,h,h.return);break;case 1:kr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){oe(r,n,x)}}break;case 5:kr(h,h.return);break;case 22:if(h.memoizedState!==null){Tf(d);continue}}p!==null?(p.return=h,A=p):Tf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ep("display",a))}catch(x){oe(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){oe(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),jt(e),r&4&&Lf(e);break;case 21:break;default:yt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gm(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bs(s,""),r.flags&=-33);var i=If(e);bu(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=If(e);Su(e,o,a);break;default:throw Error($(161))}}catch(l){oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fw(e,t,n){A=e,eg(e)}function eg(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ui;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Oe;o=Ui;var u=Oe;if(Ui=a,(Oe=l)&&!u)for(A=s;A!==null;)a=A,l=a.child,a.tag===22&&a.memoizedState!==null?Af(s):l!==null?(l.return=a,A=l):Af(s);for(;i!==null;)A=i,eg(i),i=i.sibling;A=s,Ui=o,Oe=u}Rf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Rf(e)}}function Rf(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||yo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yf(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yf(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Hs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Oe||t.flags&512&&wu(t)}catch(h){oe(t,t.return,h)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Tf(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Af(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yo(4,t)}catch(l){oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){oe(t,s,l)}}var i=t.return;try{wu(t)}catch(l){oe(t,i,l)}break;case 5:var a=t.return;try{wu(t)}catch(l){oe(t,a,l)}}}catch(l){oe(t,t.return,l)}if(t===e){A=null;break}var o=t.sibling;if(o!==null){o.return=t.return,A=o;break}A=t.return}}var hw=Math.ceil,Wa=Gt.ReactCurrentDispatcher,Bc=Gt.ReactCurrentOwner,pt=Gt.ReactCurrentBatchConfig,Q=0,Ee=null,de=null,je=0,nt=0,Er=Nn(0),we=0,ti=null,Gn=0,vo=0,Uc=0,Is=null,qe=null,zc=0,Ur=1/0,Ut=null,Ha=!1,_u=null,xn=null,zi=!1,cn=null,Va=0,Ls=0,ku=null,ca=-1,da=0;function Ue(){return Q&6?ue():ca!==-1?ca:ca=ue()}function wn(e){return e.mode&1?Q&2&&je!==0?je&-je:Qx.transition!==null?(da===0&&(da=Fp()),da):(e=G,e!==0||(e=window.event,e=e===void 0?16:Vp(e.type)),e):1}function Ct(e,t,n,r){if(50<Ls)throw Ls=0,ku=null,Error($(185));di(e,n,r),(!(Q&2)||e!==Ee)&&(e===Ee&&(!(Q&2)&&(vo|=n),we===4&&on(e,je)),Ge(e,r),n===1&&Q===0&&!(t.mode&1)&&(Ur=ue()+500,po&&jn()))}function Ge(e,t){var n=e.callbackNode;Qv(e,t);var r=ja(e,e===Ee?je:0);if(r===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?Yx(Of.bind(null,e)):cm(Of.bind(null,e)),Vx(function(){!(Q&6)&&jn()}),n=null;else{switch(Dp(r)){case 1:n=pc;break;case 4:n=Op;break;case 16:n=Na;break;case 536870912:n=Mp;break;default:n=Na}n=lg(n,tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tg(e,t){if(ca=-1,da=0,Q&6)throw Error($(327));var n=e.callbackNode;if(Rr()&&e.callbackNode!==n)return null;var r=ja(e,e===Ee?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ka(e,r);else{t=r;var s=Q;Q|=2;var i=rg();(Ee!==e||je!==t)&&(Ut=null,Ur=ue()+500,Hn(e,t));do try{gw();break}catch(o){ng(e,o)}while(!0);Nc(),Wa.current=i,Q=s,de!==null?t=0:(Ee=null,je=0,t=we)}if(t!==0){if(t===2&&(s=Gl(e),s!==0&&(r=s,t=Eu(e,s))),t===1)throw n=ti,Hn(e,0),on(e,r),Ge(e,ue()),n;if(t===6)on(e,r);else{if(s=e.current.alternate,!(r&30)&&!pw(s)&&(t=Ka(e,r),t===2&&(i=Gl(e),i!==0&&(r=i,t=Eu(e,i))),t===1))throw n=ti,Hn(e,0),on(e,r),Ge(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:In(e,qe,Ut);break;case 3:if(on(e,r),(r&130023424)===r&&(t=zc+500-ue(),10<t)){if(ja(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=iu(In.bind(null,e,qe,Ut),t);break}In(e,qe,Ut);break;case 4:if(on(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Et(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hw(r/1960))-r,10<r){e.timeoutHandle=iu(In.bind(null,e,qe,Ut),r);break}In(e,qe,Ut);break;case 5:In(e,qe,Ut);break;default:throw Error($(329))}}}return Ge(e,ue()),e.callbackNode===n?tg.bind(null,e):null}function Eu(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=qe,qe=n,t!==null&&Cu(t)),e}function Cu(e){qe===null?qe=e:qe.push.apply(qe,e)}function pw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Uc,t&=~vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function Of(e){if(Q&6)throw Error($(327));Rr();var t=ja(e,0);if(!(t&1))return Ge(e,ue()),null;var n=Ka(e,t);if(e.tag!==0&&n===2){var r=Gl(e);r!==0&&(t=r,n=Eu(e,r))}if(n===1)throw n=ti,Hn(e,0),on(e,t),Ge(e,ue()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,qe,Ut),Ge(e,ue()),null}function Wc(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Ur=ue()+500,po&&jn())}}function Xn(e){cn!==null&&cn.tag===0&&!(Q&6)&&Rr();var t=Q;Q|=1;var n=pt.transition,r=G;try{if(pt.transition=null,G=1,e)return e()}finally{G=r,pt.transition=n,Q=t,!(Q&6)&&jn()}}function Hc(){nt=Er.current,ne(Er)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hx(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ra();break;case 3:Dr(),ne(Ye),ne(Me),Rc();break;case 5:Lc(r);break;case 4:Dr();break;case 13:ne(se);break;case 19:ne(se);break;case 10:jc(r.type._context);break;case 22:case 23:Hc()}n=n.return}if(Ee=e,de=e=Sn(e.current,null),je=nt=t,we=0,ti=null,Uc=vo=Gn=0,qe=Is=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Mn=null}return e}function ng(e,t){do{var n=de;try{if(Nc(),oa.current=za,Ua){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ua=!1}if(Qn=0,ke=xe=ie=null,$s=!1,Xs=0,Bc.current=null,n===null||n.return===null){we=1,ti=t,de=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=je,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=_f(a);if(p!==null){p.flags&=-257,kf(p,a,o,i,t),p.mode&1&&bf(i,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(l),t.updateQueue=x}else g.add(l);break e}else{if(!(t&1)){bf(i,u,t),Vc();break e}l=Error($(426))}}else if(re&&o.mode&1){var b=_f(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),kf(b,a,o,i,t),Ec(Br(l,o));break e}}i=l=Br(l,o),we!==4&&(we=2),Is===null?Is=[i]:Is.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Dm(i,l,t);gf(i,v);break e;case 1:o=l;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xn===null||!xn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Bm(i,o,t);gf(i,S);break e}}i=i.return}while(i!==null)}ig(n)}catch(_){t=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function rg(){var e=Wa.current;return Wa.current=za,e===null?za:e}function Vc(){(we===0||we===3||we===2)&&(we=4),Ee===null||!(Gn&268435455)&&!(vo&268435455)||on(Ee,je)}function Ka(e,t){var n=Q;Q|=2;var r=rg();(Ee!==e||je!==t)&&(Ut=null,Hn(e,t));do try{mw();break}catch(s){ng(e,s)}while(!0);if(Nc(),Q=n,Wa.current=r,de!==null)throw Error($(261));return Ee=null,je=0,we}function mw(){for(;de!==null;)sg(de)}function gw(){for(;de!==null&&!Uv();)sg(de)}function sg(e){var t=og(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?ig(e):de=t,Bc.current=null}function ig(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uw(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,de=null;return}}else if(n=lw(n,t,nt),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);we===0&&(we=5)}function In(e,t,n){var r=G,s=pt.transition;try{pt.transition=null,G=1,yw(e,t,n,r)}finally{pt.transition=s,G=r}return null}function yw(e,t,n,r){do Rr();while(cn!==null);if(Q&6)throw Error($(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gv(e,i),e===Ee&&(de=Ee=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zi||(zi=!0,lg(Na,function(){return Rr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var a=G;G=1;var o=Q;Q|=4,Bc.current=null,dw(e,n),Zm(n,e),Mx(ru),$a=!!nu,ru=nu=null,e.current=n,fw(n),zv(),Q=o,G=a,pt.transition=i}else e.current=n;if(zi&&(zi=!1,cn=e,Va=s),i=e.pendingLanes,i===0&&(xn=null),Vv(n.stateNode),Ge(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ha)throw Ha=!1,e=_u,_u=null,e;return Va&1&&e.tag!==0&&Rr(),i=e.pendingLanes,i&1?e===ku?Ls++:(Ls=0,ku=e):Ls=0,jn(),null}function Rr(){if(cn!==null){var e=Dp(Va),t=pt.transition,n=G;try{if(pt.transition=null,G=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Va=0,Q&6)throw Error($(331));var s=Q;for(Q|=4,A=e.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(A=u;A!==null;){var f=A;switch(f.tag){case 0:case 11:case 15:Ps(8,f,i)}var d=f.child;if(d!==null)d.return=f,A=d;else for(;A!==null;){f=A;var h=f.sibling,p=f.return;if(Qm(f),f===u){A=null;break}if(h!==null){h.return=p,A=h;break}A=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ps(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,A=v;break e}A=i.return}}var m=e.current;for(A=m;A!==null;){a=A;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,A=w;else e:for(a=m;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:yo(9,o)}}catch(_){oe(o,o.return,_)}if(o===a){A=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,A=S;break e}A=o.return}}if(Q=s,jn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(lo,e)}catch{}r=!0}return r}finally{G=n,pt.transition=t}}return!1}function Mf(e,t,n){t=Br(n,t),t=Dm(e,t,1),e=vn(e,t,1),t=Ue(),e!==null&&(di(e,1,t),Ge(e,t))}function oe(e,t,n){if(e.tag===3)Mf(e,e,n);else for(;t!==null;){if(t.tag===3){Mf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=Br(n,e),e=Bm(t,e,1),t=vn(t,e,1),e=Ue(),t!==null&&(di(t,1,e),Ge(t,e));break}}t=t.return}}function vw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(je&n)===n&&(we===4||we===3&&(je&130023424)===je&&500>ue()-zc?Hn(e,0):Uc|=n),Ge(e,t)}function ag(e,t){t===0&&(e.mode&1?(t=Li,Li<<=1,!(Li&130023424)&&(Li=4194304)):t=1);var n=Ue();e=Yt(e,t),e!==null&&(di(e,t,n),Ge(e,n))}function xw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ag(e,n)}function ww(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),ag(e,n)}var og;og=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,ow(e,t,n);Je=!!(e.flags&131072)}else Je=!1,re&&t.flags&1048576&&dm(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ua(e,t),e=t.pendingProps;var s=Or(t,Me.current);Lr(t,n),s=Ac(null,t,r,e,s,n);var i=Oc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(i=!0,Ta(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pc(t),s.updater=go,t.stateNode=s,s._reactInternals=t,fu(t,r,e,n),t=mu(null,t,r,!0,i,n)):(t.tag=0,re&&i&&_c(t),Be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ua(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bw(r),e=vt(r,e),s){case 0:t=pu(null,t,r,e,n);break e;case 1:t=Nf(null,t,r,e,n);break e;case 11:t=Ef(null,t,r,e,n);break e;case 14:t=Cf(null,t,r,vt(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),pu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Nf(e,t,r,s,n);case 3:e:{if(Hm(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ym(e,t),Da(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Br(Error($(423)),t),t=jf(e,t,r,n,s);break e}else if(r!==s){s=Br(Error($(424)),t),t=jf(e,t,r,n,s);break e}else for(rt=yn(t.stateNode.containerInfo.firstChild),st=t,re=!0,St=null,n=mm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===s){t=Qt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return vm(t),e===null&&uu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,su(r,s)?a=null:i!==null&&su(r,i)&&(t.flags|=32),Wm(e,t),Be(e,t,a,n),t.child;case 6:return e===null&&uu(t),null;case 13:return Vm(e,t,n);case 4:return Ic(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Ef(e,t,r,s,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ee(Ma,r._currentValue),r._currentValue=a,i!==null)if(Nt(i.value,a)){if(i.children===s.children&&!Ye.current){t=Qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cu(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),cu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Lr(t,n),s=mt(s),r=r(s),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,s=vt(r,t.pendingProps),s=vt(r.type,s),Cf(e,t,r,s,n);case 15:return Um(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),ua(e,t),t.tag=1,Qe(r)?(e=!0,Ta(t)):e=!1,Lr(t,n),Fm(t,r,s),fu(t,r,s,n),mu(null,t,r,!0,e,n);case 19:return Km(e,t,n);case 22:return zm(e,t,n)}throw Error($(156,t.tag))};function lg(e,t){return Ap(e,t)}function Sw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new Sw(e,t,n,r)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bw(e){if(typeof e=="function")return Kc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dc)return 11;if(e===fc)return 14}return 2}function Sn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fa(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Kc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case mr:return Vn(n.children,s,i,t);case cc:a=8,s|=8;break;case Ol:return e=ft(12,n,t,s|2),e.elementType=Ol,e.lanes=i,e;case Ml:return e=ft(13,n,t,s),e.elementType=Ml,e.lanes=i,e;case Fl:return e=ft(19,n,t,s),e.elementType=Fl,e.lanes=i,e;case vp:return xo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gp:a=10;break e;case yp:a=9;break e;case dc:a=11;break e;case fc:a=14;break e;case rn:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ft(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Vn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function xo(e,t,n,r){return e=ft(22,e,r,t),e.elementType=vp,e.lanes=n,e.stateNode={isHidden:!1},e}function hl(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function pl(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _w(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,s,i,a,o,l){return e=new _w(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(i),e}function kw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ug(e){if(!e)return En;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Qe(n))return um(e,n,t)}return t}function cg(e,t,n,r,s,i,a,o,l){return e=qc(n,r,!0,e,s,i,a,o,l),e.context=ug(null),n=e.current,r=Ue(),s=wn(n),i=Vt(r,s),i.callback=t??null,vn(n,i,s),e.current.lanes=s,di(e,s,r),Ge(e,r),e}function wo(e,t,n,r){var s=t.current,i=Ue(),a=wn(s);return n=ug(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(s,t,a),e!==null&&(Ct(e,s,a,i),aa(e,s,a)),a}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jc(e,t){Ff(e,t),(e=e.alternate)&&Ff(e,t)}function Ew(){return null}var dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}So.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));wo(e,t,null,null)};So.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){wo(null,e,null,null)}),t[Jt]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=zp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Hp(e)}};function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Df(){}function Cw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qa(a);i.call(u)}}var a=cg(t,r,e,0,null,!1,!1,"",Df);return e._reactRootContainer=a,e[Jt]=a.current,qs(e.nodeType===8?e.parentNode:e),Xn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=qa(l);o.call(u)}}var l=qc(e,0,!1,null,null,!1,!1,"",Df);return e._reactRootContainer=l,e[Jt]=l.current,qs(e.nodeType===8?e.parentNode:e),Xn(function(){wo(t,l,n,r)}),l}function _o(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=qa(a);o.call(l)}}wo(t,a,e,s)}else a=Cw(n,t,e,s,r);return qa(a)}Bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=us(t.pendingLanes);n!==0&&(mc(t,n|1),Ge(t,ue()),!(Q&6)&&(Ur=ue()+500,jn()))}break;case 13:Xn(function(){var r=Yt(e,1);if(r!==null){var s=Ue();Ct(r,e,1,s)}}),Jc(e,1)}};gc=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var n=Ue();Ct(t,e,134217728,n)}Jc(e,134217728)}};Up=function(e){if(e.tag===13){var t=wn(e),n=Yt(e,t);if(n!==null){var r=Ue();Ct(n,e,t,r)}Jc(e,t)}};zp=function(){return G};Wp=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};Jl=function(e,t,n){switch(t){case"input":if(Ul(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ho(r);if(!s)throw Error($(90));wp(r),Ul(r,s)}}}break;case"textarea":bp(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};$p=Wc;Pp=Xn;var Nw={usingClientEntryPoint:!1,Events:[hi,xr,ho,Np,jp,Wc]},ss={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jw={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rp(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||Ew,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{lo=Wi.inject(jw),Ot=Wi}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nw;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(t))throw Error($(200));return kw(e,t,null,n)};at.createRoot=function(e,t){if(!Qc(e))throw Error($(299));var n=!1,r="",s=dg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qc(e,1,!1,null,null,n,!1,r,s),e[Jt]=t.current,qs(e.nodeType===8?e.parentNode:e),new Yc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Rp(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Xn(e)};at.hydrate=function(e,t,n){if(!bo(t))throw Error($(200));return _o(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=dg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=cg(t,null,e,1,n??null,s,!1,i,a),e[Jt]=t.current,qs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new So(t)};at.render=function(e,t,n){if(!bo(t))throw Error($(200));return _o(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!bo(e))throw Error($(40));return e._reactRootContainer?(Xn(function(){_o(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};at.unstable_batchedUpdates=Wc;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bo(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return _o(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function fg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fg)}catch(e){console.error(e)}}fg(),fp.exports=at;var hg=fp.exports,pg,Bf=hg;pg=Bf.createRoot,Bf.hydrateRoot;const W=e=>typeof e=="string",is=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},Uf=e=>e==null?"":""+e,$w=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Pw=/###/g,zf=e=>e&&e.indexOf("###")>-1?e.replace(Pw,"."):e,Wf=e=>!e||W(e),Rs=(e,t,n)=>{const r=W(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(Wf(e))return{};const i=zf(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return Wf(e)?{}:{obj:e,k:zf(r[s])}},Hf=(e,t,n)=>{const{obj:r,k:s}=Rs(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],a=t.slice(0,t.length-1),o=Rs(e,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Rs(e,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},Iw=(e,t,n,r)=>{const{obj:s,k:i}=Rs(e,t,Object);s[i]=s[i]||[],s[i].push(n)},Ja=(e,t)=>{const{obj:n,k:r}=Rs(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Lw=(e,t,n)=>{const r=Ja(e,n);return r!==void 0?r:Ja(t,n)},mg=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?W(e[r])||e[r]instanceof String||W(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):mg(e[r],t[r],n):e[r]=t[r]);return e},or=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Rw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Tw=e=>W(e)?e.replace(/[&<>"'\/]/g,t=>Rw[t]):e;class Aw{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Ow=[" ",",","?","!",";"],Mw=new Aw(20),Fw=(e,t,n)=>{t=t||"",n=n||"";const r=Ow.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=Mw.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(e);if(!i){const a=e.indexOf(n);a>0&&!s.test(e.substring(0,a))&&(i=!0)}return i},Nu=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},ni=e=>e==null?void 0:e.replace("_","-"),Dw={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Ya{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Dw,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(W(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Ya(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Ya(this.logger,t)}}var Tt=new Ya;class ko{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[t,...n])})}}class Vf extends ko{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){var u,f;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,n],r&&(Array.isArray(r)?o.push(...r):W(r)&&i?o.push(...r.split(i)):o.push(r)));const l=Ja(this.data,o);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!W(r)?l:Nu((f=(u=this.data)==null?void 0:u[t])==null?void 0:f[n],r,i)}addResource(t,n,r,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,n];r&&(o=o.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(o=t.split("."),s=n,n=o[1]),this.addNamespaces(n),Hf(this.data,o,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const i in r)(W(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i,a={silent:!1,skipCopy:!1}){let o=[t,n];t.indexOf(".")>-1&&(o=t.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let l=Ja(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?mg(l,r,i):l={...l,...r},Hf(this.data,o,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var gg={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{var a;t=((a=this.processors[i])==null?void 0:a.process(t,n,r,s))??t}),t}};const Kf={},qf=e=>!W(e)&&typeof e!="boolean"&&typeof e!="number";class Qa extends ko{constructor(t,n={}){super(),$w(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Tt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Fw(t,r,s);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:W(i)?[i]:i};const u=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(s)}return{key:t,namespaces:W(i)?[i]:i}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],s),u=l[l.length-1];let f=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const d=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?i?{res:`${u}${f}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${f}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:o;const p=this.resolve(t,s);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||o,b=(p==null?void 0:p.exactUsedKey)||o,v=["[object Number]","[object Function]","[object RegExp]"],m=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=s.count!==void 0&&!W(s.count),_=Qa.hasDefaultValue(s),C=S?this.pluralResolver.getSuffix(d,s.count,s):"",E=s.ordinal&&S?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",j=S&&!s.ordinal&&s.count===0,P=j&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${C}`]||s[`defaultValue${E}`]||s.defaultValue;let N=g;w&&!g&&_&&(N=P);const R=qf(N),X=Object.prototype.toString.apply(N);if(w&&N&&R&&v.indexOf(X)<0&&!(W(m)&&Array.isArray(N))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,N,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=Y,p.usedParams=this.getUsedParamsDetails(s),p):Y}if(a){const Y=Array.isArray(N),Z=Y?[]:{},Fe=Y?b:x;for(const le in N)if(Object.prototype.hasOwnProperty.call(N,le)){const ce=`${Fe}${a}${le}`;_&&!g?Z[le]=this.translate(ce,{...s,defaultValue:qf(P)?P[le]:void 0,joinArrays:!1,ns:l}):Z[le]=this.translate(ce,{...s,joinArrays:!1,ns:l}),Z[le]===ce&&(Z[le]=N[le])}g=Z}}else if(w&&W(m)&&Array.isArray(g))g=g.join(m),g&&(g=this.extendTranslation(g,t,s,r));else{let Y=!1,Z=!1;!this.isValidLookup(g)&&_&&(Y=!0,g=P),this.isValidLookup(g)||(Z=!0,g=o);const le=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:g,ce=_&&P!==g&&this.options.updateMissing;if(Z||Y||ce){if(this.logger.log(ce?"updateKey":"missingKey",d,u,o,ce?P:g),a){const M=this.resolve(o,{...s,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let M=0;M<O.length;M++)I.push(O[M]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(s.lng||this.language):I.push(s.lng||this.language);const T=(M,J,H)=>{var Ve;const be=_&&H!==g?H:le;this.options.missingKeyHandler?this.options.missingKeyHandler(M,u,J,be,ce,s):(Ve=this.backendConnector)!=null&&Ve.saveMissing&&this.backendConnector.saveMissing(M,u,J,be,ce,s),this.emit("missingKey",M,u,J,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?I.forEach(M=>{const J=this.pluralResolver.getSuffixes(M,s);j&&s[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(H=>{T([M],o+H,s[`defaultValue${H}`]||P)})}):T(I,o,P))}g=this.extendTranslation(g,t,s,p,r),Z&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${u}${f}${o}`),(Z||Y)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${o}`:o,Y?g:void 0,s))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(s),p):g}extendTranslation(t,n,r,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=W(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!W(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||s.usedLng,r),f){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(i==null?void 0:i[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=W(a)?[a]:a;return t!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(t=gg.handle(o,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,i,a,o;return W(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;s=f;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!W(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(W(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(b=>{var v,m;this.isValidLookup(r)||(o=b,!Kf[`${x[0]}-${b}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(o))&&(Kf[`${x[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var C;if(this.isValidLookup(r))return;a=w;const S=[f];if((C=this.i18nFormat)!=null&&C.addLookupKeys)this.i18nFormat.addLookupKeys(S,f,w,b,n);else{let E;h&&(E=this.pluralResolver.getSuffix(w,n.count,n));const j=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(S.push(f+E),n.ordinal&&E.indexOf(P)===0&&S.push(f+E.replace(P,this.options.pluralSeparator)),p&&S.push(f+j)),g){const N=`${f}${this.options.contextSeparator}${n.context}`;S.push(N),h&&(S.push(N+E),n.ordinal&&E.indexOf(P)===0&&S.push(N+E.replace(P,this.options.pluralSeparator)),p&&S.push(N+j))}}let _;for(;_=S.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(w,b,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!W(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class Jf{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tt.create("languageUtils")}getScriptPartFromCode(t){if(t=ni(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ni(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(W(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),W(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return W(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):W(t)&&i(this.formatLanguageCode(t)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const Yf={zero:0,one:1,two:2,few:3,many:4,other:5},Qf={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Bw{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Tt.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=ni(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qf;if(!t.match(/-|_/))return Qf;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Yf[s]-Yf[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Gf=(e,t,n,r=".",s=!0)=>{let i=Lw(e,t,n);return!i&&s&&W(n)&&(i=Nu(e,n,r),i===void 0&&(i=Nu(t,n,r))),i},ml=e=>e.replace(/\$/g,"$$$$");class Uw{constructor(t={}){var n;this.logger=Tt.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:v,alwaysFormat:m}=t.interpolation;this.escape=n!==void 0?n:Tw,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?or(i):a||"{{",this.suffix=o?or(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=h?or(h):p||or("$t("),this.nestingSuffix=g?or(g):x||or(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=v||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,s){var p;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const m=Gf(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...s,...n,interpolationkey:g}):m}const x=g.split(this.formatSeparator),b=x.shift().trim(),v=x.join(this.formatSeparator).trim();return this.format(Gf(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...s,...n,interpolationkey:b})};this.resetRegExp();const f=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>ml(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?ml(this.escape(g)):ml(g)}].forEach(g=>{for(o=0;i=g.regex.exec(t);){const x=i[1].trim();if(a=u(x),a===void 0)if(typeof f=="function"){const v=f(t,i,s);a=W(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,x))a="";else if(d){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),a="";else!W(a)&&!this.useRawValueToEscape&&(a=Uf(a));const b=g.safeValue(a);if(t=t.replace(i[0],b),d?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,i,a;const o=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const d=l.split(new RegExp(`${f}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,a);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${f}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(t);){let l=[];a={...r},a=a.replace&&!W(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===t&&!W(i))return i;W(i)||(i=Uf(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),l.length&&(i=l.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const zw=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=o.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Xf=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=t[a];return o||(o=e(ni(r),s),t[a]=o),o(n)}},Ww=e=>(t,n,r)=>e(ni(n),r)(t);class Hw{constructor(t={}){this.logger=Tt.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Xf:Ww;this.formats={number:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:r((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:r((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:r((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:r((s,i)=>{const a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Xf(n)}format(t,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{var d;const{formatName:u,formatOptions:f}=zw(l);if(this.formats[u]){let h=o;try{const p=((d=s==null?void 0:s.formatParams)==null?void 0:d[s.interpolationkey])||{},g=p.locale||p.lng||s.locale||s.lng||r;h=this.formats[u](o,g,{...f,...s,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},t)}}const Vw=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Kw extends ko{constructor(t,n,r,s={}){var i,a;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Tt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,r,s.backend,s)}queueLoad(t,n,r,s){const i={},a={},o={},l={};return t.forEach(u=>{let f=!0;n.forEach(d=>{const h=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,f=!1,a[h]===void 0&&(a[h]=!0),i[h]===void 0&&(i[h]=!0),l[d]===void 0&&(l[d]=!0)))}),f||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const s=t.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const o={};this.queue.forEach(l=>{Iw(l.loaded,[i],a),Vw(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const f=l.loaded[u];f.length&&f.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,s=0,i=this.retryTimeout,a){if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,a)},i);return}a(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}return}return l(t,n,o)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();W(t)&&(t=this.languageUtils.toResolveHierarchy(t)),W(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(t,a,o)})}saveMissing(t,n,r,s,i,a={},o=()=>{}){var l,u,f,d,h;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(f=this.services)==null?void 0:f.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...a,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(t,n,r,s,p):x=g(t,n,r,s),x&&typeof x.then=="function"?x.then(b=>o(null,b)).catch(o):o(null,x)}catch(x){o(x)}else g(t,n,r,s,o,p)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const Zf=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),W(e[1])&&(t.defaultValue=e[1]),W(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),eh=e=>{var t,n;return W(e.ns)&&(e.ns=[e.ns]),W(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),W(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Hi=()=>{},qw=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class ri extends ko{constructor(t={},n){if(super(),this.options=eh(t),this.services={},this.logger=Tt,this.modules={external:[]},qw(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(W(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Zf();this.options={...r,...this.options,...eh(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Tt.init(s(this.modules.logger),this.options):Tt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Hw;const f=new Jf(this.options);this.store=new Vf(this.options.resources,this.options);const d=this.services;d.logger=Tt,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Bw(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=s(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Uw(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Kw(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Qa(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Hi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});const o=is(),l=()=>{const u=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(f,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(t,n=Hi){var i,a;let r=n;const s=W(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const s=is();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Hi),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&gg.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=is();this.emit("languageChanging",t);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===t&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},a=o=>{var f,d;!t&&!o&&this.services.languageDetector&&(o=[]);const l=W(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(W(o)?[o]:o);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(d=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||d.call(f,u)),this.loadResources(u,h=>{i(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),r}getFixedT(t,n,r){const s=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(i)?f=i.map(d=>`${l.keyPrefix}${u}${d}`):f=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i,this.t(f,l)};return W(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!s||a(i,t)))}loadNamespaces(t,n){const r=is();return this.options.ns?(W(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=is();W(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var s,i;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";if(Intl.Locale){const a=new Intl.Locale(t);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new Jf(Zf());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new ri(t,n)}cloneInstance(t={},n=Hi){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new ri(s);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((f,d)=>(f[d]={...l[u][d]},f),l[u]),l),{});i.store=new Vf(o,s),i.services.resourceStore=i.store}return i.translator=new Qa(i.services,s),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ie=ri.createInstance();Ie.createInstance=ri.createInstance;Ie.createInstance;Ie.dir;Ie.init;Ie.loadResources;Ie.reloadResources;Ie.use;Ie.changeLanguage;Ie.getFixedT;Ie.t;Ie.exists;Ie.setDefaultNamespace;Ie.hasLoadedNamespace;Ie.loadNamespaces;Ie.loadLanguages;const Jw=(e,t,n,r)=>{var i,a,o,l;const s=[n,{code:t,...r||{}}];if((a=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&a.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Kn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},th={},ju=(e,t,n,r)=>{Kn(n)&&th[n]||(Kn(n)&&(th[n]=new Date),Jw(e,t,n,r))},yg=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},$u=(e,t,n)=>{e.loadNamespaces(t,yg(e,n))},nh=(e,t,n,r)=>{if(Kn(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return $u(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,yg(e,r))},Yw=(e,t,n={})=>!t.languages||!t.languages.length?(ju(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),Kn=e=>typeof e=="string",Qw=e=>typeof e=="object"&&e!==null,Gw=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Xw={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Zw=e=>Xw[e],e1=e=>e.replace(Gw,Zw);let Pu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e1};const t1=(e={})=>{Pu={...Pu,...e}},n1=()=>Pu;let vg;const r1=e=>{vg=e},s1=()=>vg,i1={type:"3rdParty",init(e){t1(e.options.react),r1(e)}},xg=y.createContext();class a1{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const o1=(e,t)=>{const n=y.useRef();return y.useEffect(()=>{n.current=e},[e,t]),n.current},wg=(e,t,n,r)=>e.getFixedT(t,n,r),l1=(e,t,n,r)=>y.useCallback(wg(e,t,n,r),[e,t,n,r]),me=(e,t={})=>{var S,_,C,E;const{i18n:n}=t,{i18n:r,defaultNS:s}=y.useContext(xg)||{},i=n||r||s1();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new a1),!i){ju(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(N,R)=>Kn(R)?R:Qw(R)&&Kn(R.defaultValue)?R.defaultValue:Array.isArray(N)?N[N.length-1]:N,P=[j,{},!1];return P.t=j,P.i18n={},P.ready=!1,P}(S=i.options.react)!=null&&S.wait&&ju(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...n1(),...i.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let u=s||((_=i.options)==null?void 0:_.defaultNS);u=Kn(u)?[u]:u||["translation"],(E=(C=i.reportNamespaces).addUsedNamespaces)==null||E.call(C,u);const f=(i.isInitialized||i.initializedStoreOnce)&&u.every(j=>Yw(j,i,a)),d=l1(i,t.lng||null,a.nsMode==="fallback"?u:u[0],l),h=()=>d,p=()=>wg(i,t.lng||null,a.nsMode==="fallback"?u:u[0],l),[g,x]=y.useState(h);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const v=o1(b),m=y.useRef(!0);y.useEffect(()=>{const{bindI18n:j,bindI18nStore:P}=a;m.current=!0,!f&&!o&&(t.lng?nh(i,t.lng,u,()=>{m.current&&x(p)}):$u(i,u,()=>{m.current&&x(p)})),f&&v&&v!==b&&m.current&&x(p);const N=()=>{m.current&&x(p)};return j&&(i==null||i.on(j,N)),P&&(i==null||i.store.on(P,N)),()=>{m.current=!1,i&&(j==null||j.split(" ").forEach(R=>i.off(R,N))),P&&i&&P.split(" ").forEach(R=>i.store.off(R,N))}},[i,b]),y.useEffect(()=>{m.current&&f&&x(h)},[i,l,f]);const w=[g,i,f];if(w.t=g,w.i18n=i,w.ready=f,f||!f&&!o)return w;throw new Promise(j=>{t.lng?nh(i,t.lng,u,()=>j()):$u(i,u,()=>j())})};function u1({i18n:e,defaultNS:t,children:n}){const r=y.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return y.createElement(xg.Provider,{value:r},n)}const c1="Gen UI App",d1="Welcome to the Gen UI App showcase. Explore our components and features.",f1="Components Showcase",h1="Explore interactive UI components with live demos and customization options.",p1="Chat Demo",m1="Interactive chat interface demonstration - Coming soon.",g1="English",y1="",v1={welcome:"Hello! How can I help you with your banking needs today?",placeholder:"Type your message here...",error:"Sorry, I encountered an error. Please try again.",completed:"Task completed successfully! Is there anything else I can help you with?",title:"Banking Assistant",typing:"Analyzing your request...",online:"Ready to help",thinking:"Analyzing your request...",bankingWelcome:"Welcome to your Banking Assistant! I can help you with expenses, loans, lost cards, and more. How can I assist you today?",bankingPlaceholder:"Ask about your expenses, request a loan, report a lost card..."},x1={back:"Go back",switchLanguage:"Switch language"},w1={actions:"Actions",nextChargeIn:"Next charge on",creditLimitPrefix:"Out of credit limit:",availablePrefix:"Available balance:",totalAmount:"Total",billingPeriod:"Billing Period"},S1={gold:"Gold",platinum:"Platinum",classic:"Classic",business:"Business"},b1={mastercard:"Mastercard",visa:"Visa",americanExpress:"American Express",isracard:"Isracard"},_1={title:"Expense breakdown",searchPlaceholder:"Search",subtitle:"Transactions approved but not yet posted in Israel or abroad",noResults:"No transactions found",add:"Add"},k1={expenses:{groceries:"Grocery shopping",coffee:"Coffee & pastry",online:"Amazon Online",gas:"Gas station fuel"}},E1={title:"AI Chat Assistant",placeholder:"Type your message...",send:"Send",clear:"Clear Chat",thinking:"AI is thinking...",configuration:"AI Chat Configuration",systemPrompt:"System Prompt",model:"Model",temperature:"Temperature",maxTokens:"Max Tokens",useJsonSchema:"Use JSON Schema Response",jsonSchema:"JSON Schema",error:"Error",welcome:"Start a conversation by typing a message below",apiKeyMissing:"OpenAI API key not configured. Please set VITE_OPENAI_API_KEY or REACT_APP_OPENAI_API_KEY environment variable."},C1={title:"Quick Cash Loan",subtitle:"What amount are you thinking of?",editable:"We can tailor the best offer for you",continue:"I've chosen, let's continue",disclaimer:"Subject to approval and terms of Isracard Mikoum Ltd., failure to repay the loan or Israeli may result in penalty interest charges and enforcement proceedings",details:{title:"Loan Details",amount:"Loan Amount",monthlyPayment:"Monthly Payment",period:"Period",months:"12 months",interestRate:"Annual Interest Rate",confirm:"Confirm and Receive Loan"},pin:{title:"Enter PIN Code",subtitle:"For security, please enter your PIN code",submit:"Confirm"},loading:{title:"Processing Request",subtitle:"Please wait..."},success:{title:"Loan Approved!",subtitle:"The money will be transferred to your account within 24 hours",close:"Close"}},N1={title:"Report lost or stolen card",subtitle:"Swipe and select the card you wish to report",continue:"Continue",reasonTitle:"What happened?",reasons:{lost:"I lost my card",stolen:"My card was stolen",payments:"I see payments I didn't make"},confirmTitle:"We've got your report",confirmSubtitle:"We blocked your card and will issue a replacement soon. We'll keep you updated.",done:"Done",controls:"LostCredit props",cardsToShow:"Cards to show"},j1={title:"Quick Actions",actions:{lockCard:"Lock card",replaceCard:"Replace card",increaseLimit:"Increase limit",statements:"View statements",installments:"Split to installments",support:"Contact support"}},$1={title:"Settings",openaiConfig:"OpenAI Configuration",openaiConfigDesc:"Manage your OpenAI API key settings",apiKey:"OpenAI API Key",apiKeyPlaceholder:"sk-...",apiKeyNote:"Your API key is stored locally in your browser and never sent to our servers.",saveChanges:"Save Changes",clearKey:"Clear Key",apiKeySaved:"API key saved successfully!",aboutTitle:"About OpenAI API Keys",aboutDesc:"You can obtain an API key from OpenAI's platform. The key is used to authenticate requests to OpenAI's services and enable AI functionality in this demo.",openaiPlatform:"OpenAI's platform"},P1={title:"OpenAI API Key Required",subtitle:"Enable AI functionality",description:"This demo requires an OpenAI API key to function. Your key will be stored securely in your browser's local storage and used only to communicate with OpenAI's services.",apiKey:"API Key",apiKeyPlaceholder:"sk-...",getKeyText:"Get your API key from",openaiPlatform:"OpenAI's platform",secureTitle:"Secure & Private",secureDesc:"Your key is stored locally and never sent to our servers",saveKey:"Save Key",saving:"Saving..."},I1={appTitle:c1,homeWelcome:d1,componentsShowcase:f1,componentsShowcaseDesc:h1,chatDemo:p1,chatDemoDesc:m1,english:g1,hebrew:y1,chat:v1,layout:x1,creditStat:w1,cardTypes:S1,cardBrands:b1,expenseList:_1,demo:k1,aiChat:E1,loanRequest:C1,lostCredit:N1,info:j1,settings:$1,openaiModal:P1},L1=" Gen UI",R1="    Gen UI.     .",T1=" ",A1="  UI       .",O1=" '",M1="  '  - .",F1="",D1="",B1={back:"",switchLanguage:" "},U1={actions:"",nextChargeIn:"  ",creditLimitPrefix:"  :",availablePrefix:" :",totalAmount:"",billingPeriod:" "},z1={gold:"",platinum:"",classic:"",business:""},W1={mastercard:"",visa:"",americanExpress:" ",isracard:""},H1={title:" ",searchPlaceholder:"",subtitle:'      "',noResults:"  ",add:""},V1={expenses:{groceries:" ",coffee:" ",online:" ",gas:"  "}},K1={title:" ' AI",placeholder:"   ...",send:"",clear:" '",thinking:"AI ...",configuration:" ' AI",systemPrompt:" ",model:"",temperature:"",maxTokens:" ",useJsonSchema:"  JSON Schema",jsonSchema:"JSON Schema",error:"",welcome:"      ",apiKeyMissing:" OpenAI API  .      VITE_OPENAI_API_KEY  REACT_APP_OPENAI_API_KEY."},q1={title:"  ",subtitle:"   ?",editable:"      ",continue:",  ",disclaimer:'      ",              ',details:{title:" ",amount:" ",monthlyPayment:" ",period:"",months:"12 ",interestRate:" ",confirm:"  "},pin:{title:"  PIN",subtitle:",     -PIN ",submit:""},loading:{title:"  ",subtitle:" ..."},success:{title:" !",subtitle:"    24 ",close:""}},J1={title:"     ",subtitle:"      ",continue:"",reasonTitle:" ?",reasons:{lost:"  ",stolen:" ",payments:"    "},confirmTitle:" ",confirmSubtitle:"      .   .",done:"",controls:" LostCredit",cardsToShow:"  "},Y1={title:" ",actions:{lockCard:" ",replaceCard:" ",increaseLimit:" ",statements:"  ",installments:" ",support:" "}},Q1={welcome:"!        ?",placeholder:"   ...",error:",  .   .",completed:"  !       ?",title:" ",typing:"   ...",online:" ",thinking:"   ...",bankingWelcome:"   !     , ,   .     ?",bankingPlaceholder:"   ,  ,    ..."},G1={title:"",openaiConfig:" OpenAI",openaiConfigDesc:"    -API  OpenAI",apiKey:" OpenAI API",apiKeyPlaceholder:"sk-...",apiKeyNote:"          .",saveChanges:" ",clearKey:" ",apiKeySaved:"  !",aboutTitle:"  OpenAI API",aboutDesc:"   API  OpenAI.      OpenAI   AI  .",openaiPlatform:" OpenAI"},X1={title:"  OpenAI API",subtitle:"  AI",description:"    OpenAI API  .              OpenAI.",apiKey:" API",apiKeyPlaceholder:"sk-...",getKeyText:"    ",openaiPlatform:" OpenAI",secureTitle:" ",secureDesc:"        ",saveKey:" ",saving:"..."},Z1={appTitle:L1,homeWelcome:R1,componentsShowcase:T1,componentsShowcaseDesc:A1,chatDemo:O1,chatDemoDesc:M1,english:F1,hebrew:D1,layout:B1,creditStat:U1,cardTypes:z1,cardBrands:W1,expenseList:H1,demo:V1,aiChat:K1,loanRequest:q1,lostCredit:J1,info:Y1,chat:Q1,settings:G1,openaiModal:X1};Ie.use(i1).init({resources:{en:{translation:I1},he:{translation:Z1}},lng:"he",fallbackLng:"en",interpolation:{escapeValue:!1}});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(this,arguments)}var dn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dn||(dn={}));const rh="popstate";function e2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return Iu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ga(s)}return n2(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t2(){return Math.random().toString(36).substr(2,8)}function sh(e,t){return{usr:e.state,key:e.key,idx:t}}function Iu(e,t,n,r){return n===void 0&&(n=null),si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qr(t):t,{state:n,key:t&&t.key||r||t2()})}function Ga(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function n2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=dn.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(si({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){o=dn.Pop;let b=f(),v=b==null?null:b-u;u=b,l&&l({action:o,location:x.location,delta:v})}function h(b,v){o=dn.Push;let m=Iu(x.location,b,v);u=f()+1;let w=sh(m,u),S=x.createHref(m);try{a.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}i&&l&&l({action:o,location:x.location,delta:1})}function p(b,v){o=dn.Replace;let m=Iu(x.location,b,v);u=f();let w=sh(m,u),S=x.createHref(m);a.replaceState(w,"",S),i&&l&&l({action:o,location:x.location,delta:0})}function g(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Ga(b);return m=m.replace(/ $/,"%20"),fe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let x={get action(){return o},get location(){return e(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rh,d),l=b,()=>{s.removeEventListener(rh,d),l=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return a.go(b)}};return x}var ih;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ih||(ih={}));function r2(e,t,n){return n===void 0&&(n="/"),s2(e,t,n)}function s2(e,t,n,r){let s=typeof t=="string"?qr(t):t,i=Gc(s.pathname||"/",n);if(i==null)return null;let a=bg(e);i2(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=y2(i);o=p2(a[l],u)}return o}function bg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bn([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bg(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:f2(u,i.index),routesMeta:f})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of _g(i.path))s(i,a,l)}),t}function _g(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=_g(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function i2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:h2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a2=/^:[\w-]+$/,o2=3,l2=2,u2=1,c2=10,d2=-2,ah=e=>e==="*";function f2(e,t){let n=e.split("/"),r=n.length;return n.some(ah)&&(r+=d2),t&&(r+=l2),n.filter(s=>!ah(s)).reduce((s,i)=>s+(a2.test(i)?o2:i===""?u2:c2),r)}function h2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function p2(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=m2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:bn([i,d.pathname]),pathnameBase:S2(bn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=bn([i,d.pathnameBase]))}return a}function m2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let x=o[d]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function g2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function y2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?qr(e):e;return{pathname:n?n.startsWith("/")?n:x2(n,t):t,search:b2(r),hash:_2(s)}}function x2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kg(e,t){let n=w2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Eg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=qr(e):(s=si({},e),fe(!s.pathname||!s.pathname.includes("?"),gl("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),gl("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),gl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=v2(s,o),u=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const bn=e=>e.join("/").replace(/\/\/+/g,"/"),S2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function k2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cg=["post","put","patch","delete"];new Set(Cg);const E2=["get",...Cg];new Set(E2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ii.apply(this,arguments)}const Xc=y.createContext(null),C2=y.createContext(null),sr=y.createContext(null),Eo=y.createContext(null),ir=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ng=y.createContext(null);function N2(e,t){let{relative:n}=t===void 0?{}:t;mi()||fe(!1);let{basename:r,navigator:s}=y.useContext(sr),{hash:i,pathname:a,search:o}=$g(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:bn([r,a])),s.createHref({pathname:l,search:o,hash:i})}function mi(){return y.useContext(Eo)!=null}function gi(){return mi()||fe(!1),y.useContext(Eo).location}function jg(e){y.useContext(sr).static||y.useLayoutEffect(e)}function Zc(){let{isDataRoute:e}=y.useContext(ir);return e?B2():j2()}function j2(){mi()||fe(!1);let e=y.useContext(Xc),{basename:t,future:n,navigator:r}=y.useContext(sr),{matches:s}=y.useContext(ir),{pathname:i}=gi(),a=JSON.stringify(kg(s,n.v7_relativeSplatPath)),o=y.useRef(!1);return jg(()=>{o.current=!0}),y.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Eg(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:bn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,a,i,e])}function $g(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(sr),{matches:s}=y.useContext(ir),{pathname:i}=gi(),a=JSON.stringify(kg(s,r.v7_relativeSplatPath));return y.useMemo(()=>Eg(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function $2(e,t){return P2(e,t)}function P2(e,t,n,r){mi()||fe(!1);let{navigator:s}=y.useContext(sr),{matches:i}=y.useContext(ir),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=gi(),f;if(t){var d;let b=typeof t=="string"?qr(t):t;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||fe(!1),f=b}else f=u;let h=f.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=r2(e,{pathname:p}),x=A2(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:bn([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:bn([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&x?y.createElement(Eo.Provider,{value:{location:ii({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dn.Pop}},x):x}function I2(){let e=D2(),t=k2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,null)}const L2=y.createElement(I2,null);class R2 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(ir.Provider,{value:this.props.routeContext},y.createElement(Ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T2(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(Xc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(ir.Provider,{value:t},r)}function A2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||fe(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,h)=>{let p,g=!1,x=null,b=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||L2,l&&(u<0&&h===0?(U2("route-fallback"),g=!0,b=null):u===h&&(g=!0,b=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),m=()=>{let w;return p?w=x:g?w=b:d.route.Component?w=y.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,y.createElement(T2,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(R2,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Pg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pg||{}),Ig=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ig||{});function O2(e){let t=y.useContext(Xc);return t||fe(!1),t}function M2(e){let t=y.useContext(C2);return t||fe(!1),t}function F2(e){let t=y.useContext(ir);return t||fe(!1),t}function Lg(e){let t=F2(),n=t.matches[t.matches.length-1];return n.route.id||fe(!1),n.route.id}function D2(){var e;let t=y.useContext(Ng),n=M2(),r=Lg();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function B2(){let{router:e}=O2(Pg.UseNavigateStable),t=Lg(Ig.UseNavigateStable),n=y.useRef(!1);return jg(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ii({fromRouteId:t},i)))},[e,t])}const oh={};function U2(e,t,n){oh[e]||(oh[e]=!0)}function z2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ds(e){fe(!1)}function W2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=dn.Pop,navigator:i,static:a=!1,future:o}=e;mi()&&fe(!1);let l=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:a,future:ii({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=qr(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,x=y.useMemo(()=>{let b=Gc(f,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:g},navigationType:s}},[l,f,d,h,p,g,s]);return x==null?null:y.createElement(sr.Provider,{value:u},y.createElement(Eo.Provider,{children:n,value:x}))}function H2(e){let{children:t,location:n}=e;return $2(Lu(t),n)}new Promise(()=>{});function Lu(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Lu(r.props.children,i));return}r.type!==ds&&fe(!1),!r.props.index||!r.props.children||fe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Lu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(this,arguments)}function V2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function K2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q2(e,t){return e.button===0&&(!t||t==="_self")&&!K2(e)}const J2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y2="6";try{window.__reactRouterVersion=Y2}catch{}const Q2="startTransition",lh=Tl[Q2];function G2(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=e2({window:s,v5Compat:!0}));let a=i.current,[o,l]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=y.useCallback(d=>{u&&lh?lh(()=>l(d)):l(d)},[l,u]);return y.useLayoutEffect(()=>a.listen(f),[a,f]),y.useEffect(()=>z2(r),[r]),y.createElement(W2,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const X2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yl=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:d}=t,h=V2(t,J2),{basename:p}=y.useContext(sr),g,x=!1;if(typeof u=="string"&&Z2.test(u)&&(g=u,X2))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=Gc(S.pathname,p);S.origin===w.origin&&_!=null?u=_+S.search+S.hash:x=!0}catch{}let b=N2(u,{relative:s}),v=eS(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:s,viewTransition:d});function m(w){r&&r(w),w.defaultPrevented||v(w)}return y.createElement("a",Ru({},h,{href:g||b,onClick:x||i?r:m,ref:n,target:l}))});var uh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uh||(uh={}));var ch;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ch||(ch={}));function eS(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=Zc(),u=gi(),f=$g(e,{relative:a});return y.useCallback(d=>{if(q2(d,n)){d.preventDefault();let h=r!==void 0?r:Ga(u)===Ga(f);l(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,f,r,s,n,e,i,a,o])}const Rg=typeof document<"u"?D.useLayoutEffect:()=>{};function tS(e){const t=y.useRef(null);return Rg(()=>{t.current=e},[e]),y.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const $n=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Dn=e=>e&&"window"in e&&e.window===e?e:$n(e).defaultView||window;function nS(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function rS(e){return nS(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let sS=!1;function ed(){return sS}function Tg(e,t){if(!ed())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:rS(n)?n=n.host:n=n.parentNode}return!1}const Tu=(e=document)=>{var t;if(!ed())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Ag(e){return ed()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function iS(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function aS(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Og(e){let t=null;return()=>(t==null&&(t=e()),t)}const oS=Og(function(){return aS(/^Mac/i)}),lS=Og(function(){return iS(/Android/i)});function Mg(){let e=y.useRef(new Map),t=y.useCallback((s,i,a,o)=>{let l=o!=null&&o.once?(...u)=>{e.current.delete(a),a(...u)}:a;e.current.set(a,{type:i,eventTarget:s,fn:l,options:o}),s.addEventListener(i,l,o)},[]),n=y.useCallback((s,i,a,o)=>{var l;let u=((l=e.current.get(a))===null||l===void 0?void 0:l.fn)||a;s.removeEventListener(i,u,o),e.current.delete(a)},[]),r=y.useCallback(()=>{e.current.forEach((s,i)=>{n(s.eventTarget,s.type,i,s.options)})},[n]);return y.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function uS(e){return e.mozInputSource===0&&e.isTrusted?!0:lS()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fg(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function cS(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Dg(e){let t=y.useRef({isFocused:!1,observer:null});Rg(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=tS(r=>{e==null||e(r)});return y.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,i=a=>{if(t.current.isFocused=!1,s.disabled){let o=Fg(a);n(o)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let o=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let dS=!1,yi=null,Au=new Set,Ts=new Map,Zn=!1,Ou=!1;const fS={Tab:!0,Escape:!0};function td(e,t){for(let n of Au)n(e,t)}function hS(e){return!(e.metaKey||!oS()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Xa(e){Zn=!0,hS(e)&&(yi="keyboard",td("keyboard",e))}function Tr(e){yi="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Zn=!0,td("pointer",e))}function Bg(e){uS(e)&&(Zn=!0,yi="virtual")}function Ug(e){e.target===window||e.target===document||dS||!e.isTrusted||(!Zn&&!Ou&&(yi="virtual",td("virtual",e)),Zn=!1,Ou=!1)}function zg(){Zn=!1,Ou=!0}function Mu(e){if(typeof window>"u"||typeof document>"u"||Ts.get(Dn(e)))return;const t=Dn(e),n=$n(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Zn=!0,r.apply(this,arguments)},n.addEventListener("keydown",Xa,!0),n.addEventListener("keyup",Xa,!0),n.addEventListener("click",Bg,!0),t.addEventListener("focus",Ug,!0),t.addEventListener("blur",zg,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Tr,!0),n.addEventListener("pointermove",Tr,!0),n.addEventListener("pointerup",Tr,!0)),t.addEventListener("beforeunload",()=>{Wg(e)},{once:!0}),Ts.set(t,{focus:r})}const Wg=(e,t)=>{const n=Dn(e),r=$n(e);t&&r.removeEventListener("DOMContentLoaded",t),Ts.has(n)&&(n.HTMLElement.prototype.focus=Ts.get(n).focus,r.removeEventListener("keydown",Xa,!0),r.removeEventListener("keyup",Xa,!0),r.removeEventListener("click",Bg,!0),n.removeEventListener("focus",Ug,!0),n.removeEventListener("blur",zg,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Tr,!0),r.removeEventListener("pointermove",Tr,!0),r.removeEventListener("pointerup",Tr,!0)),Ts.delete(n))};function pS(e){const t=$n(e);let n;return t.readyState!=="loading"?Mu(e):(n=()=>{Mu(e)},t.addEventListener("DOMContentLoaded",n)),()=>Wg(e,n)}typeof document<"u"&&pS();function Hg(){return yi!=="pointer"}const mS=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function gS(e,t,n){let r=$n(n==null?void 0:n.target);const s=typeof window<"u"?Dn(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?Dn(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Dn(n==null?void 0:n.target).HTMLElement:HTMLElement,o=typeof window<"u"?Dn(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!mS.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof o&&!fS[n.key])}function yS(e,t,n){Mu(),y.useEffect(()=>{let r=(s,i)=>{gS(!!(n!=null&&n.isTextInput),s,i)&&e(Hg())};return Au.add(r),()=>{Au.delete(r)}},t)}function vS(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const i=y.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),a=Dg(i),o=y.useCallback(l=>{const u=$n(l.target),f=u?Tu(u):Tu();l.target===l.currentTarget&&f===Ag(l.nativeEvent)&&(n&&n(l),s&&s(!0),a(l))},[s,n,a]);return{focusProps:{onFocus:!t&&(n||s||r)?o:void 0,onBlur:!t&&(r||s)?i:void 0}}}function xS(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,i=y.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=Mg(),l=y.useCallback(d=>{d.currentTarget.contains(d.target)&&i.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(i.current.isFocusWithin=!1,o(),n&&n(d),s&&s(!1))},[n,s,i,o]),u=Dg(l),f=y.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const h=$n(d.target),p=Tu(h);if(!i.current.isFocusWithin&&p===Ag(d.nativeEvent)){r&&r(d),s&&s(!0),i.current.isFocusWithin=!0,u(d);let g=d.currentTarget;a(h,"focus",x=>{if(i.current.isFocusWithin&&!Tg(g,x.target)){let b=new h.defaultView.FocusEvent("blur",{relatedTarget:x.target});cS(b,g);let v=Fg(b);l(v)}},{capture:!0})}},[r,s,u,a,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:l}}}let Fu=!1,vl=0;function wS(){Fu=!0,setTimeout(()=>{Fu=!1},50)}function dh(e){e.pointerType==="touch"&&wS()}function SS(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",dh),vl++,()=>{vl--,!(vl>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",dh)}}function bS(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[i,a]=y.useState(!1),o=y.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;y.useEffect(SS,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=Mg(),{hoverProps:f,triggerHoverEnd:d}=y.useMemo(()=>{let h=(x,b)=>{if(o.pointerType=b,s||b==="touch"||o.isHovered||!x.currentTarget.contains(x.target))return;o.isHovered=!0;let v=x.currentTarget;o.target=v,l($n(x.target),"pointerover",m=>{o.isHovered&&o.target&&!Tg(o.target,m.target)&&p(m,m.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:v,pointerType:b}),n&&n(!0),a(!0)},p=(x,b)=>{let v=o.target;o.pointerType="",o.target=null,!(b==="touch"||!o.isHovered||!v)&&(o.isHovered=!1,u(),r&&r({type:"hoverend",target:v,pointerType:b}),n&&n(!1),a(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=x=>{Fu&&x.pointerType==="mouse"||h(x,x.pointerType)},g.onPointerLeave=x=>{!s&&x.currentTarget.contains(x.target)&&p(x,x.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[t,n,r,s,o,l,u]);return y.useEffect(()=>{s&&d({currentTarget:o.target},o.pointerType)},[s]),{hoverProps:f,isHovered:i}}function Vg(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=y.useRef({isFocused:!1,isFocusVisible:t||Hg()}),[i,a]=y.useState(!1),[o,l]=y.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=y.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),f=y.useCallback(p=>{s.current.isFocused=p,a(p),u()},[u]);yS(p=>{s.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:d}=vS({isDisabled:r,onFocusChange:f}),{focusWithinProps:h}=xS({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:o,focusProps:r?h:d}}var _S=Object.defineProperty,kS=(e,t,n)=>t in e?_S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xl=(e,t,n)=>(kS(e,typeof t!="symbol"?t+"":t,n),n);let ES=class{constructor(){xl(this,"current",this.detect()),xl(this,"handoffState","pending"),xl(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qn=new ES;function Jr(e){var t,n;return qn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function vi(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Xt(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return vi(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Xt();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Co(){let[e]=y.useState(Xt);return y.useEffect(()=>()=>e.dispose(),[e]),e}let he=(e,t)=>{qn.isServer?y.useEffect(e,t):y.useLayoutEffect(e,t)};function _t(e){let t=y.useRef(e);return he(()=>{t.current=e},[e]),t}let q=function(e){let t=_t(e);return D.useCallback((...n)=>t.current(...n),[t])};function CS(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function NS(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function jS({disabled:e=!1}={}){let t=y.useRef(null),[n,r]=y.useState(!1),s=Co(),i=q(()=>{t.current=null,r(!1),s.dispose()}),a=q(o=>{if(s.dispose(),t.current===null){t.current=o.currentTarget,r(!0);{let l=Jr(o.currentTarget);s.addEventListener(l,"pointerup",i,!1),s.addEventListener(l,"pointermove",u=>{if(t.current){let f=CS(u);r(NS(f,t.current.getBoundingClientRect()))}},!1),s.addEventListener(l,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:i,onClick:i}}}let $S=y.createContext(void 0);function PS(){return y.useContext($S)}function Du(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Xe(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xe),r}var zr=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(zr||{}),fn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(fn||{});function Le(){let e=LS();return y.useCallback(t=>IS({mergeRefs:e,...t}),[e])}function IS({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:a,mergeRefs:o}){o=o??RS;let l=Kg(t,e);if(i)return Vi(l,n,r,a,o);let u=s??0;if(u&2){let{static:f=!1,...d}=l;if(f)return Vi(d,n,r,a,o)}if(u&1){let{unmount:f=!0,...d}=l;return Xe(f?0:1,{0(){return null},1(){return Vi({...d,hidden:!0,style:{display:"none"}},n,r,a,o)}})}return Vi(l,n,r,a,o)}function Vi(e,t={},n,r,s){let{as:i=n,children:a,refName:o="ref",...l}=wl(e,["unmount","static"]),u=e.ref!==void 0?{[o]:e.ref}:{},f=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(t){let h=!1,p=[];for(let[g,x]of Object.entries(t))typeof x=="boolean"&&(h=!0),x===!0&&p.push(g.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){d["data-headlessui-state"]=p.join(" ");for(let g of p)d[`data-${g}`]=""}}if(i===y.Fragment&&(Object.keys(Ln(l)).length>0||Object.keys(Ln(d)).length>0))if(!y.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ln(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ln(l)).concat(Object.keys(Ln(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,p=h==null?void 0:h.className,g=typeof p=="function"?(...v)=>Du(p(...v),l.className):Du(p,l.className),x=g?{className:g}:{},b=Kg(f.props,Ln(wl(l,["ref"])));for(let v in d)v in b&&delete d[v];return y.cloneElement(f,Object.assign({},b,d,u,{ref:s(TS(f),u.ref)},x))}return y.createElement(i,Object.assign({},wl(l,["ref"]),i!==y.Fragment&&u,i!==y.Fragment&&d),f)}function LS(){let e=y.useRef([]),t=y.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function RS(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Kg(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let a=n[r];for(let o of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;o(s,...i)}}});return t}function qg(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let i=n[r];for(let a of i)a==null||a(...s)}});return t}function Se(e){var t;return Object.assign(y.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ln(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function wl(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function TS(e){return D.version.split(".")[0]>="19"?e.props.ref:e.ref}let AS="span";var ai=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ai||{});function OS(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Le()({ourProps:i,theirProps:s,slot:{},defaultTag:AS,name:"Hidden"})}let oi=Se(OS);function Jg(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function _n(e){return Jg(e)&&"tagName"in e}function er(e){return _n(e)&&"accessKey"in e}function hn(e){return _n(e)&&"tabIndex"in e}function MS(e){return _n(e)&&"style"in e}function FS(e){return er(e)&&e.nodeName==="IFRAME"}function DS(e){return er(e)&&e.nodeName==="INPUT"}let Yg=Symbol();function BS(e,t=!0){return Object.assign(e,{[Yg]:t})}function He(...e){let t=y.useRef(e);y.useEffect(()=>{t.current=e},[e]);let n=q(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Yg]))?void 0:n}let nd=y.createContext(null);nd.displayName="DescriptionContext";function Qg(){let e=y.useContext(nd);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Qg),t}return e}function US(){let[e,t]=y.useState([]);return[e.length>0?e.join(" "):void 0,y.useMemo(()=>function(n){let r=q(i=>(t(a=>[...a,i]),()=>t(a=>{let o=a.slice(),l=o.indexOf(i);return l!==-1&&o.splice(l,1),o}))),s=y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return D.createElement(nd.Provider,{value:s},n.children)},[t])]}let zS="p";function WS(e,t){let n=y.useId(),r=PS(),{id:s=`headlessui-description-${n}`,...i}=e,a=Qg(),o=He(t);he(()=>a.register(s),[s,a.register]);let l=r||!1,u=y.useMemo(()=>({...a.slot,disabled:l}),[a.slot,l]),f={ref:o,...a.props,id:s};return Le()({ourProps:f,theirProps:i,slot:u,defaultTag:zS,name:a.name||"Description"})}let HS=Se(WS),VS=Object.assign(HS,{});var ut=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ut||{});let KS=y.createContext(()=>{});function qS({value:e,children:t}){return D.createElement(KS.Provider,{value:e},t)}let Gg=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var JS=Object.defineProperty,YS=(e,t,n)=>t in e?JS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QS=(e,t,n)=>(YS(e,t+"",n),n),Xg=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},lt=(e,t,n)=>(Xg(e,t,"read from private field"),n?n.call(e):t.get(e)),Sl=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},fh=(e,t,n,r)=>(Xg(e,t,"write to private field"),t.set(e,n),n),Pt,fs,hs;let GS=class{constructor(t){Sl(this,Pt,{}),Sl(this,fs,new Gg(()=>new Set)),Sl(this,hs,new Set),QS(this,"disposables",Xt()),fh(this,Pt,t)}dispose(){this.disposables.dispose()}get state(){return lt(this,Pt)}subscribe(t,n){let r={selector:t,callback:n,current:t(lt(this,Pt))};return lt(this,hs).add(r),this.disposables.add(()=>{lt(this,hs).delete(r)})}on(t,n){return lt(this,fs).get(t).add(n),this.disposables.add(()=>{lt(this,fs).get(t).delete(n)})}send(t){let n=this.reduce(lt(this,Pt),t);if(n!==lt(this,Pt)){fh(this,Pt,n);for(let r of lt(this,hs)){let s=r.selector(lt(this,Pt));Zg(r.current,s)||(r.current=s,r.callback(s))}for(let r of lt(this,fs).get(t.type))r(lt(this,Pt),t)}}};Pt=new WeakMap,fs=new WeakMap,hs=new WeakMap;function Zg(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:bl(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:bl(e.entries(),t.entries()):hh(e)&&hh(t)?bl(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function bl(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function hh(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var XS=Object.defineProperty,ZS=(e,t,n)=>t in e?XS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ph=(e,t,n)=>(ZS(e,typeof t!="symbol"?t+"":t,n),n),eb=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(eb||{});let tb={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},nb=class e0 extends GS{constructor(){super(...arguments),ph(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),ph(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new e0({stack:[]})}reduce(t,n){return Xe(n.type,tb,t,n)}};const t0=new Gg(()=>nb.new());var n0={exports:{}},r0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=y;function rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sb=typeof Object.is=="function"?Object.is:rb,ib=xi.useSyncExternalStore,ab=xi.useRef,ob=xi.useEffect,lb=xi.useMemo,ub=xi.useDebugValue;r0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=ab(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=lb(function(){function l(p){if(!u){if(u=!0,f=p,p=r(p),s!==void 0&&a.hasValue){var g=a.value;if(s(g,p))return d=g}return d=p}if(g=d,sb(f,p))return g;var x=r(p);return s!==void 0&&s(g,x)?(f=p,g):(f=p,d=x)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var o=ib(e,i[0],i[1]);return ob(function(){a.hasValue=!0,a.value=o},[o]),ub(o),o};n0.exports=r0;var cb=n0.exports;function s0(e,t,n=Zg){return cb.useSyncExternalStoreWithSelector(q(r=>e.subscribe(db,r)),q(()=>e.state),q(()=>e.state),q(t),n)}function db(e){return e}function wi(e,t){let n=y.useId(),r=t0.get(t),[s,i]=s0(r,y.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return he(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let Bu=new Map,As=new Map;function mh(e){var t;let n=(t=As.get(e))!=null?t:0;return As.set(e,n+1),n!==0?()=>gh(e):(Bu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>gh(e))}function gh(e){var t;let n=(t=As.get(e))!=null?t:1;if(n===1?As.delete(e):As.set(e,n-1),n!==1)return;let r=Bu.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Bu.delete(e))}function fb(e,{allowed:t,disallowed:n}={}){let r=wi(e,"inert-others");he(()=>{var s,i;if(!r)return;let a=Xt();for(let l of(s=n==null?void 0:n())!=null?s:[])l&&a.add(mh(l));let o=(i=t==null?void 0:t())!=null?i:[];for(let l of o){if(!l)continue;let u=Jr(l);if(!u)continue;let f=l.parentElement;for(;f&&f!==u.body;){for(let d of f.children)o.some(h=>d.contains(h))||a.add(mh(d));f=f.parentElement}}return a.dispose},[r,t,n])}function hb(e,t,n){let r=_t(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});y.useEffect(()=>{if(!e)return;let s=t===null?null:er(t)?t:t.current;if(!s)return;let i=Xt();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),i.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),i.add(()=>a.disconnect())}return()=>i.dispose()},[t,r,e])}let Za=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),pb=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ve=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ve||{}),Bn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Bn||{}),mb=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(mb||{});function gb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Za)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function yb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(pb)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var i0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(i0||{});function vb(e,t=0){var n;return e===((n=Jr(e))==null?void 0:n.body)?!1:Xe(t,{0(){return e.matches(Za)},1(){let r=e;for(;r!==null;){if(r.matches(Za))return!0;r=r.parentElement}return!1}})}var xb=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(xb||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Kt(e){e==null||e.focus({preventScroll:!0})}let wb=["textarea","input"].join(",");function Sb(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,wb))!=null?n:!1}function Cr(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let a=s.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function bt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Cr(e):e:t&64?yb(e):gb(e);s.length>0&&a.length>1&&(a=a.filter(p=>!s.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),r=r??i.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,d=a.length,h;do{if(f>=d||f+d<=0)return 0;let p=l+f;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=a[p],h==null||h.focus(u),f+=o}while(h!==i.activeElement);return t&6&&Sb(h)&&h.select(),2}function a0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function bb(){return/Android/gi.test(window.navigator.userAgent)}function yh(){return a0()||bb()}function Ki(e,t,n,r){let s=_t(n);y.useEffect(()=>{if(!e)return;function i(a){s.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function o0(e,t,n,r){let s=_t(n);y.useEffect(()=>{if(!e)return;function i(a){s.current(a)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const vh=30;function _b(e,t,n){let r=_t(n),s=y.useCallback(function(o,l){if(o.defaultPrevented)return;let u=l(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of f)if(d!==null&&(d.contains(u)||o.composed&&o.composedPath().includes(d)))return;return!vb(u,i0.Loose)&&u.tabIndex!==-1&&o.preventDefault(),r.current(o,u)},[r,t]),i=y.useRef(null);Ki(e,"pointerdown",o=>{var l,u;yh()||(i.current=((u=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:u[0])||o.target)},!0),Ki(e,"pointerup",o=>{if(yh()||!i.current)return;let l=i.current;return i.current=null,s(o,()=>l)},!0);let a=y.useRef({x:0,y:0});Ki(e,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),Ki(e,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-a.current.x)>=vh||Math.abs(l.y-a.current.y)>=vh))return s(o,()=>hn(o.target)?o.target:null)},!0),o0(e,"blur",o=>s(o,()=>FS(window.document.activeElement)?window.document.activeElement:null),!0)}function No(...e){return y.useMemo(()=>Jr(...e),[...e])}function l0(e,t,n,r){let s=_t(n);y.useEffect(()=>{e=e??window;function i(a){s.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function kb(e,t){return y.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Eb(e){return y.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Cb(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let a=t[s].call(n,...i);a&&(n=a,r.forEach(o=>o()))}}}function Nb(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function jb(){return a0()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=Xt();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",o=>{if(hn(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),f=e.querySelector(u);hn(f)&&!r(f)&&(a=f)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(hn(o.target)&&MS(o.target))if(r(o.target)){let l=o.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(hn(o.target)){if(DS(o.target))return;if(r(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),t.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;i!==l&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function $b(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Pb(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Un=Cb(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Xt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Pb(n)},s=[jb(),Nb(),$b()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Un.subscribe(()=>{let e=Un.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Un.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Un.dispatch("TEARDOWN",n)}});function Ib(e,t,n=()=>({containers:[]})){let r=Eb(Un),s=t?r.get(t):void 0,i=s?s.count>0:!1;return he(()=>{if(!(!t||!e))return Un.dispatch("PUSH",t,n),()=>Un.dispatch("POP",t,n)},[e,t]),i}function Lb(e,t,n=()=>[document.body]){let r=wi(e,"scroll-lock");Ib(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function Rb(e=0){let[t,n]=y.useState(e),r=y.useCallback(l=>n(l),[t]),s=y.useCallback(l=>n(u=>u|l),[t]),i=y.useCallback(l=>(t&l)===l,[t]),a=y.useCallback(l=>n(u=>u&~l),[n]),o=y.useCallback(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:a,toggleFlag:o}}var Tb={},xh,wh;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((xh=process==null?void 0:Tb)==null?void 0:xh.NODE_ENV)==="test"&&typeof((wh=Element==null?void 0:Element.prototype)==null?void 0:wh.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Ab=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Ab||{});function Ob(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Mb(e,t,n,r){let[s,i]=y.useState(n),{hasFlag:a,addFlag:o,removeFlag:l}=Rb(e&&s?3:0),u=y.useRef(!1),f=y.useRef(!1),d=Co();return he(()=>{var h;if(e){if(n&&i(!0),!t){n&&o(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),Fb(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(o(3),l(4)):(o(4),l(2)))},run(){f.current?n?(l(3),o(4)):(l(4),o(3)):n?l(1):o(1)},done(){var p;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||i(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,d]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Fb(e,{prepare:t,run:n,done:r,inFlight:s}){let i=Xt();return Bb(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(Db(e,r))})}),i.dispose}function Db(e,t){var n,r;let s=Xt();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(o=>o instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{i||t()}),s.dispose)}function Bb(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function rd(e,t){let n=y.useRef([]),r=q(e);y.useEffect(()=>{let s=[...n.current];for(let[i,a]of t.entries())if(n.current[i]!==a){let o=r(t,s);return n.current=t,o}},[r,...t])}let jo=y.createContext(null);jo.displayName="OpenClosedContext";var kt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(kt||{});function $o(){return y.useContext(jo)}function Ub({value:e,children:t}){return D.createElement(jo.Provider,{value:e},t)}function zb({children:e}){return D.createElement(jo.Provider,{value:null},e)}function Wb(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ln=[];Wb(()=>{function e(t){if(!hn(t.target)||t.target===document.body||ln[0]===t.target)return;let n=t.target;n=n.closest(Za),ln.unshift(n??t.target),ln=ln.filter(r=>r!=null&&r.isConnected),ln.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function u0(e){let t=q(e),n=y.useRef(!1);y.useEffect(()=>(n.current=!1,()=>{n.current=!0,vi(()=>{n.current&&t()})}),[t])}function Hb(){let e=typeof document>"u";return"useSyncExternalStore"in Tl?(t=>t.useSyncExternalStore)(Tl)(()=>()=>{},()=>!1,()=>!e):!1}function Si(){let e=Hb(),[t,n]=y.useState(qn.isHandoffComplete);return t&&qn.isHandoffComplete===!1&&n(!1),y.useEffect(()=>{t!==!0&&n(!0)},[t]),y.useEffect(()=>qn.handoff(),[]),e?!1:t}let c0=y.createContext(!1);function Vb(){return y.useContext(c0)}function Sh(e){return D.createElement(c0.Provider,{value:e.force},e.children)}function Kb(e){let t=Vb(),n=y.useContext(f0),[r,s]=y.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(qn.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)});return y.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),y.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let d0=y.Fragment,qb=Se(function(e,t){let{ownerDocument:n=null,...r}=e,s=y.useRef(null),i=He(BS(p=>{s.current=p}),t),a=No(s),o=n??a,l=Kb(o),[u]=y.useState(()=>{var p;return qn.isServer?null:(p=o==null?void 0:o.createElement("div"))!=null?p:null}),f=y.useContext(Uu),d=Si();he(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),he(()=>{if(u&&f)return f.register(u)},[f,u]),u0(()=>{var p;!l||!u||(Jg(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let h=Le();return d?!l||!u?null:hg.createPortal(h({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:d0,name:"Portal"}),u):null});function Jb(e,t){let n=He(t),{enabled:r=!0,ownerDocument:s,...i}=e,a=Le();return r?D.createElement(qb,{...i,ownerDocument:s,ref:n}):a({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:d0,name:"Portal"})}let Yb=y.Fragment,f0=y.createContext(null);function Qb(e,t){let{target:n,...r}=e,s={ref:He(t)},i=Le();return D.createElement(f0.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:Yb,name:"Popover.Group"}))}let Uu=y.createContext(null);function Gb(){let e=y.useContext(Uu),t=y.useRef([]),n=q(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=q(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),s=y.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,y.useMemo(()=>function({children:i}){return D.createElement(Uu.Provider,{value:s},i)},[s])]}let Xb=Se(Jb),h0=Se(Qb),Zb=Object.assign(Xb,{Group:h0});function e_(e,t=typeof document<"u"?document.defaultView:null,n){let r=wi(e,"escape");l0(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===ut.Escape&&n(s))})}function t_(){var e;let[t]=y.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=y.useState((e=t==null?void 0:t.matches)!=null?e:!1);return he(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function n_({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=No(n),s=q(()=>{var i,a;let o=[];for(let l of e)l!==null&&(_n(l)?o.push(l):"current"in l&&_n(l.current)&&o.push(l.current));if(t!=null&&t.current)for(let l of t.current)o.push(l);for(let l of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&_n(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||o.some(u=>l.contains(u))||o.push(l));return o});return{resolveContainers:s,contains:q(i=>s().some(a=>a.contains(i)))}}let p0=y.createContext(null);function bh({children:e,node:t}){let[n,r]=y.useState(null),s=m0(t??n);return D.createElement(p0.Provider,{value:s},e,s===null&&D.createElement(oi,{features:ai.Hidden,ref:i=>{var a,o;if(i){for(let l of(o=(a=Jr(i))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(l!==document.body&&l!==document.head&&_n(l)&&l!=null&&l.contains(i)){r(l);break}}}}))}function m0(e=null){var t;return(t=y.useContext(p0))!=null?t:e}function Po(){let e=y.useRef(!1);return he(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ps=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ps||{});function r_(){let e=y.useRef(0);return o0(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function g0(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)_n(n.current)&&t.add(n.current);return t}let s_="div";var Tn=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Tn||{});function i_(e,t){let n=y.useRef(null),r=He(n,t),{initialFocus:s,initialFocusFallback:i,containers:a,features:o=15,...l}=e;Si()||(o=0);let u=No(n);u_(o,{ownerDocument:u});let f=c_(o,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});d_(o,{ownerDocument:u,container:n,containers:a,previousActiveElement:f});let d=r_(),h=q(m=>{if(!er(n.current))return;let w=n.current;(S=>S())(()=>{Xe(d.current,{[ps.Forwards]:()=>{bt(w,ve.First,{skipElements:[m.relatedTarget,i]})},[ps.Backwards]:()=>{bt(w,ve.Last,{skipElements:[m.relatedTarget,i]})}})})}),p=wi(!!(o&2),"focus-trap#tab-lock"),g=Co(),x=y.useRef(!1),b={ref:r,onKeyDown(m){m.key=="Tab"&&(x.current=!0,g.requestAnimationFrame(()=>{x.current=!1}))},onBlur(m){if(!(o&4))return;let w=g0(a);er(n.current)&&w.add(n.current);let S=m.relatedTarget;hn(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(y0(w,S)||(x.current?bt(n.current,Xe(d.current,{[ps.Forwards]:()=>ve.Next,[ps.Backwards]:()=>ve.Previous})|ve.WrapAround,{relativeTo:m.target}):hn(m.target)&&Kt(m.target)))}},v=Le();return D.createElement(D.Fragment,null,p&&D.createElement(oi,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ai.Focusable}),v({ourProps:b,theirProps:l,defaultTag:s_,name:"FocusTrap"}),p&&D.createElement(oi,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ai.Focusable}))}let a_=Se(i_),o_=Object.assign(a_,{features:Tn});function l_(e=!0){let t=y.useRef(ln.slice());return rd(([n],[r])=>{r===!0&&n===!1&&vi(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=ln.slice())},[e,ln,t]),q(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function u_(e,{ownerDocument:t}){let n=!!(e&8),r=l_(n);rd(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Kt(r())},[n]),u0(()=>{n&&Kt(r())})}function c_(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=y.useRef(null),a=wi(!!(e&1),"focus-trap#initial-focus"),o=Po();return rd(()=>{if(e===0)return;if(!a){s!=null&&s.current&&Kt(s.current);return}let l=n.current;l&&vi(()=>{if(!o.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(l.contains(u)){i.current=u;return}if(r!=null&&r.current)Kt(r.current);else{if(e&16){if(bt(l,ve.First|ve.AutoFocus)!==Bn.Error)return}else if(bt(l,ve.First)!==Bn.Error)return;if(s!=null&&s.current&&(Kt(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,a,e]),i}function d_(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=Po(),a=!!(e&4);l0(t==null?void 0:t.defaultView,"focus",o=>{if(!a||!i.current)return;let l=g0(r);er(n.current)&&l.add(n.current);let u=s.current;if(!u)return;let f=o.target;er(f)?y0(l,f)?(s.current=f,Kt(f)):(o.preventDefault(),o.stopPropagation(),Kt(u)):Kt(s.current)},!0)}function y0(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function v0(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:w0)!==y.Fragment||D.Children.count(e.children)===1}let Io=y.createContext(null);Io.displayName="TransitionContext";var f_=(e=>(e.Visible="visible",e.Hidden="hidden",e))(f_||{});function h_(){let e=y.useContext(Io);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function p_(){let e=y.useContext(Lo);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Lo=y.createContext(null);Lo.displayName="NestingContext";function Ro(e){return"children"in e?Ro(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function x0(e,t){let n=_t(e),r=y.useRef([]),s=Po(),i=Co(),a=q((p,g=fn.Hidden)=>{let x=r.current.findIndex(({el:b})=>b===p);x!==-1&&(Xe(g,{[fn.Unmount](){r.current.splice(x,1)},[fn.Hidden](){r.current[x].state="hidden"}}),i.microTask(()=>{var b;!Ro(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),o=q(p=>{let g=r.current.find(({el:x})=>x===p);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:p,state:"visible"}),()=>a(p,fn.Unmount)}),l=y.useRef([]),u=y.useRef(Promise.resolve()),f=y.useRef({enter:[],leave:[]}),d=q((p,g,x)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([b])=>b!==p)),t==null||t.chains.current[g].push([p,new Promise(b=>{l.current.push(b)})]),t==null||t.chains.current[g].push([p,new Promise(b=>{Promise.all(f.current[g].map(([v,m])=>m)).then(()=>b())})]),g==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>x(g)):x(g)}),h=q((p,g,x)=>{Promise.all(f.current[g].splice(0).map(([b,v])=>v)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>x(g))});return y.useMemo(()=>({children:r,register:o,unregister:a,onStart:d,onStop:h,wait:u,chains:f}),[o,a,r,d,h,f,u])}let w0=y.Fragment,S0=zr.RenderStrategy;function m_(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:a,beforeLeave:o,afterLeave:l,enter:u,enterFrom:f,enterTo:d,entered:h,leave:p,leaveFrom:g,leaveTo:x,...b}=e,[v,m]=y.useState(null),w=y.useRef(null),S=v0(e),_=He(...S?[w,t,m]:t===null?[]:[t]),C=(n=b.unmount)==null||n?fn.Unmount:fn.Hidden,{show:E,appear:j,initial:P}=h_(),[N,R]=y.useState(E?"visible":"hidden"),X=p_(),{register:Y,unregister:Z}=X;he(()=>Y(w),[Y,w]),he(()=>{if(C===fn.Hidden&&w.current){if(E&&N!=="visible"){R("visible");return}return Xe(N,{hidden:()=>Z(w),visible:()=>Y(w)})}},[N,w,Y,Z,E,C]);let Fe=Si();he(()=>{if(S&&Fe&&N==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,N,Fe,S]);let le=P&&!j,ce=j&&E&&P,I=y.useRef(!1),O=x0(()=>{I.current||(R("hidden"),Z(w))},X),T=q(Zt=>{I.current=!0;let Ci=Zt?"enter":"leave";O.onStart(w,Ci,Qr=>{Qr==="enter"?i==null||i():Qr==="leave"&&(o==null||o())})}),M=q(Zt=>{let Ci=Zt?"enter":"leave";I.current=!1,O.onStop(w,Ci,Qr=>{Qr==="enter"?a==null||a():Qr==="leave"&&(l==null||l())}),Ci==="leave"&&!Ro(O)&&(R("hidden"),Z(w))});y.useEffect(()=>{S&&s||(T(E),M(E))},[E,S,s]);let J=!(!s||!S||!Fe||le),[,H]=Mb(J,v,E,{start:T,end:M}),be=Ln({ref:_,className:((r=Du(b.className,ce&&u,ce&&f,H.enter&&u,H.enter&&H.closed&&f,H.enter&&!H.closed&&d,H.leave&&p,H.leave&&!H.closed&&g,H.leave&&H.closed&&x,!H.transition&&E&&h))==null?void 0:r.trim())||void 0,...Ob(H)}),Ve=0;N==="visible"&&(Ve|=kt.Open),N==="hidden"&&(Ve|=kt.Closed),E&&N==="hidden"&&(Ve|=kt.Opening),!E&&N==="visible"&&(Ve|=kt.Closing);let Ft=Le();return D.createElement(Lo.Provider,{value:O},D.createElement(Ub,{value:Ve},Ft({ourProps:be,theirProps:b,defaultTag:w0,features:S0,visible:N==="visible",name:"Transition.Child"})))}function g_(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,a=y.useRef(null),o=v0(e),l=He(...o?[a,t]:t===null?[]:[t]);Si();let u=$o();if(n===void 0&&u!==null&&(n=(u&kt.Open)===kt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=y.useState(n?"visible":"hidden"),h=x0(()=>{n||d("hidden")}),[p,g]=y.useState(!0),x=y.useRef([n]);he(()=>{p!==!1&&x.current[x.current.length-1]!==n&&(x.current.push(n),g(!1))},[x,n]);let b=y.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);he(()=>{n?d("visible"):!Ro(h)&&a.current!==null&&d("hidden")},[n,h]);let v={unmount:s},m=q(()=>{var _;p&&g(!1),(_=e.beforeEnter)==null||_.call(e)}),w=q(()=>{var _;p&&g(!1),(_=e.beforeLeave)==null||_.call(e)}),S=Le();return D.createElement(Lo.Provider,{value:h},D.createElement(Io.Provider,{value:b},S({ourProps:{...v,as:y.Fragment,children:D.createElement(b0,{ref:l,...v,...i,beforeEnter:m,beforeLeave:w})},theirProps:{},defaultTag:y.Fragment,features:S0,visible:f==="visible",name:"Transition"})))}function y_(e,t){let n=y.useContext(Io)!==null,r=$o()!==null;return D.createElement(D.Fragment,null,!n&&r?D.createElement(zu,{ref:t,...e}):D.createElement(b0,{ref:t,...e}))}let zu=Se(g_),b0=Se(m_),sd=Se(y_),ha=Object.assign(zu,{Child:sd,Root:zu});var v_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(v_||{}),x_=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(x_||{});let w_={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},id=y.createContext(null);id.displayName="DialogContext";function To(e){let t=y.useContext(id);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,To),n}return t}function S_(e,t){return Xe(t.type,w_,e,t)}let _h=Se(function(e,t){let n=y.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:a,role:o="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:f=!1,...d}=e,h=y.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(h.current||(h.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=$o();s===void 0&&p!==null&&(s=(p&kt.Open)===kt.Open);let g=y.useRef(null),x=He(g,t),b=No(g),v=s?0:1,[m,w]=y.useReducer(S_,{titleId:null,descriptionId:null,panelRef:y.createRef()}),S=q(()=>i(!1)),_=q(H=>w({type:0,id:H})),C=Si()?v===0:!1,[E,j]=Gb(),P={get current(){var H;return(H=m.panelRef.current)!=null?H:g.current}},N=m0(),{resolveContainers:R}=n_({mainTreeNode:N,portals:E,defaultContainers:[P]}),X=p!==null?(p&kt.Closing)===kt.Closing:!1;fb(u||X?!1:C,{allowed:q(()=>{var H,be;return[(be=(H=g.current)==null?void 0:H.closest("[data-headlessui-portal]"))!=null?be:null]}),disallowed:q(()=>{var H;return[(H=N==null?void 0:N.closest("body > *:not(#headlessui-portal-root)"))!=null?H:null]})});let Y=t0.get(null);he(()=>{if(C)return Y.actions.push(r),()=>Y.actions.pop(r)},[Y,r,C]);let Z=s0(Y,y.useCallback(H=>Y.selectors.isTop(H,r),[Y,r]));_b(Z,R,H=>{H.preventDefault(),S()}),e_(Z,b==null?void 0:b.defaultView,H=>{H.preventDefault(),H.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),Lb(u||X?!1:C,b,R),hb(C,g,S);let[Fe,le]=US(),ce=y.useMemo(()=>[{dialogState:v,close:S,setTitleId:_,unmount:f},m],[v,m,S,_,f]),I=y.useMemo(()=>({open:v===0}),[v]),O={ref:x,id:r,role:o,tabIndex:-1,"aria-modal":u?void 0:v===0?!0:void 0,"aria-labelledby":m.titleId,"aria-describedby":Fe,unmount:f},T=!t_(),M=Tn.None;C&&!u&&(M|=Tn.RestoreFocus,M|=Tn.TabLock,l&&(M|=Tn.AutoFocus),T&&(M|=Tn.InitialFocus));let J=Le();return D.createElement(zb,null,D.createElement(Sh,{force:!0},D.createElement(Zb,null,D.createElement(id.Provider,{value:ce},D.createElement(h0,{target:g},D.createElement(Sh,{force:!1},D.createElement(le,{slot:I},D.createElement(j,null,D.createElement(o_,{initialFocus:a,initialFocusFallback:g,containers:R,features:M},D.createElement(qS,{value:S},J({ourProps:O,theirProps:d,slot:I,defaultTag:b_,features:__,visible:v===0,name:"Dialog"})))))))))))}),b_="div",__=zr.RenderStrategy|zr.Static;function k_(e,t){let{transition:n=!1,open:r,...s}=e,i=$o(),a=e.hasOwnProperty("open")||i!==null,o=e.hasOwnProperty("onClose");if(!a&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?D.createElement(bh,null,D.createElement(ha,{show:r,transition:n,unmount:s.unmount},D.createElement(_h,{ref:t,...s}))):D.createElement(bh,null,D.createElement(_h,{ref:t,open:r,...s}))}let E_="div";function C_(e,t){let n=y.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:a,unmount:o},l]=To("Dialog.Panel"),u=He(t,l.panelRef),f=y.useMemo(()=>({open:a===0}),[a]),d=q(b=>{b.stopPropagation()}),h={ref:u,id:r,onClick:d},p=s?sd:y.Fragment,g=s?{unmount:o}:{},x=Le();return D.createElement(p,{...g},x({ourProps:h,theirProps:i,slot:f,defaultTag:E_,name:"Dialog.Panel"}))}let N_="div";function j_(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=To("Dialog.Backdrop"),a=y.useMemo(()=>({open:s===0}),[s]),o={ref:t,"aria-hidden":!0},l=n?sd:y.Fragment,u=n?{unmount:i}:{},f=Le();return D.createElement(l,{...u},f({ourProps:o,theirProps:r,slot:a,defaultTag:N_,name:"Dialog.Backdrop"}))}let $_="h2";function P_(e,t){let n=y.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:a}]=To("Dialog.Title"),o=He(t);y.useEffect(()=>(a(r),()=>a(null)),[r,a]);let l=y.useMemo(()=>({open:i===0}),[i]),u={ref:o,id:r};return Le()({ourProps:u,theirProps:s,slot:l,defaultTag:$_,name:"Dialog.Title"})}let I_=Se(k_),L_=Se(C_);Se(j_);let R_=Se(P_),_l=Object.assign(I_,{Panel:L_,Title:R_,Description:VS});function T_({onFocus:e}){let[t,n]=y.useState(!0),r=Po();return t?D.createElement(oi,{as:"button",type:"button",features:ai.Focusable,onFocus:s=>{s.preventDefault();let i,a=50;function o(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(o)}i=requestAnimationFrame(o)}}):null}const _0=y.createContext(null);function A_(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let s=(n=r.get(t))!=null?n:0;r.set(t,s+1);let i=Array.from(r.keys()).indexOf(t);function a(){let o=r.get(t);o>1?r.set(t,o-1):r.delete(t)}return[i,a]}}}function O_({children:e}){let t=y.useRef(A_());return y.createElement(_0.Provider,{value:t},e)}function k0(e){let t=y.useContext(_0);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=y.useId(),[r,s]=t.current.get(e,n);return y.useEffect(()=>s,[]),r}var M_=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(M_||{}),F_=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(F_||{}),D_=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(D_||{});let B_={0(e,t){var n;let r=Cr(e.tabs,f=>f.current),s=Cr(e.panels,f=>f.current),i=r.filter(f=>{var d;return!((d=f.current)!=null&&d.hasAttribute("disabled"))}),a={...e,tabs:r,panels:s};if(t.index<0||t.index>r.length-1){let f=Xe(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Xe(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return a;let d=Xe(f,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...a,selectedIndex:d===-1?e.selectedIndex:d}}let o=r.slice(0,t.index),l=[...r.slice(t.index),...o].find(f=>i.includes(f));if(!l)return a;let u=(n=r.indexOf(l))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Cr([...e.tabs,t.tab],i=>i.current),s=e.selectedIndex;return e.info.current.isControlled||(s=r.indexOf(n),s===-1&&(s=e.selectedIndex)),{...e,tabs:r,selectedIndex:s}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Cr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},ad=y.createContext(null);ad.displayName="TabsDataContext";function Wr(e){let t=y.useContext(ad);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wr),n}return t}let od=y.createContext(null);od.displayName="TabsActionsContext";function ld(e){let t=y.useContext(od);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ld),n}return t}function U_(e,t){return Xe(t.type,B_,e,t)}let z_="div";function W_(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:s=!1,onChange:i,selectedIndex:a=null,...o}=e;const l=r?"vertical":"horizontal",u=s?"manual":"auto";let f=a!==null,d=_t({isControlled:f}),h=He(t),[p,g]=y.useReducer(U_,{info:d,selectedIndex:a??n,tabs:[],panels:[]}),x=y.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),b=_t(i||(()=>{})),v=_t(p.tabs),m=y.useMemo(()=>({orientation:l,activation:u,...p}),[l,u,p]),w=q(N=>(g({type:1,tab:N}),()=>g({type:2,tab:N}))),S=q(N=>(g({type:3,panel:N}),()=>g({type:4,panel:N}))),_=q(N=>{C.current!==N&&b.current(N),f||g({type:0,index:N})}),C=_t(f?e.selectedIndex:p.selectedIndex),E=y.useMemo(()=>({registerTab:w,registerPanel:S,change:_}),[]);he(()=>{g({type:0,index:a??n})},[a]),he(()=>{if(C.current===void 0||p.tabs.length<=0)return;let N=Cr(p.tabs,R=>R.current);N.some((R,X)=>p.tabs[X]!==R)&&_(N.indexOf(p.tabs[C.current]))});let j={ref:h},P=Le();return D.createElement(O_,null,D.createElement(od.Provider,{value:E},D.createElement(ad.Provider,{value:m},m.tabs.length<=0&&D.createElement(T_,{onFocus:()=>{var N,R;for(let X of v.current)if(((N=X.current)==null?void 0:N.tabIndex)===0)return(R=X.current)==null||R.focus(),!0;return!1}}),P({ourProps:j,theirProps:o,slot:x,defaultTag:z_,name:"Tabs"}))))}let H_="div";function V_(e,t){let{orientation:n,selectedIndex:r}=Wr("Tab.List"),s=He(t),i=y.useMemo(()=>({selectedIndex:r}),[r]),a=e,o={ref:s,role:"tablist","aria-orientation":n};return Le()({ourProps:o,theirProps:a,slot:i,defaultTag:H_,name:"Tabs.List"})}let K_="button";function q_(e,t){var n,r;let s=y.useId(),{id:i=`headlessui-tabs-tab-${s}`,disabled:a=!1,autoFocus:o=!1,...l}=e,{orientation:u,activation:f,selectedIndex:d,tabs:h,panels:p}=Wr("Tab"),g=ld("Tab"),x=Wr("Tab"),[b,v]=y.useState(null),m=y.useRef(null),w=He(m,t,v);he(()=>g.registerTab(m),[g,m]);let S=k0("tabs"),_=h.indexOf(m);_===-1&&(_=S);let C=_===d,E=q(T=>{var M;let J=T();if(J===Bn.Success&&f==="auto"){let H=(M=Jr(m))==null?void 0:M.activeElement,be=x.tabs.findIndex(Ve=>Ve.current===H);be!==-1&&g.change(be)}return J}),j=q(T=>{let M=h.map(J=>J.current).filter(Boolean);if(T.key===ut.Space||T.key===ut.Enter){T.preventDefault(),T.stopPropagation(),g.change(_);return}switch(T.key){case ut.Home:case ut.PageUp:return T.preventDefault(),T.stopPropagation(),E(()=>bt(M,ve.First));case ut.End:case ut.PageDown:return T.preventDefault(),T.stopPropagation(),E(()=>bt(M,ve.Last))}if(E(()=>Xe(u,{vertical(){return T.key===ut.ArrowUp?bt(M,ve.Previous|ve.WrapAround):T.key===ut.ArrowDown?bt(M,ve.Next|ve.WrapAround):Bn.Error},horizontal(){return T.key===ut.ArrowLeft?bt(M,ve.Previous|ve.WrapAround):T.key===ut.ArrowRight?bt(M,ve.Next|ve.WrapAround):Bn.Error}}))===Bn.Success)return T.preventDefault()}),P=y.useRef(!1),N=q(()=>{var T;P.current||(P.current=!0,(T=m.current)==null||T.focus({preventScroll:!0}),g.change(_),vi(()=>{P.current=!1}))}),R=q(T=>{T.preventDefault()}),{isFocusVisible:X,focusProps:Y}=Vg({autoFocus:o}),{isHovered:Z,hoverProps:Fe}=bS({isDisabled:a}),{pressed:le,pressProps:ce}=jS({disabled:a}),I=y.useMemo(()=>({selected:C,hover:Z,active:le,focus:X,autofocus:o,disabled:a}),[C,Z,X,le,o,a]),O=qg({ref:w,onKeyDown:j,onMouseDown:R,onClick:N,id:i,role:"tab",type:kb(e,b),"aria-controls":(r=(n=p[_])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":C,tabIndex:C?0:-1,disabled:a||void 0,autoFocus:o},Y,Fe,ce);return Le()({ourProps:O,theirProps:l,slot:I,defaultTag:K_,name:"Tabs.Tab"})}let J_="div";function Y_(e,t){let{selectedIndex:n}=Wr("Tab.Panels"),r=He(t),s=y.useMemo(()=>({selectedIndex:n}),[n]),i=e,a={ref:r};return Le()({ourProps:a,theirProps:i,slot:s,defaultTag:J_,name:"Tabs.Panels"})}let Q_="div",G_=zr.RenderStrategy|zr.Static;function X_(e,t){var n,r,s,i;let a=y.useId(),{id:o=`headlessui-tabs-panel-${a}`,tabIndex:l=0,...u}=e,{selectedIndex:f,tabs:d,panels:h}=Wr("Tab.Panel"),p=ld("Tab.Panel"),g=y.useRef(null),x=He(g,t);he(()=>p.registerPanel(g),[p,g]);let b=k0("panels"),v=h.indexOf(g);v===-1&&(v=b);let m=v===f,{isFocusVisible:w,focusProps:S}=Vg(),_=y.useMemo(()=>({selected:m,focus:w}),[m,w]),C=qg({ref:x,id:o,role:"tabpanel","aria-labelledby":(r=(n=d[v])==null?void 0:n.current)==null?void 0:r.id,tabIndex:m?l:-1},S),E=Le();return!m&&((s=u.unmount)==null||s)&&!((i=u.static)!=null&&i)?D.createElement(oi,{"aria-hidden":"true",...C}):E({ourProps:C,theirProps:u,slot:_,defaultTag:Q_,features:G_,visible:m,name:"Tabs.Panel"})}let Z_=Se(q_),ek=Se(W_),tk=Se(V_),nk=Se(Y_),rk=Se(X_),as=Object.assign(Z_,{Group:ek,List:tk,Panels:nk,Panel:rk});function sk({isOpen:e,onSave:t}){const{t:n,i18n:r}=me(),[s,i]=y.useState(""),[a,o]=y.useState(!1),l=r.language==="he",u=async()=>{s.trim()&&(o(!0),setTimeout(()=>{t(s.trim()),i(""),o(!1)},500))},f=d=>{d.key==="Enter"&&s.trim()&&u()};return c.jsx(ha.Root,{show:e,as:y.Fragment,children:c.jsxs(_l,{as:"div",className:"relative z-50",onClose:()=>{},children:[c.jsx(ha.Child,{as:y.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:c.jsx(ha.Child,{as:y.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(_l.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white shadow-2xl transition-all",children:[c.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-6 border-b border-gray-200",children:c.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse gap-4":"gap-4"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),c.jsxs("div",{className:l?"text-right":"text-left",children:[c.jsx(_l.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:n("openaiModal.title")}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n("openaiModal.subtitle")})]})]})}),c.jsxs("div",{className:"px-6 py-6 space-y-6",children:[c.jsx("div",{className:l?"text-right":"text-left",children:c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:n("openaiModal.description")})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:`block text-sm font-medium text-gray-700 ${l?"text-right":"text-left"}`,children:n("openaiModal.apiKey")}),c.jsx("input",{type:"password",placeholder:n("openaiModal.apiKeyPlaceholder"),value:s,onChange:d=>i(d.target.value),onKeyPress:f,disabled:a,className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",autoFocus:!0}),c.jsxs("p",{className:`text-xs text-gray-500 ${l?"text-right":"text-left"}`,children:[n("openaiModal.getKeyText")," ",c.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-indigo-600 hover:text-indigo-500 underline",children:n("openaiModal.openaiPlatform")})]})]}),c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:c.jsxs("div",{className:`flex items-start ${l?"flex-row-reverse gap-2":"gap-2"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.25-4.5l-.02.02A4.014 4.014 0 0016 6c0 1.993-1.007 3.75-2.544 4.787m-.751 1.459A4.016 4.016 0 0110.75 15a4.016 4.016 0 01-2.204-2.754m-.751-1.459A4.014 4.014 0 015.25 6c0-1.993 1.007-3.75 2.544-4.787m.751 1.459c.423-.65.423-1.528 0-2.178"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-green-800",children:n("openaiModal.secureTitle")}),c.jsx("p",{className:"text-xs text-green-700 mt-1",children:n("openaiModal.secureDesc")})]})]})}),c.jsx("div",{className:`flex ${l?"justify-start":"justify-end"}`,children:c.jsx("button",{type:"button",onClick:u,disabled:!s.trim()||a,className:"inline-flex items-center justify-center px-6 py-3 bg-indigo-600 text-white text-sm font-medium rounded-lg shadow-sm hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 min-w-[100px]",children:a?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("openaiModal.saving")]}):c.jsxs(c.Fragment,{children:[n("openaiModal.saveKey"),c.jsx("svg",{className:`${l?"mr-2":"ml-2"} w-4 h-4`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]})]})})})})]})})}function ud({title:e,children:t,className:n=""}){const{t:r,i18n:s}=me(),i=Zc(),o=gi().pathname==="/",l=s.language==="he",u=()=>{const d=s.language==="en"?"he":"en";s.changeLanguage(d)},f=()=>{i("/")};return c.jsxs("div",{className:`min-h-screen bg-gray-50 ${n}`,dir:l?"rtl":"ltr",children:[c.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:c.jsxs("div",{className:"flex items-center h-16",children:[c.jsx("div",{className:`${l?"order-3":"order-1"} flex items-center`,children:o?c.jsx("div",{className:"w-10 h-10"}):c.jsx("button",{onClick:f,className:"inline-flex items-center justify-center w-10 h-10 rounded-full text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500","aria-label":r("layout.back"),children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),c.jsx("div",{className:"order-2 flex-1 text-center px-4",children:c.jsx("h1",{className:"text-xl font-semibold text-gray-900 truncate",children:e})}),c.jsx("div",{className:`${l?"order-1":"order-3"} flex items-center`,children:c.jsx("button",{onClick:u,className:"inline-flex items-center justify-center w-10 h-10 rounded-full text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500","aria-label":r("layout.switchLanguage"),children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})}function U(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function k(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let E0=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return E0=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Wu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Hu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class B extends Error{}class Pe extends B{constructor(t,n,r,s){super(`${Pe.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Ao({message:r,cause:Hu(n)});const i=n==null?void 0:n.error;return t===400?new C0(t,i,r,s):t===401?new N0(t,i,r,s):t===403?new j0(t,i,r,s):t===404?new $0(t,i,r,s):t===409?new P0(t,i,r,s):t===422?new I0(t,i,r,s):t===429?new L0(t,i,r,s):t>=500?new R0(t,i,r,s):new Pe(t,i,r,s)}}class ht extends Pe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ao extends Pe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class cd extends Ao{constructor({message:t}={}){super({message:t??"Request timed out."})}}class C0 extends Pe{}class N0 extends Pe{}class j0 extends Pe{}class $0 extends Pe{}class P0 extends Pe{}class I0 extends Pe{}class L0 extends Pe{}class R0 extends Pe{}class T0 extends B{constructor(){super("Could not parse response content as the length limit was reached")}}class A0 extends B{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ms extends Error{constructor(t){super(t)}}const ik=/^[a-z][a-z0-9+.-]*:/i,ak=e=>ik.test(e);let Ke=e=>(Ke=Array.isArray,Ke(e)),kh=Ke;function ok(e){return typeof e!="object"?{}:e??{}}function lk(e){if(!e)return!0;for(const t in e)return!1;return!0}function uk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kl(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const ck=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new B(`${e} must be an integer`);if(t<0)throw new B(`${e} must be a positive integer`);return t},dk=e=>{try{return JSON.parse(e)}catch{return}},bi=e=>new Promise(t=>setTimeout(t,e)),dr="5.8.2",fk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function hk(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pk=()=>{var n;const e=hk();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dr,"X-Stainless-OS":Ch(Deno.build.os),"X-Stainless-Arch":Eh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dr,"X-Stainless-OS":Ch(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Eh(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=mk();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mk(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:t,version:`${s}.${i}.${a}`}}}return null}const Eh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Ch=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Nh;const gk=()=>Nh??(Nh=pk());function yk(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function O0(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function M0(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return O0({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function F0(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vk(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const xk=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),D0="RFC3986",B0=e=>String(e),jh={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:B0},wk="RFC1738";let Vu=(e,t)=>(Vu=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Vu(e,t));const $t=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),El=1024,Sk=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=El){const l=i.length>=El?i.slice(o,o+El):i,u=[];for(let f=0;f<l.length;++f){let d=l.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===wk&&(d===40||d===41)){u[u.length]=l.charAt(f);continue}if(d<128){u[u.length]=$t[d];continue}if(d<2048){u[u.length]=$t[192|d>>6]+$t[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=$t[224|d>>12]+$t[128|d>>6&63]+$t[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|l.charCodeAt(f)&1023),u[u.length]=$t[240|d>>18]+$t[128|d>>12&63]+$t[128|d>>6&63]+$t[128|d&63]}a+=u.join("")}return a};function bk(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function $h(e,t){if(Ke(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const U0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},z0=function(e,t){Array.prototype.push.apply(e,Ke(t)?t:[t])};let Ph;const ye={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Sk,encodeValuesOnly:!1,format:D0,formatter:B0,indices:!1,serializeDate(e){return(Ph??(Ph=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function _k(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Cl={};function W0(e,t,n,r,s,i,a,o,l,u,f,d,h,p,g,x,b,v){let m=e,w=v,S=0,_=!1;for(;(w=w.get(Cl))!==void 0&&!_;){const N=w.get(e);if(S+=1,typeof N<"u"){if(N===S)throw new RangeError("Cyclic object value");_=!0}typeof w.get(Cl)>"u"&&(S=0)}if(typeof u=="function"?m=u(t,m):m instanceof Date?m=h==null?void 0:h(m):n==="comma"&&Ke(m)&&(m=$h(m,function(N){return N instanceof Date?h==null?void 0:h(N):N})),m===null){if(i)return l&&!x?l(t,ye.encoder,b,"key",p):t;m=""}if(_k(m)||bk(m)){if(l){const N=x?t:l(t,ye.encoder,b,"key",p);return[(g==null?void 0:g(N))+"="+(g==null?void 0:g(l(m,ye.encoder,b,"value",p)))]}return[(g==null?void 0:g(t))+"="+(g==null?void 0:g(String(m)))]}const C=[];if(typeof m>"u")return C;let E;if(n==="comma"&&Ke(m))x&&l&&(m=$h(m,l)),E=[{value:m.length>0?m.join(",")||null:void 0}];else if(Ke(u))E=u;else{const N=Object.keys(m);E=f?N.sort(f):N}const j=o?String(t).replace(/\./g,"%2E"):String(t),P=r&&Ke(m)&&m.length===1?j+"[]":j;if(s&&Ke(m)&&m.length===0)return P+"[]";for(let N=0;N<E.length;++N){const R=E[N],X=typeof R=="object"&&typeof R.value<"u"?R.value:m[R];if(a&&X===null)continue;const Y=d&&o?R.replace(/\./g,"%2E"):R,Z=Ke(m)?typeof n=="function"?n(P,Y):P:P+(d?"."+Y:"["+Y+"]");v.set(e,S);const Fe=new WeakMap;Fe.set(Cl,v),z0(C,W0(X,Z,n,r,s,i,a,o,n==="comma"&&x&&Ke(m)?null:l,u,f,d,h,p,g,x,b,Fe))}return C}function kk(e=ye){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||ye.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=D0;if(typeof e.format<"u"){if(!Vu(jh,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=jh[n];let s=ye.filter;(typeof e.filter=="function"||Ke(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in U0?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=ye.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:ye.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ye.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ye.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ye.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ye.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ye.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ye.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ye.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ye.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ye.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ye.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ye.strictNullHandling}}function Ek(e,t={}){let n=e;const r=kk(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Ke(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=U0[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const p=s[h];r.skipNulls&&n[p]===null||z0(a,W0(n[p],p,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const f=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),f.length>0?d+f:""}function Ck(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let Ih;function dd(e){let t;return(Ih??(t=new globalThis.TextEncoder,Ih=t.encode.bind(t)))(e)}let Lh;function Rh(e){let t;return(Lh??(t=new globalThis.TextDecoder,Lh=t.decode.bind(t)))(e)}var Ze,et;class Oo{constructor(){Ze.set(this,void 0),et.set(this,void 0),U(this,Ze,new Uint8Array),U(this,et,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?dd(t):t;U(this,Ze,Ck([k(this,Ze,"f"),n]));const r=[];let s;for(;(s=Nk(k(this,Ze,"f"),k(this,et,"f")))!=null;){if(s.carriage&&k(this,et,"f")==null){U(this,et,s.index);continue}if(k(this,et,"f")!=null&&(s.index!==k(this,et,"f")+1||s.carriage)){r.push(Rh(k(this,Ze,"f").subarray(0,k(this,et,"f")-1))),U(this,Ze,k(this,Ze,"f").subarray(k(this,et,"f"))),U(this,et,null);continue}const i=k(this,et,"f")!==null?s.preceding-1:s.preceding,a=Rh(k(this,Ze,"f").subarray(0,i));r.push(a),U(this,Ze,k(this,Ze,"f").subarray(s.index)),U(this,et,null)}return r}flush(){return k(this,Ze,"f").length?this.decode(`
`):[]}}Ze=new WeakMap,et=new WeakMap;Oo.NEWLINE_CHARS=new Set([`
`,"\r"]);Oo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Nk(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function jk(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}class At{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new B("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const a of $k(t,n))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new Pe(void 0,o.error,void 0,t.headers);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new Pe(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(Wu(a))return;throw a}finally{i||n.abort()}}return new At(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const a=new Oo,o=F0(t);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*i(){if(r)throw new B("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(Wu(o))return;throw o}finally{a||n.abort()}}return new At(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();t.push(a),n.push(a)}return i.shift()}});return[new At(()=>s(t),this.controller),new At(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;return O0({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=dd(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*$k(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new B("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new B("Attempted to iterate over a response with no body");const n=new Ik,r=new Oo,s=F0(e.body);for await(const i of Pk(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*Pk(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?dd(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=jk(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class Ik{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=Lk(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function Lk(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const eo={off:0,error:200,warn:300,info:400,debug:500},Th=(e,t,n)=>{if(e){if(uk(eo,e))return e;Ae(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(eo))}`)}};function gs(){}function qi(e,t,n){return!t||eo[e]>eo[n]?gs:t[e].bind(t)}const Rk={error:gs,warn:gs,info:gs,debug:gs};let Ah=new WeakMap;function Ae(e){const t=e.logger,n=e.logLevel??"off";if(!t)return Rk;const r=Ah.get(t);if(r&&r[0]===n)return r[1];const s={error:qi("error",t,n),warn:qi("warn",t,n),info:qi("info",t,n),debug:qi("debug",t,n)};return Ah.set(t,[n,s]),s}const Rn=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);async function H0(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=t,a=await(async()=>{var d;if(t.options.stream)return Ae(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller):At.fromSSEResponse(n,t.controller);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const h=await n.json();return V0(h,n)}return await n.text()})();return Ae(e).debug(`[${r}] response parsed`,Rn({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function V0(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var ys;class Mo extends Promise{constructor(t,n,r=H0){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,ys.set(this,void 0),U(this,ys,t)}_thenUnwrap(t){return new Mo(k(this,ys,"f"),this.responsePromise,async(n,r)=>V0(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(k(this,ys,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ys=new WeakMap;var Ji;class K0{constructor(t,n,r,s){Ji.set(this,void 0),U(this,Ji,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new B("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await k(this,Ji,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ji=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Tk extends Mo{constructor(t,n,r){super(t,n,async(s,i)=>new r(s,i.response,await H0(s,i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class Fo extends K0{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class pe extends K0{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...ok(this.options.query),after:n}}:null}}const q0=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Os(e,t,n){return q0(),new File(e,t??"unknown_file",n)}function pa(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const J0=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",tr=async(e,t)=>({...e,body:await Ok(e.body,t)}),Oh=new WeakMap;function Ak(e){const t=typeof e=="function"?e:e.fetch,n=Oh.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return Oh.set(t,r),r}const Ok=async(e,t)=>{if(!await Ak(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>Ku(n,r,s))),n},Mk=e=>e instanceof Blob&&"name"in e,Ku=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,Os([await n.blob()],pa(n)));else if(J0(n))e.append(t,Os([await new Response(M0(n)).blob()],pa(n)));else if(Mk(n))e.append(t,n,pa(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Ku(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Ku(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},Y0=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Fk=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Y0(e),Dk=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Bk(e,t,n){if(q0(),e=await e,Fk(e))return e instanceof File?e:Os([await e.arrayBuffer()],e.name);if(Dk(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Os(await qu(s),t,n)}const r=await qu(e);if(t||(t=pa(e)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return Os(r,t,n)}async function qu(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Y0(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(J0(e))for await(const r of e)t.push(...await qu(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${Uk(e)}`)}return t}function Uk(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class z{constructor(t){this._client=t}}function Q0(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zk=(e=Q0)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=n.reduce((f,d,h)=>(/[?#]/.test(d)&&(s=!0),f+d+(h===r.length?"":(s?encodeURIComponent:e)(String(r[h])))),""),a=i.split(/[?#]/,1)[0],o=[],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length});if(o.length>0){let f=0;const d=o.reduce((h,p)=>{const g=" ".repeat(p.start-f),x="^".repeat(p.length);return f=p.start+p.length,h+g+x},"");throw new B(`Path parameters result in path with invalid segments:
${i}
${d}`)}return i},L=zk(Q0);let G0=class extends z{list(t,n={},r){return this._client.getAPIList(L`/chat/completions/${t}/messages`,pe,{query:n,...r})}};function Wk(e){return typeof e.parse=="function"}const to=e=>(e==null?void 0:e.role)==="assistant",X0=e=>(e==null?void 0:e.role)==="tool";var Ju,ma,ga,vs,xs,ya,ws,Bt,Ss,no,ro,fr,Z0;class fd{constructor(){Ju.add(this),this.controller=new AbortController,ma.set(this,void 0),ga.set(this,()=>{}),vs.set(this,()=>{}),xs.set(this,void 0),ya.set(this,()=>{}),ws.set(this,()=>{}),Bt.set(this,{}),Ss.set(this,!1),no.set(this,!1),ro.set(this,!1),fr.set(this,!1),U(this,ma,new Promise((t,n)=>{U(this,ga,t,"f"),U(this,vs,n,"f")})),U(this,xs,new Promise((t,n)=>{U(this,ya,t,"f"),U(this,ws,n,"f")})),k(this,ma,"f").catch(()=>{}),k(this,xs,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},k(this,Ju,"m",Z0).bind(this))},0)}_connected(){this.ended||(k(this,ga,"f").call(this),this._emit("connect"))}get ended(){return k(this,Ss,"f")}get errored(){return k(this,no,"f")}get aborted(){return k(this,ro,"f")}abort(){this.controller.abort()}on(t,n){return(k(this,Bt,"f")[t]||(k(this,Bt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=k(this,Bt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(k(this,Bt,"f")[t]||(k(this,Bt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{U(this,fr,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){U(this,fr,!0),await k(this,xs,"f")}_emit(t,...n){if(k(this,Ss,"f"))return;t==="end"&&(U(this,Ss,!0),k(this,ya,"f").call(this));const r=k(this,Bt,"f")[t];if(r&&(k(this,Bt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!k(this,fr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,vs,"f").call(this,s),k(this,ws,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!k(this,fr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,vs,"f").call(this,s),k(this,ws,"f").call(this,s),this._emit("end")}}_emitFinal(){}}ma=new WeakMap,ga=new WeakMap,vs=new WeakMap,xs=new WeakMap,ya=new WeakMap,ws=new WeakMap,Bt=new WeakMap,Ss=new WeakMap,no=new WeakMap,ro=new WeakMap,fr=new WeakMap,Ju=new WeakSet,Z0=function(t){if(U(this,no,!0),t instanceof Error&&t.name==="AbortError"&&(t=new ht),t instanceof ht)return U(this,ro,!0),this._emit("abort",t);if(t instanceof B)return this._emit("error",t);if(t instanceof Error){const n=new B(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new B(String(t)))};function hd(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function _i(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Hk(e,t){return!t||!ey(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:pd(e,t)}function pd(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new T0;if(r.finish_reason==="content_filter")throw new A0;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>Kk(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Vk(t,r.message.content):null}}});return{...e,choices:n}}function Vk(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Kk(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:_i(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function qk(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return _i(n)||(n==null?void 0:n.function.strict)||!1}function ey(e){var t;return hd(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>_i(n)||n.type==="function"&&n.function.strict===!0))??!1}function Jk(e){for(const t of e??[]){if(t.type!=="function")throw new B(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new B(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var De,Yu,so,Qu,Gu,Xu,ty,ny;const Yk=10;class ry extends fd{constructor(){super(...arguments),De.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),X0(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(to(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new B("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),k(this,De,"m",Yu).call(this)}async finalMessage(){return await this.done(),k(this,De,"m",so).call(this)}async finalFunctionToolCall(){return await this.done(),k(this,De,"m",Qu).call(this)}async finalFunctionToolCallResult(){return await this.done(),k(this,De,"m",Gu).call(this)}async totalUsage(){return await this.done(),k(this,De,"m",Xu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=k(this,De,"m",so).call(this);n&&this._emit("finalMessage",n);const r=k(this,De,"m",Yu).call(this);r&&this._emit("finalContent",r);const s=k(this,De,"m",Qu).call(this);s&&this._emit("finalFunctionToolCall",s);const i=k(this,De,"m",Gu).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",k(this,De,"m",Xu).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,De,"m",ty).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(pd(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var p,g,x;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=Yk}=r||{},f=n.tools.map(b=>{if(_i(b)){if(!b.$callback)throw new B("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),d={};for(const b of f)b.type==="function"&&(d[b.function.name||b.function.function.name]=b.function);const h="tools"in n?f.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<u;++b){const m=(g=(await this._createChatCompletion(t,{...o,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!m)throw new B("missing message in ChatCompletion response");if(!((x=m.tool_calls)!=null&&x.length))return;for(const w of m.tool_calls){if(w.type!=="function")continue;const S=w.id,{name:_,arguments:C}=w.function,E=d[_];if(E){if(l&&l!==_){const R=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}}else{const R=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(d).map(X=>JSON.stringify(X)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:R});continue}let j;try{j=Wk(E)?await E.parse(C):C}catch(R){const X=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:S,content:X});continue}const P=await E.function(j,this),N=k(this,De,"m",ny).call(this,P);if(this._addMessage({role:s,tool_call_id:S,content:N}),l)return}}}}De=new WeakSet,Yu=function(){return k(this,De,"m",so).call(this).content??null},so=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(to(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new B("stream ended without producing a ChatCompletionMessage with role=assistant")},Qu=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(to(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Gu=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(X0(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Xu=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},ty=function(t){if(t.n!=null&&t.n>1)throw new B("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ny=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class md extends ry{static runTools(t,n,r){const s=new md,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),to(t)&&t.content&&this._emit("content",t.content)}}const sy=1,iy=2,ay=4,oy=8,ly=16,uy=32,cy=64,dy=128,fy=256,hy=dy|fy,py=ly|uy|hy|cy,my=sy|iy|py,gy=ay|oy,Qk=my|gy,_e={STR:sy,NUM:iy,ARR:ay,OBJ:oy,NULL:ly,BOOL:uy,NAN:cy,INFINITY:dy,MINUS_INFINITY:fy,INF:hy,SPECIAL:py,ATOM:my,COLLECTION:gy,ALL:Qk};class Gk extends Error{}class Xk extends Error{}function Zk(e,t=_e.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return eE(e.trim(),t)}const eE=(e,t)=>{const n=e.length;let r=0;const s=h=>{throw new Gk(`${h} at position ${r}`)},i=h=>{throw new Xk(`${h} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||_e.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||_e.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||_e.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||_e.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||_e.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||_e.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):f()),o=()=>{const h=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(h,++r-Number(p)))}catch(g){i(String(g))}else if(_e.STR&t)try{return JSON.parse(e.substring(h,r-Number(p))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;e[r]!=="}";){if(d(),r>=n&&_e.OBJ&t)return h;const p=o();d(),r++;try{const g=a();Object.defineProperty(h,p,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(_e.OBJ&t)return h;throw g}d(),e[r]===","&&r++}}catch{if(_e.OBJ&t)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;e[r]!=="]";)h.push(a()),d(),e[r]===","&&r++}catch{if(_e.ARR&t)return h;s("Expected ']' at end of array")}return r++,h},f=()=>{if(r===0){e==="-"&&_e.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(_e.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const h=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(_e.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,r))}catch{e.substring(h,r)==="-"&&_e.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(g){i(String(g))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},Mh=e=>Zk(e,_e.ALL^_e.NUM);var ge,Dt,lr,tn,Nl,Yi,jl,$l,Pl,Qi,Il,Fh;class li extends ry{constructor(t){super(),ge.add(this),Dt.set(this,void 0),lr.set(this,void 0),tn.set(this,void 0),U(this,Dt,t),U(this,lr,[])}get currentChatCompletionSnapshot(){return k(this,tn,"f")}static fromReadableStream(t){const n=new li(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new li(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,ge,"m",Nl).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)k(this,ge,"m",jl).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new ht;return this._addChatCompletion(k(this,ge,"m",Qi).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),k(this,ge,"m",Nl).call(this),this._connected();const s=At.fromReadableStream(t,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(k(this,ge,"m",Qi).call(this)),k(this,ge,"m",jl).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new ht;return this._addChatCompletion(k(this,ge,"m",Qi).call(this))}[(Dt=new WeakMap,lr=new WeakMap,tn=new WeakMap,ge=new WeakSet,Nl=function(){this.ended||U(this,tn,void 0)},Yi=function(n){let r=k(this,lr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},k(this,lr,"f")[n.index]=r,r)},jl=function(n){var s,i,a,o,l,u,f,d,h,p,g,x,b,v,m;if(this.ended)return;const r=k(this,ge,"m",Fh).call(this,n);this._emit("chunk",n,r);for(const w of n.choices){const S=r.choices[w.index];w.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((i=S.message)!=null&&i.content)&&(this._emit("content",w.delta.content,S.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),w.delta.refusal!=null&&((a=S.message)==null?void 0:a.role)==="assistant"&&((o=S.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:S.message.refusal}),((l=w.logprobs)==null?void 0:l.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=w.logprobs)==null?void 0:f.content,snapshot:((d=S.logprobs)==null?void 0:d.content)??[]}),((h=w.logprobs)==null?void 0:h.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=w.logprobs)==null?void 0:g.refusal,snapshot:((x=S.logprobs)==null?void 0:x.refusal)??[]});const _=k(this,ge,"m",Yi).call(this,S);S.finish_reason&&(k(this,ge,"m",Pl).call(this,S),_.current_tool_call_index!=null&&k(this,ge,"m",$l).call(this,S,_.current_tool_call_index));for(const C of w.delta.tool_calls??[])_.current_tool_call_index!==C.index&&(k(this,ge,"m",Pl).call(this,S),_.current_tool_call_index!=null&&k(this,ge,"m",$l).call(this,S,_.current_tool_call_index)),_.current_tool_call_index=C.index;for(const C of w.delta.tool_calls??[]){const E=(b=S.message.tool_calls)==null?void 0:b[C.index];E!=null&&E.type&&((E==null?void 0:E.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(v=E.function)==null?void 0:v.name,index:C.index,arguments:E.function.arguments,parsed_arguments:E.function.parsed_arguments,arguments_delta:((m=C.function)==null?void 0:m.arguments)??""}):(E==null||E.type,void 0))}}},$l=function(n,r){var a,o,l;if(k(this,ge,"m",Yi).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=k(this,Dt,"f"))==null?void 0:o.tools)==null?void 0:l.find(f=>f.type==="function"&&f.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:_i(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Pl=function(n){var s,i;const r=k(this,ge,"m",Yi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=k(this,ge,"m",Il).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Qi=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");const n=k(this,tn,"f");if(!n)throw new B("request ended without sending any chunks");return U(this,tn,void 0),U(this,lr,[]),tE(n,k(this,Dt,"f"))},Il=function(){var r;const n=(r=k(this,Dt,"f"))==null?void 0:r.response_format;return hd(n)?n:null},Fh=function(n){var r,s,i,a;let o=k(this,tn,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=U(this,tn,{...u,choices:[]});for(const{delta:f,finish_reason:d,index:h,logprobs:p=null,...g}of n.choices){let x=o.choices[h];if(x||(x=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:p,...g}),p)if(!x.logprobs)x.logprobs=Object.assign({},p);else{const{content:C,refusal:E,...j}=p;Object.assign(x.logprobs,j),C&&((r=x.logprobs).content??(r.content=[]),x.logprobs.content.push(...C)),E&&((s=x.logprobs).refusal??(s.refusal=[]),x.logprobs.refusal.push(...E))}if(d&&(x.finish_reason=d,k(this,Dt,"f")&&ey(k(this,Dt,"f")))){if(d==="length")throw new T0;if(d==="content_filter")throw new A0}if(Object.assign(x,g),!f)continue;const{content:b,refusal:v,function_call:m,role:w,tool_calls:S,..._}=f;if(Object.assign(x.message,_),v&&(x.message.refusal=(x.message.refusal||"")+v),w&&(x.message.role=w),m&&(x.message.function_call?(m.name&&(x.message.function_call.name=m.name),m.arguments&&((i=x.message.function_call).arguments??(i.arguments=""),x.message.function_call.arguments+=m.arguments)):x.message.function_call=m),b&&(x.message.content=(x.message.content||"")+b,!x.message.refusal&&k(this,ge,"m",Il).call(this)&&(x.message.parsed=Mh(x.message.content))),S){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:C,id:E,type:j,function:P,...N}of S){const R=(a=x.message.tool_calls)[C]??(a[C]={});Object.assign(R,N),E&&(R.id=E),j&&(R.type=j),P&&(R.function??(R.function={name:P.name??"",arguments:""})),P!=null&&P.name&&(R.function.name=P.name),P!=null&&P.arguments&&(R.function.arguments+=P.arguments,qk(k(this,Dt,"f"),R)&&(R.function.parsed_arguments=Mh(R.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new At(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function tE(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:f,index:d,logprobs:h,...p})=>{if(!f)throw new B(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:x,tool_calls:b,...v}=u,m=u.role;if(!m)throw new B(`missing role for choice ${d}`);if(x){const{arguments:w,name:S}=x;if(w==null)throw new B(`missing function_call.arguments for choice ${d}`);if(!S)throw new B(`missing function_call.name for choice ${d}`);return{...p,message:{content:g,function_call:{arguments:w,name:S},role:m,refusal:u.refusal??null},finish_reason:f,index:d,logprobs:h}}return b?{...p,index:d,finish_reason:f,logprobs:h,message:{...v,role:m,content:g,refusal:u.refusal??null,tool_calls:b.map((w,S)=>{const{function:_,type:C,id:E,...j}=w,{arguments:P,name:N,...R}=_||{};if(E==null)throw new B(`missing choices[${d}].tool_calls[${S}].id
${Gi(e)}`);if(C==null)throw new B(`missing choices[${d}].tool_calls[${S}].type
${Gi(e)}`);if(N==null)throw new B(`missing choices[${d}].tool_calls[${S}].function.name
${Gi(e)}`);if(P==null)throw new B(`missing choices[${d}].tool_calls[${S}].function.arguments
${Gi(e)}`);return{...j,id:E,type:C,function:{...R,name:N,arguments:P}}})}}:{...p,message:{...v,content:g,role:m,refusal:u.refusal??null},finish_reason:f,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Hk(l,t)}function Gi(e){return JSON.stringify(e)}class io extends li{static fromReadableStream(t){const n=new io(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new io(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let gd=class extends z{constructor(){super(...arguments),this.messages=new G0(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(L`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(L`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",pe,{query:t,...n})}delete(t,n){return this._client.delete(L`/chat/completions/${t}`,n)}parse(t,n){return Jk(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>pd(r,t))}runTools(t,n){return t.stream?io.runTools(this._client,t,n):md.runTools(this._client,t,n)}stream(t,n){return li.createChatCompletion(this._client,t,n)}};gd.Messages=G0;class yd extends z{constructor(){super(...arguments),this.completions=new gd(this._client)}}yd.Completions=gd;const yy=Symbol("brand.privateNullableHeaders");function*nE(e){if(!e)return;if(yy in e){const{values:r,nulls:s}=e;yield*r.entries();for(const i of s)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():kh(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=kh(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(t&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const F=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[i,a]of nE(r)){const o=i.toLowerCase();s.has(o)||(t.delete(i),s.add(o)),a===null?(t.delete(i),n.add(o)):(t.append(i,a),n.delete(o))}}return{[yy]:!0,values:t,nulls:n}};class vy extends z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:F([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class xy extends z{create(t,n){return this._client.post("/audio/transcriptions",tr({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class wy extends z{create(t,n){return this._client.post("/audio/translations",tr({body:t,...n,__metadata:{model:t.model}},this._client))}}class ki extends z{constructor(){super(...arguments),this.transcriptions=new xy(this._client),this.translations=new wy(this._client),this.speech=new vy(this._client)}}ki.Transcriptions=xy;ki.Translations=wy;ki.Speech=vy;class Sy extends z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(L`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",pe,{query:t,...n})}cancel(t,n){return this._client.post(L`/batches/${t}/cancel`,n)}}class by extends z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(L`/assistants/${t}`,{...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(L`/assistants/${t}`,{body:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",pe,{query:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(L`/assistants/${t}`,{...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class _y extends z{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class ky extends z{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Do extends z{constructor(){super(...arguments),this.sessions=new _y(this._client),this.transcriptionSessions=new ky(this._client)}}Do.Sessions=_y;Do.TranscriptionSessions=ky;class Ey extends z{create(t,n,r){return this._client.post(L`/threads/${t}/messages`,{body:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(L`/threads/${s}/messages/${t}`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(L`/threads/${s}/messages/${t}`,{body:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(L`/threads/${t}/messages`,pe,{query:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(L`/threads/${s}/messages/${t}`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Cy extends z{retrieve(t,n,r){const{thread_id:s,run_id:i,...a}=n;return this._client.get(L`/threads/${s}/runs/${i}/steps/${t}`,{query:a,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(L`/threads/${s}/runs/${t}/steps`,pe,{query:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const rE=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Ll={};const ur=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=Ll==null?void 0:Ll[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var Ne,zn,Zu,Lt,va,xt,Wn,Nr,An,ao,tt,xa,wa,Ms,bs,_s,Dh,Bh,Uh,zh,Wh,Hh,Vh;class Fs extends fd{constructor(){super(...arguments),Ne.add(this),Zu.set(this,[]),Lt.set(this,{}),va.set(this,{}),xt.set(this,void 0),Wn.set(this,void 0),Nr.set(this,void 0),An.set(this,void 0),ao.set(this,void 0),tt.set(this,void 0),xa.set(this,void 0),wa.set(this,void 0),Ms.set(this,void 0)}[(Zu=new WeakMap,Lt=new WeakMap,va=new WeakMap,xt=new WeakMap,Wn=new WeakMap,Nr=new WeakMap,An=new WeakMap,ao=new WeakMap,tt=new WeakMap,xa=new WeakMap,wa=new WeakMap,Ms=new WeakMap,Ne=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new zn;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=At.fromReadableStream(t,this.controller);for await(const a of s)k(this,Ne,"m",bs).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new ht;return this._addRun(k(this,Ne,"m",_s).call(this))}toReadableStream(){return new At(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const i=new zn;return i._run(()=>i._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.submitToolOutputs(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)k(this,Ne,"m",bs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ht;return this._addRun(k(this,Ne,"m",_s).call(this))}static createThreadAssistantStream(t,n,r){const s=new zn;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new zn;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return k(this,xa,"f")}currentRun(){return k(this,wa,"f")}currentMessageSnapshot(){return k(this,xt,"f")}currentRunStepSnapshot(){return k(this,Ms,"f")}async finalRunSteps(){return await this.done(),Object.values(k(this,Lt,"f"))}async finalMessages(){return await this.done(),Object.values(k(this,va,"f"))}async finalRun(){if(await this.done(),!k(this,Wn,"f"))throw Error("Final run was not received.");return k(this,Wn,"f")}async _createThreadAssistantStream(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)k(this,Ne,"m",bs).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new ht;return this._addRun(k(this,Ne,"m",_s).call(this))}async _createAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)k(this,Ne,"m",bs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ht;return this._addRun(k(this,Ne,"m",_s).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(kl(i)&&kl(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!kl(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}zn=Fs,bs=function(t){if(!this.ended)switch(U(this,xa,t),k(this,Ne,"m",Uh).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":k(this,Ne,"m",Vh).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":k(this,Ne,"m",Bh).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":k(this,Ne,"m",Dh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_s=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");if(!k(this,Wn,"f"))throw Error("Final run has not been received");return k(this,Wn,"f")},Dh=function(t){const[n,r]=k(this,Ne,"m",Wh).call(this,t,k(this,xt,"f"));U(this,xt,n),k(this,va,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=k(this,Nr,"f")){if(k(this,An,"f"))switch(k(this,An,"f").type){case"text":this._emit("textDone",k(this,An,"f").text,k(this,xt,"f"));break;case"image_file":this._emit("imageFileDone",k(this,An,"f").image_file,k(this,xt,"f"));break}U(this,Nr,s.index)}U(this,An,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(k(this,Nr,"f")!==void 0){const s=t.data.content[k(this,Nr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,k(this,xt,"f"));break;case"text":this._emit("textDone",s.text,k(this,xt,"f"));break}}k(this,xt,"f")&&this._emit("messageDone",t.data),U(this,xt,void 0)}},Bh=function(t){const n=k(this,Ne,"m",zh).call(this,t);switch(U(this,Ms,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==k(this,ao,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(k(this,tt,"f")&&this._emit("toolCallDone",k(this,tt,"f")),U(this,ao,i.index),U(this,tt,n.step_details.tool_calls[i.index]),k(this,tt,"f")&&this._emit("toolCallCreated",k(this,tt,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":U(this,Ms,void 0),t.data.step_details.type=="tool_calls"&&k(this,tt,"f")&&(this._emit("toolCallDone",k(this,tt,"f")),U(this,tt,void 0)),this._emit("runStepDone",t.data,n);break}},Uh=function(t){k(this,Zu,"f").push(t),this._emit("event",t)},zh=function(t){switch(t.event){case"thread.run.step.created":return k(this,Lt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=k(this,Lt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=zn.accumulateDelta(n,r.delta);k(this,Lt,"f")[t.data.id]=s}return k(this,Lt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":k(this,Lt,"f")[t.data.id]=t.data;break}if(k(this,Lt,"f")[t.data.id])return k(this,Lt,"f")[t.data.id];throw new Error("No snapshot available")},Wh=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=k(this,Ne,"m",Hh).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Hh=function(t,n){return zn.accumulateDelta(n,t)},Vh=function(t){switch(U(this,wa,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":U(this,Wn,t.data),k(this,tt,"f")&&(this._emit("toolCallDone",k(this,tt,"f")),U(this,tt,void 0));break}};let vd=class extends z{constructor(){super(...arguments),this.steps=new Cy(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(L`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(L`/threads/${s}/runs/${t}`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(L`/threads/${s}/runs/${t}`,{body:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(L`/threads/${t}/runs`,pe,{query:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(L`/threads/${s}/runs/${t}/cancel`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return Fs.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var i;const s=F([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const f=parseInt(u);isNaN(f)||(l=f)}}await bi(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,n,r){return Fs.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...i}=n;return this._client.post(L`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return Fs.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};vd.Steps=Cy;class Bo extends z{constructor(){super(...arguments),this.runs=new vd(this._client),this.messages=new Ey(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(L`/threads/${t}`,{...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(L`/threads/${t}`,{body:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(L`/threads/${t}`,{...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Fs.createThreadAssistantStream(t,this._client.beta.threads,n)}}Bo.Runs=vd;Bo.Messages=Ey;class Ei extends z{constructor(){super(...arguments),this.realtime=new Do(this._client),this.assistants=new by(this._client),this.threads=new Bo(this._client)}}Ei.Realtime=Do;Ei.Assistants=by;Ei.Threads=Bo;class Ny extends z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class jy extends z{retrieve(t,n,r){const{container_id:s}=n;return this._client.get(L`/containers/${s}/files/${t}/content`,{...r,headers:F([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let xd=class extends z{constructor(){super(...arguments),this.content=new jy(this._client)}create(t,n,r){return this._client.post(L`/containers/${t}/files`,tr({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(L`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(L`/containers/${t}/files`,pe,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(L`/containers/${s}/files/${t}`,{...r,headers:F([{Accept:"*/*"},r==null?void 0:r.headers])})}};xd.Content=jy;class wd extends z{constructor(){super(...arguments),this.files=new xd(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(L`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",pe,{query:t,...n})}delete(t,n){return this._client.delete(L`/containers/${t}`,{...n,headers:F([{Accept:"*/*"},n==null?void 0:n.headers])})}}wd.Files=xd;class $y extends z{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&Ae(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(Ae(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=rE(l)}),a)))}}class Py extends z{retrieve(t,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(L`/evals/${s}/runs/${i}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(L`/evals/${s}/runs/${t}/output_items`,pe,{query:i,...r})}}class Sd extends z{constructor(){super(...arguments),this.outputItems=new Py(this._client)}create(t,n,r){return this._client.post(L`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(L`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(L`/evals/${t}/runs`,pe,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(L`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(L`/evals/${s}/runs/${t}`,r)}}Sd.OutputItems=Py;class bd extends z{constructor(){super(...arguments),this.runs=new Sd(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(L`/evals/${t}`,n)}update(t,n,r){return this._client.post(L`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",pe,{query:t,...n})}delete(t,n){return this._client.delete(L`/evals/${t}`,n)}}bd.Runs=Sd;let Iy=class extends z{create(t,n){return this._client.post("/files",tr({body:t,...n},this._client))}retrieve(t,n){return this._client.get(L`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",pe,{query:t,...n})}delete(t,n){return this._client.delete(L`/files/${t}`,n)}content(t,n){return this._client.get(L`/files/${t}/content`,{...n,headers:F([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(t);for(;!a.status||!s.has(a.status);)if(await bi(n),a=await this.retrieve(t),Date.now()-i>r)throw new cd({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class Ly extends z{}let Ry=class extends z{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class _d extends z{constructor(){super(...arguments),this.graders=new Ry(this._client)}}_d.Graders=Ry;class Ty extends z{create(t,n,r){return this._client.getAPIList(L`/fine_tuning/checkpoints/${t}/permissions`,Fo,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(L`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(L`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let kd=class extends z{constructor(){super(...arguments),this.permissions=new Ty(this._client)}};kd.Permissions=Ty;class Ay extends z{list(t,n={},r){return this._client.getAPIList(L`/fine_tuning/jobs/${t}/checkpoints`,pe,{query:n,...r})}}class Ed extends z{constructor(){super(...arguments),this.checkpoints=new Ay(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(L`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",pe,{query:t,...n})}cancel(t,n){return this._client.post(L`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(L`/fine_tuning/jobs/${t}/events`,pe,{query:n,...r})}pause(t,n){return this._client.post(L`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(L`/fine_tuning/jobs/${t}/resume`,n)}}Ed.Checkpoints=Ay;class Yr extends z{constructor(){super(...arguments),this.methods=new Ly(this._client),this.jobs=new Ed(this._client),this.checkpoints=new kd(this._client),this.alpha=new _d(this._client)}}Yr.Methods=Ly;Yr.Jobs=Ed;Yr.Checkpoints=kd;Yr.Alpha=_d;class Oy extends z{}class Cd extends z{constructor(){super(...arguments),this.graderModels=new Oy(this._client)}}Cd.GraderModels=Oy;class My extends z{createVariation(t,n){return this._client.post("/images/variations",tr({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",tr({body:t,...n},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Fy extends z{retrieve(t,n){return this._client.get(L`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Fo,t)}delete(t,n){return this._client.delete(L`/models/${t}`,n)}}class Dy extends z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function sE(e,t){return!t||!aE(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:By(e,t)}function By(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:uE(t,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:iE(t,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||ec(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function iE(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function aE(e){var t;return!!hd((t=e.text)==null?void 0:t.format)}function oE(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function lE(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function uE(e,t){const n=lE(e.tools??[],t.name);return{...t,...t,parsed_arguments:oE(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function ec(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var cr,Xi,nn,Zi,Kh,qh,Jh,Yh;class Nd extends fd{constructor(t){super(),cr.add(this),Xi.set(this,void 0),nn.set(this,void 0),Zi.set(this,void 0),U(this,Xi,t)}static createResponse(t,n,r){const s=new Nd(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,cr,"m",Kh).call(this);let i,a=null;"response_id"in n?(i=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)k(this,cr,"m",qh).call(this,l,a);if((o=i.controller.signal)!=null&&o.aborted)throw new ht;return k(this,cr,"m",Jh).call(this)}[(Xi=new WeakMap,nn=new WeakMap,Zi=new WeakMap,cr=new WeakSet,Kh=function(){this.ended||U(this,nn,void 0)},qh=function(n,r){if(this.ended)return;const s=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},i=k(this,cr,"m",Yh).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new B(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new B(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new B(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new B(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},Jh=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");const n=k(this,nn,"f");if(!n)throw new B("request ended without sending any events");U(this,nn,void 0);const r=cE(n,k(this,Xi,"f"));return U(this,Zi,r),r},Yh=function(n){let r=k(this,nn,"f");if(!r){if(n.type!=="response.created")throw new B(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=U(this,nn,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new B(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new B(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{U(this,nn,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=k(this,Zi,"f");if(!t)throw new B("stream ended without producing a ChatCompletion");return t}}function cE(e,t){return sE(e,t)}class Uy extends z{list(t,n={},r){return this._client.getAPIList(L`/responses/${t}/input_items`,pe,{query:n,...r})}}class jd extends z{constructor(){super(...arguments),this.inputItems=new Uy(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&ec(r),r))}retrieve(t,n={},r){return this._client.get(L`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&ec(s),s))}delete(t,n){return this._client.delete(L`/responses/${t}`,{...n,headers:F([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>By(r,t))}stream(t,n){return Nd.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(L`/responses/${t}/cancel`,n)}}jd.InputItems=Uy;class zy extends z{create(t,n,r){return this._client.post(L`/uploads/${t}/parts`,tr({body:n,...r},this._client))}}class $d extends z{constructor(){super(...arguments),this.parts=new zy(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(L`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(L`/uploads/${t}/complete`,{body:n,...r})}}$d.Parts=zy;const dE=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class Wy extends z{create(t,n,r){return this._client.post(L`/vector_stores/${t}/file_batches`,{body:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(L`/vector_stores/${s}/file_batches/${t}`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(L`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(L`/vector_stores/${s}/file_batches/${t}/files`,pe,{query:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var i;const s=F([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const f=parseInt(u);isNaN(f)||(l=f)}}await bi(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function f(h){for(let p of h){const g=await o.files.create({file:p,purpose:"assistants"},s);u.push(g.id)}}const d=Array(a).fill(l).map(f);return await dE(d),await this.createAndPoll(t,{file_ids:u})}}class Hy extends z{create(t,n,r){return this._client.post(L`/vector_stores/${t}/files`,{body:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(L`/vector_stores/${s}/files/${t}`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...i}=n;return this._client.post(L`/vector_stores/${s}/files/${t}`,{body:i,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(L`/vector_stores/${t}/files`,pe,{query:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(L`/vector_stores/${s}/files/${t}`,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var i;const s=F([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const f=parseInt(u);isNaN(f)||(l=f)}}await bi(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(L`/vector_stores/${s}/files/${t}/content`,Fo,{...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Uo extends z{constructor(){super(...arguments),this.files=new Hy(this._client),this.fileBatches=new Wy(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(L`/vector_stores/${t}`,{...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(L`/vector_stores/${t}`,{body:n,...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",pe,{query:t,...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(L`/vector_stores/${t}`,{...n,headers:F([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(L`/vector_stores/${t}/search`,Fo,{body:n,method:"post",...r,headers:F([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Uo.Files=Hy;Uo.FileBatches=Wy;var hr,Vy,Sa;class Ky extends z{constructor(){super(...arguments),hr.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");k(this,hr,"m",Vy).call(this,r);const i=F([n]).values,a=k(this,hr,"m",Sa).call(this,i,"webhook-signature"),o=k(this,hr,"m",Sa).call(this,i,"webhook-timestamp"),l=k(this,hr,"m",Sa).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new ms("Invalid webhook timestamp format");const f=Math.floor(Date.now()/1e3);if(f-u>s)throw new ms("Webhook timestamp is too old");if(u>f+s)throw new ms("Webhook timestamp is too new");const d=a.split(" ").map(x=>x.startsWith("v1,")?x.substring(3):x),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=l?`${l}.${o}.${t}`:`${o}.${t}`,g=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const x of d)try{const b=Buffer.from(x,"base64");if(await crypto.subtle.verify("HMAC",g,b,new TextEncoder().encode(p)))return}catch{continue}throw new ms("The given webhook signature does not match the expected signature")}}hr=new WeakSet,Vy=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Sa=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var tc,Pd,ba,qy;class K{constructor({baseURL:t=ur("OPENAI_BASE_URL"),apiKey:n=ur("OPENAI_API_KEY"),organization:r=ur("OPENAI_ORG_ID")??null,project:s=ur("OPENAI_PROJECT_ID")??null,webhookSecret:i=ur("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(tc.add(this),ba.set(this,void 0),this.completions=new Ny(this),this.chat=new yd(this),this.embeddings=new $y(this),this.files=new Iy(this),this.images=new My(this),this.audio=new ki(this),this.moderations=new Dy(this),this.models=new Fy(this),this.fineTuning=new Yr(this),this.graders=new Cd(this),this.vectorStores=new Uo(this),this.webhooks=new Ky(this),this.beta=new Ei(this),this.batches=new Sy(this),this.uploads=new $d(this),this.responses=new jd(this),this.evals=new bd(this),this.containers=new wd(this),n===void 0)throw new B("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,webhookSecret:i,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&fk())throw new B(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Pd.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=Th(o.logLevel,"ClientOptions.logLevel",this)??Th(ur("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??yk(),U(this,ba,xk),this._options=o,this.apiKey=n,this.organization=r,this.project=s,this.webhookSecret=i}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}authHeaders(t){return F([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return Ek(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${dr}`}defaultIdempotencyKey(){return`stainless-node-retry-${E0()}`}makeStatusError(t,n,r,s){return Pe.generate(t,n,r,s)}buildURL(t,n,r){const s=!k(this,tc,"m",qy).call(this)&&r||this.baseURL,i=ak(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return lk(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new Mo(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var v,m;const s=await t,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),f=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Ae(this).debug(`[${u}] sending request`,Rn({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(v=s.signal)!=null&&v.aborted)throw new ht;const h=new AbortController,p=await this.fetchWithTimeout(o,a,l,h).catch(Hu),g=Date.now();if(p instanceof Error){const w=`retrying, ${n} attempts remaining`;if((m=s.signal)!=null&&m.aborted)throw new ht;const S=Wu(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Ae(this).info(`[${u}] connection ${S?"timed out":"failed"} - ${w}`),Ae(this).debug(`[${u}] connection ${S?"timed out":"failed"} (${w})`,Rn({retryOfRequestLogID:r,url:o,durationMs:g-d,message:p.message})),this.retryRequest(s,n,r??u);throw Ae(this).info(`[${u}] connection ${S?"timed out":"failed"} - error; no more retries left`),Ae(this).debug(`[${u}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Rn({retryOfRequestLogID:r,url:o,durationMs:g-d,message:p.message})),S?new cd:new Ao({cause:p})}const x=[...p.headers.entries()].filter(([w])=>w==="x-request-id").map(([w,S])=>", "+w+": "+JSON.stringify(S)).join(""),b=`[${u}${f}${x}] ${a.method} ${o} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${g-d}ms`;if(!p.ok){const w=this.shouldRetry(p);if(n&&w){const P=`retrying, ${n} attempts remaining`;return await vk(p.body),Ae(this).info(`${b} - ${P}`),Ae(this).debug(`[${u}] response error (${P})`,Rn({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),this.retryRequest(s,n,r??u,p.headers)}const S=w?"error; no more retries left":"error; not retryable";Ae(this).info(`${b} - ${S}`);const _=await p.text().catch(P=>Hu(P).message),C=dk(_),E=C?void 0:_;throw Ae(this).debug(`[${u}] response error (${S})`,Rn({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:E,durationMs:Date.now()-d})),this.makeStatusError(p.status,C,E,p.headers)}return Ae(this).info(b),Ae(this).debug(`[${u}] response start`,Rn({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),{response:p,options:s,controller:h,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new Tk(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,f={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,f)}finally{clearTimeout(l)}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await bi(i),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&ck("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:f}=this.buildBody({options:r}),d=this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&f instanceof globalThis.ReadableStream&&{duplex:"half"},...f&&{body:f},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const a=F([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...gk(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=F([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:M0(t)}:k(this,ba,"f").call(this,{body:t,headers:r})}}Pd=K,ba=new WeakMap,tc=new WeakSet,qy=function(){return this.baseURL!=="https://api.openai.com/v1"};K.OpenAI=Pd;K.DEFAULT_TIMEOUT=6e5;K.OpenAIError=B;K.APIError=Pe;K.APIConnectionError=Ao;K.APIConnectionTimeoutError=cd;K.APIUserAbortError=ht;K.NotFoundError=$0;K.ConflictError=P0;K.RateLimitError=L0;K.BadRequestError=C0;K.AuthenticationError=N0;K.InternalServerError=R0;K.PermissionDeniedError=j0;K.UnprocessableEntityError=I0;K.InvalidWebhookSignatureError=ms;K.toFile=Bk;K.Completions=Ny;K.Chat=yd;K.Embeddings=$y;K.Files=Iy;K.Images=My;K.Audio=ki;K.Moderations=Dy;K.Models=Fy;K.FineTuning=Yr;K.Graders=Cd;K.VectorStores=Uo;K.Webhooks=Ky;K.Beta=Ei;K.Batches=Sy;K.Uploads=$d;K.Responses=jd;K.Evals=bd;K.Containers=wd;const _a={GENERAL_ASSISTANT:`You are a helpful, knowledgeable, and friendly AI assistant. 
Provide clear, accurate, and concise responses. If you're unsure about something, 
acknowledge the uncertainty rather than guessing. Always be respectful and 
maintain a professional tone.`,CHAT_ASSISTANT:`You are a friendly AI chat assistant designed to help users with 
various questions and tasks. Be conversational, helpful, and engaging. Keep your 
responses clear and to the point. If asked about technical topics, explain them 
in an accessible way.`,JSON_ASSISTANT:`You are an AI assistant that responds in valid JSON format only. 
Follow the provided JSON schema exactly. Do not include any text outside of the JSON response. 
Ensure all JSON is properly formatted and valid.`,ANALYSIS_ASSISTANT:`You are an AI assistant specialized in analysis and insights. 
Provide thorough, well-structured analysis with clear reasoning. Break down complex 
topics into digestible parts and highlight key findings or recommendations.`,CREATIVE_ASSISTANT:`You are a creative AI assistant that helps with writing, 
  brainstorming, and creative tasks. Be imaginative, inspiring, and provide 
  unique perspectives while maintaining quality and coherence.`,AGENT_SELECTOR_ASSISTANT:`   (Routing)     .
               :

   "expense"       .     ( )   .
         ( )   ,   "dates"   2 :
      -  :   (YYYY-MM-DD)
      -  :   (YYYY-MM-DD)
         ,        .
         ,     "dates".
      -"dates"    2     .
   "loan"     .   {"loan": true}.
   "lost"        .   {"lost": true}.
   "followup"        .         "followup".
   "info"         ;   {"info": true}.

    .       .
    JSON     AGENT_SELECTOR_RESPONSE.      -JSON.`},Qh={SIMPLE_RESPONSE:{type:"object",properties:{response:{type:"string",description:"The main response text"},confidence:{type:"number",minimum:0,maximum:1,description:"Confidence level of the response (0-1)"}},required:["response"],additionalProperties:!1},ANALYSIS_RESPONSE:{type:"object",properties:{summary:{type:"string",description:"Brief summary of the analysis"},keyPoints:{type:"array",items:{type:"string"},description:"Key points from the analysis"},recommendations:{type:"array",items:{type:"string"},description:"Recommended actions or next steps"},confidence:{type:"number",minimum:0,maximum:1,description:"Confidence level of the analysis"}},required:["summary","keyPoints"],additionalProperties:!1},QA_RESPONSE:{type:"object",properties:{answer:{type:"string",description:"The answer to the question"},sources:{type:"array",items:{type:"string"},description:"Sources or references for the answer"},relatedQuestions:{type:"array",items:{type:"string"},description:"Related questions the user might ask"}},required:["answer"],additionalProperties:!1},CREATIVE_RESPONSE:{type:"object",properties:{title:{type:"string",description:"Title of the creative work"},content:{type:"string",description:"The main creative content"},genre:{type:"string",description:"Genre or style of the content"},wordCount:{type:"number",description:"Approximate word count"}},required:["content"],additionalProperties:!1},AGENT_SELECTOR_RESPONSE:{type:"object",properties:{callType:{type:"string",enum:["expense","loan","lost","followup","info"],description:"Type of action the UI should perform"},expense:{type:"object",properties:{card:{type:"string",description:"Identifier for the card (e.g., last4, brand) to show expenses for"},dates:{type:"array",items:{type:"string",description:"Date in ISO 8601 format (YYYY-MM-DD) for which expenses are requested"},description:"Specific dates requested; if omitted, all dates are implied"}},additionalProperties:!1},loan:{type:"boolean",description:"True if the user is asking about loans"},lost:{type:"boolean",description:"True if the user is reporting a lost card"},followup:{type:"string",description:"Clarifying question that should be asked back to the user"},info:{type:"boolean",description:"True if the user is requesting general information"}},required:["callType"],additionalProperties:!1}},fE={model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3,timeout:3e4};class hE{constructor(t={}){zo(this,"openai",null);zo(this,"defaultConfig");const n=typeof window<"u"?localStorage.getItem("OPENAI_API_KEY"):"";n?this.initOpenAI(n):console.warn("OpenAI API key not found. AI functionality will be disabled until a key is provided."),this.defaultConfig={...fE,...t}}initOpenAI(t){this.openai=new K({apiKey:t,dangerouslyAllowBrowser:!0})}updateApiKey(t){t&&(typeof window<"u"&&localStorage.setItem("OPENAI_API_KEY",t),this.initOpenAI(t))}async chat(t,n={}){if(!this.openai)throw new Error("OpenAI API key not configured. Please provide one via the Settings page.");const r={...this.defaultConfig,...n.config},i=[{role:"system",content:this.getSystemPrompt(n.systemPrompt)},{role:"user",content:t}],a={model:r.model,messages:i,temperature:r.temperature,max_tokens:r.maxTokens};if(n.jsonSchema){const o=this.getJsonSchema(n.jsonSchema);a.response_format={type:"json_object"},i[0].content+=`

Respond with valid JSON following this exact schema: ${JSON.stringify(o)}`}try{const o=await this.openai.chat.completions.create(a),l=o.choices[0],u=l.message.content||"";return{content:n.jsonSchema?this.parseJsonResponse(u):u,usage:o.usage?{promptTokens:o.usage.prompt_tokens,completionTokens:o.usage.completion_tokens,totalTokens:o.usage.total_tokens}:void 0,model:o.model,finishReason:l.finish_reason}}catch(o){throw console.error("AI Service Error:",o),new Error(`AI request failed: ${o instanceof Error?o.message:"Unknown error"}`)}}async conversation(t,n={}){if(!this.openai)throw new Error("OpenAI API key not configured. Please provide one via the Settings page.");const r={...this.defaultConfig,...n.config},i=[{role:"system",content:this.getSystemPrompt(n.systemPrompt)},...t.map(o=>({role:o.role,content:o.content}))],a={model:r.model,messages:i,temperature:r.temperature,max_tokens:r.maxTokens};if(n.jsonSchema){const o=this.getJsonSchema(n.jsonSchema);a.response_format={type:"json_object"},i[0].content+=`

Respond with valid JSON following this exact schema: ${JSON.stringify(o)}`}try{const o=await this.openai.chat.completions.create(a),l=o.choices[0],u=l.message.content||"";return{content:n.jsonSchema?this.parseJsonResponse(u):u,usage:o.usage?{promptTokens:o.usage.prompt_tokens,completionTokens:o.usage.completion_tokens,totalTokens:o.usage.total_tokens}:void 0,model:o.model,finishReason:l.finish_reason}}catch(o){throw console.error("AI Service Error:",o),new Error(`AI request failed: ${o instanceof Error?o.message:"Unknown error"}`)}}getSystemPrompt(t){return t?typeof t=="string"&&t in _a?_a[t]:t:_a.GENERAL_ASSISTANT}getJsonSchema(t){return t?typeof t=="string"&&t in Qh?Qh[t]:t:{}}parseJsonResponse(t){try{return JSON.parse(t)}catch{throw console.error("Failed to parse JSON response:",t),new Error("AI returned invalid JSON response")}}updateConfig(t){this.defaultConfig={...this.defaultConfig,...t}}getConfig(){return{...this.defaultConfig}}}const ui=new hE;function pE(){const{t:e,i18n:t}=me(),[n,r]=y.useState(""),[s,i]=y.useState(""),a=t.language==="he";y.useEffect(()=>{const u=localStorage.getItem("OPENAI_API_KEY")||"";r(u)},[]);const o=()=>{n.trim()&&(localStorage.setItem("OPENAI_API_KEY",n.trim()),ui.updateApiKey(n.trim()),i(e("settings.apiKeySaved")),setTimeout(()=>i(""),3e3))},l=()=>{localStorage.removeItem("OPENAI_API_KEY"),r("")};return c.jsx(ud,{title:e("settings.title"),children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[c.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e("settings.openaiConfig")}),c.jsx("p",{className:"text-sm text-gray-600",children:e("settings.openaiConfigDesc")})]})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("settings.apiKey")}),c.jsx("input",{type:"password",placeholder:e("settings.apiKeyPlaceholder"),value:n,onChange:u=>r(u.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 placeholder-gray-400"}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:e("settings.apiKeyNote")})]}),c.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[c.jsx("button",{onClick:o,disabled:!n.trim(),className:"flex-1 sm:flex-none px-6 py-3 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:e("settings.saveChanges")}),c.jsx("button",{onClick:l,className:"px-6 py-3 bg-white text-red-600 text-sm font-medium rounded-lg border border-red-200 hover:bg-red-50 hover:border-red-300 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:e("settings.clearKey")})]}),s&&c.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} p-3 bg-green-50 border border-green-200 rounded-lg`,children:[c.jsx("svg",{className:"w-5 h-5 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("p",{className:"text-sm font-medium text-green-800",children:s})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:`flex items-start ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[c.jsx("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:e("settings.aboutTitle")}),c.jsxs("p",{className:"text-sm text-blue-700",children:[e("settings.aboutDesc")," ",c.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline hover:no-underline",children:e("settings.openaiPlatform")}),"."]})]})]})})]})]})})})}const ea=e=>new Intl.NumberFormat("he-IL",{style:"currency",currency:"ILS",minimumFractionDigits:2}).format(e),nc=e=>new Intl.DateTimeFormat("he-IL",{day:"2-digit",month:"2-digit"}).format(e),mE=(e,t)=>{if(console.log("FROM:::",e,"TO:::",t,"!FROM :::",!e,"!TO :::",!t),!e||!t)return!1;const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(r.getFullYear(),r.getMonth(),r.getDate());if(console.log("currentMonthStart::::::::::::::::::::::::::::",r.getTime(),e.getTime()),s.getTime()!==i.getTime())return!1;const a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=new Date(n.getFullYear(),n.getMonth(),n.getDate());return console.log("toDate::::::::::::::::::::::::::::",a.getTime(),o.getTime(),a.getTime()>=o.getTime()),a.getTime()>=o.getTime()},gE=(e,t)=>{const n=nc(e),r=nc(t);return`${n} - ${r}`};function Jy({cardType:e,cardBrand:t,last4:n,nextChargeDate:r,currentDebt:s,creditLimit:i,available:a,from:o,to:l}){const{t:u,i18n:f}=me(),d=f.language==="he",h=d?"rtl":"ltr",p=`${e} - ${t}`,g=Math.min(Math.max(s/i,0),1)*100,x=o&&l&&!mE(o,l);return c.jsxs("div",{dir:h,className:"w-full max-w-sm aspect-[1.586/1] rounded-2xl border border-gray-200 bg-gradient-to-br from-white via-gray-50 to-gray-100 p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col",style:{backgroundImage:`
          linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 50%, rgba(241,245,249,0.9) 100%),
          radial-gradient(circle at 20% 80%, rgba(99,102,241,0.03) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(168,85,247,0.03) 0%, transparent 50%)
        `},children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"truncate text-sm font-semibold text-gray-800",children:[p,c.jsx("span",{className:"mx-1 text-gray-400",children:"|"}),c.jsx("span",{className:"text-gray-600",children:n})]}),c.jsx("button",{type:"button",className:"rounded-lg border border-gray-300 bg-white/80 backdrop-blur-sm px-3 py-1 text-xs text-gray-700 hover:bg-white hover:shadow-sm transition-all duration-200",children:u("creditStat.actions")})]}),c.jsx("div",{className:"flex-1"}),x?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:`flex items-end gap-2 ${d?"rtl:gap-2":"ltr:gap-2"}`,children:[c.jsx("span",{className:"text-2xl font-bold leading-none text-gray-900",children:ea(s)}),c.jsx("span",{className:"mb-1 text-xs text-gray-500",children:u("creditStat.totalAmount","")})]}),c.jsx("div",{className:"text-center",children:c.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:[u("creditStat.billingPeriod"," "),":"," ",gE(o,l)]})})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:`flex items-end gap-2 ${d?"rtl:gap-2":"ltr:gap-2"}`,children:[c.jsx("span",{className:"text-2xl font-bold leading-none text-gray-900",children:ea(s)}),c.jsxs("span",{className:"mb-1 text-xs text-gray-500",children:[u("creditStat.nextChargeIn")," ",nc(r)]})]}),c.jsx("div",{className:"h-1.5 w-full rounded-full bg-gray-200/60 shadow-inner",children:c.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 shadow-sm transition-all duration-500 ease-out",style:{width:`${g}%`}})}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-600 font-medium",children:[c.jsxs("span",{children:[u("creditStat.creditLimitPrefix")," ",ea(i)]}),c.jsxs("span",{children:[u("creditStat.availablePrefix")," ",ea(a)]})]})]})]})}function yE({cardType:e,setCardType:t,cardBrand:n,setCardBrand:r,last4:s,setLast4:i,nextChargeDate:a,setNextChargeDate:o,currentDebt:l,setCurrentDebt:u,creditLimit:f,setCreditLimit:d,available:h,setAvailable:p}){const{t:g}=me();return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:g("creditStat.controls","CreditStat props")}),c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Card type",c.jsxs("select",{className:"rounded border p-2",value:e,onChange:x=>t(x.target.value),children:[c.jsx("option",{value:"gold",children:"Gold"}),c.jsx("option",{value:"platinum",children:"Platinum"}),c.jsx("option",{value:"classic",children:"Classic"}),c.jsx("option",{value:"business",children:"Business"})]})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Card brand",c.jsxs("select",{className:"rounded border p-2",value:n,onChange:x=>r(x.target.value),children:[c.jsx("option",{value:"mastercard",children:"Mastercard"}),c.jsx("option",{value:"visa",children:"Visa"}),c.jsx("option",{value:"americanExpress",children:"American Express"}),c.jsx("option",{value:"isracard",children:"Isracard"})]})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Last 4 digits",c.jsx("input",{className:"rounded border p-2",type:"text",maxLength:4,value:s,onChange:x=>i(x.target.value)})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Next charge date",c.jsx("input",{className:"rounded border p-2",type:"date",value:a,onChange:x=>o(x.target.value)})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Current debt ()",c.jsx("input",{className:"rounded border p-2",type:"number",step:"0.01",value:l,onChange:x=>u(parseFloat(x.target.value))})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Credit limit ()",c.jsx("input",{className:"rounded border p-2",type:"number",step:"0.01",value:f,onChange:x=>d(parseFloat(x.target.value))})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Available ()",c.jsx("input",{className:"rounded border p-2",type:"number",step:"0.01",value:h,onChange:x=>p(parseFloat(x.target.value))})]})]})]})}function vE(){const[e,t]=y.useState("gold"),[n,r]=y.useState("mastercard"),[s,i]=y.useState("4481"),[a,o]=y.useState("2024-08-02"),[l,u]=y.useState(0),[f,d]=y.useState(12e3),[h,p]=y.useState(11866.66);return c.jsxs("section",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-start justify-center",children:c.jsx(Jy,{cardType:e,cardBrand:n,last4:s,nextChargeDate:new Date(a),currentDebt:l,creditLimit:f,available:h})}),c.jsx(yE,{cardType:e,setCardType:t,cardBrand:n,setCardBrand:r,last4:s,setLast4:i,nextChargeDate:a,setNextChargeDate:o,currentDebt:l,setCurrentDebt:u,creditLimit:f,setCreditLimit:d,available:h,setAvailable:p})]})}const xE=(e,t="ILS",n="he-IL")=>new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:2}).format(e),wE=(e,t="he-IL")=>new Intl.DateTimeFormat(t,{day:"2-digit",month:"2-digit",year:"numeric"}).format(e);function Yy({expenses:e,className:t=""}){const{t:n,i18n:r}=me(),[s,i]=y.useState(""),a=y.useMemo(()=>{if(!s.trim())return e;const u=s.toLowerCase();return e.filter(f=>f.description.toLowerCase().includes(u))},[e,s]),o=r.language==="he"?"he-IL":r.language,l=r.dir();return c.jsxs("section",{dir:l,className:`w-full max-w-md md:max-w-2xl mx-auto ${t}`.trim(),children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n("expenseList.title"," ")}),c.jsx("input",{type:"search",placeholder:n("expenseList.searchPlaceholder",""),value:s,onChange:u=>i(u.target.value),className:"w-full sm:w-64 rounded-lg border border-gray-300 bg-white/70 p-2 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),c.jsx("p",{className:"mb-3 text-xs text-gray-600",children:n("expenseList.subtitle",'      "')}),c.jsxs("ul",{className:"divide-y divide-gray-200 rounded-xl border border-gray-200 bg-white shadow-sm",children:[a.length===0&&c.jsx("li",{className:"p-4 text-sm text-gray-500 text-center",children:n("expenseList.noResults","  ")}),a.map(({id:u,description:f,amount:d,currency:h,billedAt:p})=>c.jsxs("li",{className:"flex items-center justify-between gap-2 p-4",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-medium text-gray-800 truncate max-w-[12rem] md:max-w-none",children:f}),c.jsx("span",{className:"hidden md:inline text-xs text-gray-500",children:wE(p,o)})]}),c.jsx("span",{className:`text-sm font-semibold ${d>=0?"text-gray-800":"text-green-600"}`,children:xE(d,h??"ILS",o)})]},u))]})]})}function SE({addExpense:e}){const{t}=me(),[n,r]=y.useState(""),[s,i]=y.useState(""),[a,o]=y.useState("ILS"),[l,u]=y.useState(()=>new Date().toISOString().slice(0,10)),f=()=>{!n||!s||(e({id:Date.now(),creditId:"demo-card",description:n,amount:parseFloat(s),currency:a,billedAt:new Date(l)}),r(""),i(""))};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:t("expenseList.controls","Add expense")}),c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Description",c.jsx("input",{className:"rounded border p-2",value:n,onChange:d=>r(d.target.value),type:"text"})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Amount",c.jsx("input",{className:"rounded border p-2",value:s,onChange:d=>i(d.target.value),type:"number",step:"0.01"})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Currency",c.jsxs("select",{className:"rounded border p-2",value:a,onChange:d=>o(d.target.value),children:[c.jsx("option",{value:"ILS",children:"ILS"}),c.jsx("option",{value:"USD",children:"USD"}),c.jsx("option",{value:"EUR",children:"EUR"})]})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Billed date",c.jsx("input",{className:"rounded border p-2",type:"date",value:l,onChange:d=>u(d.target.value)})]}),c.jsx("button",{type:"button",onClick:f,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50",disabled:!n||!s,children:t("expenseList.add","")})]})]})}function bE(){const{t:e}=me(),[t,n]=y.useState([{id:1,creditId:"demo-card",description:e("demo.expenses.groceries"," "),amount:250.9,billedAt:new Date("2024-07-15"),currency:"ILS"},{id:2,creditId:"demo-card",description:e("demo.expenses.coffee"," "),amount:18.5,billedAt:new Date("2024-07-18"),currency:"ILS"},{id:3,creditId:"demo-card",description:e("demo.expenses.online","Amazon Online"),amount:120.99,billedAt:new Date("2024-07-20"),currency:"USD"},{id:4,creditId:"demo-card",description:e("demo.expenses.gas","  "),amount:220,billedAt:new Date("2024-07-22"),currency:"ILS"}]),r=s=>n(i=>[...i,s]);return c.jsxs("section",{className:"space-y-6",children:[c.jsx(Yy,{expenses:t}),c.jsx(SE,{addExpense:r})]})}function Qy({minAmount:e,maxAmount:t,sliderStep:n=1e3,className:r="",onSuccess:s}){const{t:i,i18n:a}=me(),[o,l]=y.useState("request"),[u,f]=y.useState(Math.round((e+(t-e)/2)/n)*n),[d,h]=y.useState(""),p=a.dir(),g=p==="rtl",x=C=>new Intl.NumberFormat(g?"he-IL":"en-US",{style:"currency",currency:"ILS",minimumFractionDigits:0,maximumFractionDigits:0}).format(C),b=C=>{f(Number(C.target.value))},v=()=>{l("details")},m=()=>{l("pin")},w=()=>{d.length>=4&&(l("loading"),setTimeout(()=>{l("success"),s==null||s(u)},2e3))},S=()=>{l("request"),h("")},_=(u-e)/(t-e)*100;return c.jsxs("div",{dir:p,className:`w-full max-w-md mx-auto ${r}`.trim(),children:[o==="request"&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i("loanRequest.title","  ")}),c.jsx("p",{className:"text-sm text-gray-600",children:i("loanRequest.subtitle","   ?")})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[c.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),c.jsx("span",{className:"text-sm text-gray-500",children:i("loanRequest.editable","      ")})]}),c.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:x(u)})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"range",min:e,max:t,value:u,onChange:b,step:n,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to ${g?"left":"right"}, #f59e0b 0%, #f59e0b ${_}%, #e5e7eb ${_}%, #e5e7eb 100%)`}}),c.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-6 h-6 bg-amber-500 rounded-full shadow-lg pointer-events-none",style:{[g?"right":"left"]:`calc(${_}% - 12px)`}})]}),c.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[c.jsx("span",{children:x(e)}),c.jsx("span",{children:x(t)})]})]}),c.jsx("button",{onClick:v,className:"w-full bg-gray-800 text-white py-4 rounded-xl font-semibold hover:bg-gray-900 transition-colors",children:i("loanRequest.continue",",  ")}),c.jsx("p",{className:"text-xs text-gray-500 text-center leading-relaxed",children:i("loanRequest.disclaimer",'      ",              ')})]}),o==="details"&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:i("loanRequest.details.title"," ")}),c.jsx("div",{className:"w-6"})]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:i("loanRequest.details.amount"," ")}),c.jsx("span",{className:"font-semibold",children:x(u)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:i("loanRequest.details.monthlyPayment"," ")}),c.jsx("span",{className:"font-semibold",children:x(Math.round(u/12))})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:i("loanRequest.details.period","")}),c.jsx("span",{className:"font-semibold",children:i("loanRequest.details.months","12 ")})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:i("loanRequest.details.interestRate"," ")}),c.jsx("span",{className:"font-semibold",children:"2.9%"})]})]})}),c.jsx("button",{onClick:m,className:"w-full bg-green-600 text-white py-4 rounded-xl font-semibold hover:bg-green-700 transition-colors",children:i("loanRequest.details.confirm","  ")})]}),o==="pin"&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i("loanRequest.pin.title","  PIN")}),c.jsx("p",{className:"text-sm text-gray-600",children:i("loanRequest.pin.subtitle",",     -PIN ")})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"password",value:d,onChange:C=>h(C.target.value),placeholder:"",className:"w-full text-center text-2xl font-bold py-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none",maxLength:6}),c.jsx("button",{onClick:w,disabled:d.length<4,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i("loanRequest.pin.submit","")})]})]}),o==="loading"&&c.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-6",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i("loanRequest.loading.title","  ")}),c.jsx("p",{className:"text-sm text-gray-600",children:i("loanRequest.loading.subtitle"," ...")})]})}),o==="success"&&c.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 space-y-6",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:c.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i("loanRequest.success.title"," !")}),c.jsx("p",{className:"text-sm text-gray-600",children:i("loanRequest.success.subtitle","    24 ")}),c.jsx("div",{className:"text-2xl font-bold text-green-600",children:x(u)}),c.jsx("button",{onClick:S,className:"w-full bg-gray-800 text-white py-4 rounded-xl font-semibold hover:bg-gray-900 transition-colors",children:i("loanRequest.success.close","")})]})}),c.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: #f59e0b;
          cursor: pointer;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .slider::-moz-range-thumb {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: #f59e0b;
          cursor: pointer;
          border: none;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        `})]})}function _E({minAmount:e,maxAmount:t,sliderStep:n,setMinAmount:r,setMaxAmount:s,setSliderStep:i}){const{t:a}=me();return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:a("loanRequest.controls","LoanRequest props")}),c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Min amount ()",c.jsx("input",{className:"rounded border p-2",type:"number",step:"1000",value:e,onChange:o=>r(parseInt(o.target.value,10))})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Max amount ()",c.jsx("input",{className:"rounded border p-2",type:"number",step:"1000",value:t,onChange:o=>s(parseInt(o.target.value,10))})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Slider step ()",c.jsx("input",{className:"rounded border p-2",type:"number",step:"1000",value:n,onChange:o=>i(parseInt(o.target.value,10))})]})]})]})}function kE(){const[e,t]=y.useState(5e3),[n,r]=y.useState(2e5),[s,i]=y.useState(1e3);return c.jsxs("section",{className:"space-y-6",children:[c.jsx("div",{children:c.jsx(Qy,{minAmount:e,maxAmount:n,sliderStep:s,onSuccess:a=>console.log("Loan approved:",a)})}),c.jsx(_E,{minAmount:e,maxAmount:n,sliderStep:s,setMinAmount:t,setMaxAmount:r,setSliderStep:i})]})}function EE({systemPrompt:e,setSystemPrompt:t,useJsonSchema:n,setUseJsonSchema:r,jsonSchema:s,setJsonSchema:i,config:a,setConfig:o,onClear:l}){const{t:u}=me();return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"AI Chat Configuration"}),c.jsx("button",{onClick:l,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Clear Chat"})]}),c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["System Prompt",c.jsxs("select",{className:"rounded border p-2",value:e,onChange:f=>t(f.target.value),children:[c.jsx("option",{value:"CHAT_ASSISTANT",children:"Chat Assistant"}),c.jsx("option",{value:"GENERAL_ASSISTANT",children:"General Assistant"}),c.jsx("option",{value:"ANALYSIS_ASSISTANT",children:"Analysis Assistant"}),c.jsx("option",{value:"CREATIVE_ASSISTANT",children:"Creative Assistant"}),c.jsx("option",{value:"JSON_ASSISTANT",children:"JSON Assistant"}),c.jsx("option",{value:"custom",children:"Custom..."})]})]}),e==="custom"&&c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Custom System Prompt",c.jsx("textarea",{className:"rounded border p-2 h-20 resize-none",placeholder:"Enter custom system prompt...",onChange:f=>t(f.target.value)})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Model",c.jsxs("select",{className:"rounded border p-2",value:a.model||"gpt-3.5-turbo",onChange:f=>o({...a,model:f.target.value}),children:[c.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),c.jsx("option",{value:"gpt-4",children:"GPT-4"}),c.jsx("option",{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Temperature: ",a.temperature||.7,c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:a.temperature||.7,onChange:f=>o({...a,temperature:parseFloat(f.target.value)}),className:"rounded"})]}),c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["Max Tokens",c.jsx("input",{type:"number",min:"100",max:"4000",step:"100",value:a.maxTokens||1e3,onChange:f=>o({...a,maxTokens:parseInt(f.target.value)}),className:"rounded border p-2"})]}),c.jsxs("label",{className:"flex items-center text-sm font-medium",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:f=>r(f.target.checked),className:"mr-2"}),"Use JSON Schema Response"]}),n&&c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:["JSON Schema",c.jsxs("select",{className:"rounded border p-2",value:s,onChange:f=>i(f.target.value),children:[c.jsx("option",{value:"SIMPLE_RESPONSE",children:"Simple Response"}),c.jsx("option",{value:"QA_RESPONSE",children:"Q&A Response"}),c.jsx("option",{value:"ANALYSIS_RESPONSE",children:"Analysis Response"}),c.jsx("option",{value:"CREATIVE_RESPONSE",children:"Creative Response"})]})]})]})]})}function CE(){const{t:e}=me(),[t,n]=y.useState([]),[r,s]=y.useState(""),[i,a]=y.useState(!1),[o,l]=y.useState(null),[u,f]=y.useState("CHAT_ASSISTANT"),[d,h]=y.useState(!1),[p,g]=y.useState("SIMPLE_RESPONSE"),[x,b]=y.useState({model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),v=async()=>{if(!r.trim()||i)return;const _={id:Date.now(),role:"user",content:r.trim(),timestamp:new Date};n(C=>[...C,_]),s(""),a(!0),l(null);try{if(!(typeof window<"u"&&localStorage.getItem("OPENAI_API_KEY")))throw new Error("OpenAI API key not configured. Please provide a key via the Settings page.");const E=await ui.chat(_.content,{systemPrompt:u,jsonSchema:d?p:void 0,config:x}),j={id:Date.now()+1,role:"assistant",content:typeof E.content=="string"?E.content:JSON.stringify(E.content,null,2),timestamp:new Date};n(P=>[...P,j])}catch(C){l(C instanceof Error?C.message:"An error occurred"),console.error("AI Chat Error:",C)}finally{a(!1)}},m=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),v())},w=()=>{n([]),l(null)},S=_=>{try{const C=JSON.parse(_);return JSON.stringify(C,null,2)}catch{return _}};return c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Chat Assistant"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Ask me anything!"})]}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[t.length===0&&c.jsxs("div",{className:"text-center text-gray-500 py-8",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{children:"Start a conversation by typing a message below"})]}),t.map(_=>c.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${_.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[_.role==="assistant"&&d?c.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:S(_.content)}):c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content}),c.jsx("p",{className:`text-xs mt-1 ${_.role==="user"?"text-blue-100":"text-gray-500"}`,children:_.timestamp.toLocaleTimeString()})]})},_.id)),i&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-100 text-gray-900 max-w-xs lg:max-w-md px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),c.jsx("span",{className:"text-sm text-gray-500",children:"AI is thinking..."})]})})})]}),o&&c.jsxs("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200 text-red-700 text-sm",children:[c.jsx("strong",{children:"Error:"})," ",o]}),c.jsx("div",{className:"border-t border-gray-200 p-4",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:r,onChange:_=>s(_.target.value),onKeyPress:m,placeholder:"Type your message...",disabled:i,className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),c.jsx("button",{onClick:v,disabled:!r.trim()||i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Send"})]})})]}),c.jsx(EE,{systemPrompt:u,setSystemPrompt:f,useJsonSchema:d,setUseJsonSchema:h,jsonSchema:p,setJsonSchema:g,config:x,setConfig:b,onClear:w})]})}function Gy({cardType:e,cardBrand:t,last4:n,nextChargeDate:r,creditLimit:s,expenses:i,fromDate:a,toDate:o,creditId:l,className:u=""}){const{i18n:f}=me(),d=f.dir();console.log("Date range",a,o);const h=i.filter(x=>!(x.creditId!==l||a&&x.billedAt<a||o&&x.billedAt>o)),p=h.reduce((x,{amount:b})=>x+b,0),g=s-p;return c.jsxs("div",{dir:d,className:`space-y-6 ${u}`.trim(),children:[c.jsx(Jy,{cardType:e,cardBrand:t,last4:n,nextChargeDate:r,currentDebt:p,creditLimit:s,available:g,from:a,to:o}),c.jsx(Yy,{expenses:h})]})}function NE(){const e=[{id:1,description:" ",amount:250.9,billedAt:new Date("2024-07-15"),currency:"ILS",creditId:"credit-card-4481"},{id:2,description:" ",amount:18.5,billedAt:new Date("2024-07-18"),currency:"ILS",creditId:"credit-card-4481"},{id:3,description:"Amazon Online",amount:120.99,billedAt:new Date("2024-07-20"),currency:"USD",creditId:"credit-card-4481"},{id:4,description:"  ",amount:220,billedAt:new Date("2024-07-22"),currency:"ILS",creditId:"credit-card-4481"}];return c.jsx("div",{className:"flex justify-center",children:c.jsx(Gy,{cardType:"gold",cardBrand:"mastercard",last4:"4481",nextChargeDate:new Date("2024-08-02"),creditLimit:12e3,expenses:e,fromDate:new Date("2024-07-01"),toDate:new Date("2024-07-31"),creditId:"credit-card-4481"})})}const Gh=({cardName:e,cardIndex:t})=>{const n=["/src/assets/cards/c1.png","/src/assets/cards/c2.png","/src/assets/cards/c3.png"],r=t%n.length,s=n[r];return c.jsxs("div",{className:"w-full aspect-[16/10] rounded-xl overflow-hidden shadow-md",children:[c.jsx("img",{src:s,alt:e,className:"w-full h-full object-cover",onError:i=>{var o;const a=i.target;a.style.display="none",(o=a.nextElementSibling)==null||o.classList.remove("hidden")}}),c.jsx("div",{className:"hidden w-full h-full bg-gradient-to-br from-slate-600 to-slate-700 flex items-center justify-center",children:c.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})})]})},Xy=({cards:e,className:t="",onComplete:n})=>{const{t:r,i18n:s}=me(),i=s.dir(),[a,o]=y.useState("select"),[l,u]=y.useState(null),[f,d]=y.useState(null),h=l!==null?e[l]:null,p=()=>{l!==null&&o("reason")},g=()=>{f&&h&&(o("confirm"),n==null||n(h.creditId,f))},x=()=>{o("select"),u(null),d(null)},b=v=>{switch(v){case"lost":return c.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"stolen":return c.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"payments":return c.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return c.jsxs("div",{dir:i,className:`w-full max-w-lg mx-auto ${t}`.trim(),children:[a==="select"&&c.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[c.jsx("div",{className:"bg-gray-700 px-6 py-5 border-b border-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:r("lostCredit.title","     ")}),c.jsx("p",{className:"text-sm text-gray-200 mt-2",children:r("lostCredit.subtitle","      ")})]})}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex overflow-x-auto gap-4 py-4 px-2 -mx-2 scrollbar-hide snap-x snap-mandatory",children:e.map((v,m)=>c.jsxs("button",{type:"button",onClick:()=>u(m),className:`group flex-none w-60 snap-center rounded-2xl p-5 border-2 transition-all duration-200 transform hover:scale-105 relative ${l===m?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-gray-50 hover:border-gray-300 hover:shadow-md"}`,children:[l===m&&c.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center shadow-lg z-10",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("div",{className:"mb-3",children:c.jsx(Gh,{cardName:v.creditName,cardIndex:m})}),c.jsxs("div",{className:"text-center py-2",children:[c.jsx("div",{className:"font-bold text-gray-900 text-lg leading-tight",children:v.creditName}),c.jsxs("div",{className:"text-sm text-gray-500 font-mono mt-1",children:[" ",v.last4Digits]})]})]},v.creditId))}),c.jsx("button",{onClick:p,disabled:l===null,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all duration-200 transform ${l===null?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 hover:scale-105 active:scale-95 shadow-lg"}`,children:r("lostCredit.continue","")})]})]}),a==="reason"&&c.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[c.jsx("div",{className:"bg-gray-700 px-6 py-5 border-b border-gray-100",children:c.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:r("lostCredit.reasonTitle"," ?")})}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"space-y-4",children:["lost","stolen","payments"].map(v=>c.jsxs("button",{type:"button",onClick:()=>d(v),className:`w-full flex items-center gap-4 p-5 rounded-2xl border-2 transition-all duration-200 transform hover:scale-105 ${f===v?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-gray-50 hover:border-gray-300 hover:shadow-md"}`,children:[c.jsx("div",{className:"flex-shrink-0",children:b(v)}),c.jsx("span",{className:"font-semibold text-gray-900 text-lg flex-1 text-left",children:r(`lostCredit.reasons.${v}`,v)}),f===v&&c.jsx("svg",{className:"w-6 h-6 text-blue-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},v))}),c.jsx("button",{onClick:g,disabled:!f,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all duration-200 transform mt-6 ${f?"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:scale-105 active:scale-95 shadow-lg":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:r("lostCredit.continue","")})]})]}),a==="confirm"&&h&&c.jsx("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:c.jsxs("div",{className:"p-8 text-center space-y-6",children:[c.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r("lostCredit.confirmTitle"," ")}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:r("lostCredit.confirmSubtitle","      .   .")})]}),c.jsx("div",{className:"bg-gray-50 rounded-2xl p-4",children:c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-32 aspect-[16/10] rounded-lg overflow-hidden shadow-md",children:c.jsx(Gh,{cardName:h.creditName,cardIndex:l})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:h.creditName}),c.jsxs("div",{className:"text-sm text-gray-500 font-mono",children:[" ",h.last4Digits]})]})]})}),c.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-gray-700 to-gray-800 text-white py-4 rounded-2xl font-bold text-lg hover:from-gray-800 hover:to-gray-900 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg",children:r("lostCredit.done","")})]})})]})},Xh=[{creditName:" ..",creditId:"12345678",last4Digits:"1234",imageLink:"https://example.com/images/visa.png"},{creditName:" ",creditId:"87654321",last4Digits:"5678",imageLink:"https://example.com/images/mastercard.png"},{creditName:" ",creditId:"11223344",last4Digits:"9012",imageLink:"https://example.com/images/amex.png"}];function jE({numCards:e,setNumCards:t,maxCards:n}){const{t:r}=me();return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:r("lostCredit.controls","LostCredit props")}),c.jsx("div",{className:"grid gap-4 max-w-xs",children:c.jsxs("label",{className:"flex flex-col text-sm font-medium",children:[r("lostCredit.cardsToShow","Cards to show"),c.jsx("input",{className:"rounded border p-2",type:"number",min:1,max:n,value:e,onChange:s=>t(Math.max(1,Math.min(n,parseInt(s.target.value||"1",10))))})]})})]})}function $E(){const e=Xh.length,[t,n]=y.useState(e),r=Xh.slice(0,t);return c.jsxs("section",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(Xy,{cards:r,onComplete:(s,i)=>console.log("LostCredit report:",{cardId:s,reason:i})})}),c.jsx(jE,{numCards:t,setNumCards:n,maxCards:e})]})}const PE=["lockCard","replaceCard","increaseLimit","statements","installments","support"];function IE(e){const t=r=>{switch(r){case"lockCard":return c.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})});case"replaceCard":return c.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})});case"increaseLimit":return c.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"statements":return c.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"installments":return c.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"support":return c.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25A9.75 9.75 0 1021.75 12 9.75 9.75 0 0012 2.25zM15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})});default:return null}},n={lockCard:"warning",replaceCard:"primary",increaseLimit:"primary",statements:"default",installments:"default",support:"default"};return PE.map(r=>({id:r,label:e(`info.actions.${r}`,r),icon:t(r),color:n[r]}))}function LE(e="default"){const t="group relative flex flex-col items-center gap-3 rounded-2xl p-5 transition-all duration-200 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2";switch(e){case"primary":return`${t} bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-100 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-200 focus:ring-blue-500 shadow-sm hover:shadow-md`;case"warning":return`${t} bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-100 hover:from-amber-100 hover:to-orange-100 hover:border-amber-200 focus:ring-amber-500 shadow-sm hover:shadow-md`;case"danger":return`${t} bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-100 hover:from-red-100 hover:to-rose-100 hover:border-red-200 focus:ring-red-500 shadow-sm hover:shadow-md`;default:return`${t} bg-gradient-to-br from-gray-50 to-slate-50 border-2 border-gray-100 hover:from-gray-100 hover:to-slate-100 hover:border-gray-200 focus:ring-gray-500 shadow-sm hover:shadow-md`}}function RE(e="default"){switch(e){case"primary":return"text-blue-600 group-hover:text-blue-700";case"warning":return"text-amber-600 group-hover:text-amber-700";case"danger":return"text-red-600 group-hover:text-red-700";default:return"text-gray-600 group-hover:text-gray-700"}}const Zy=({actions:e,className:t="",title:n})=>{const{t:r,i18n:s}=me(),i=s.dir(),a=e&&e.length?e:IE(r),o=n||r("info.title","Quick Actions");return c.jsx("div",{dir:i,className:`w-full max-w-2xl mx-auto ${t}`.trim(),children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 px-6 py-4 border-b border-gray-100",children:c.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center",children:o})}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-3",children:a.map(({id:l,label:u,icon:f,onClick:d,color:h})=>c.jsxs("button",{type:"button",onClick:d,className:LE(h),children:[c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("span",{className:RE(h),children:f})}),c.jsx("span",{className:"text-sm font-semibold text-gray-900 text-center leading-tight",children:u}),c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transition-opacity duration-300 transform -skew-x-12"})]},l))})})]})})};function TE(){return c.jsx("div",{className:"flex justify-center",children:c.jsx(Zy,{})})}function AE(...e){return e.filter(Boolean).join(" ")}function OE(){const{t:e}=me(),t=[{id:"credit",label:"CreditStat",element:c.jsx(vE,{})},{id:"expense",label:"ExpenseList",element:c.jsx(bE,{})},{id:"loan",label:"LoanRequest",element:c.jsx(kE,{})},{id:"ai-chat",label:"AI Chat",element:c.jsx(CE,{})},{id:"card-status",label:"CartdStatus",element:c.jsx(NE,{})},{id:"lost-credit",label:"LostCredit",element:c.jsx($E,{})},{id:"info",label:"Info",element:c.jsx(TE,{})}];return c.jsx(ud,{title:e("componentsShowcase"),children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:e("componentsShowcaseDesc")})}),c.jsxs(as.Group,{children:[c.jsx(as.List,{className:"flex gap-2 rounded-xl bg-white p-1 w-full overflow-x-auto whitespace-nowrap shadow-sm border border-gray-200",children:t.map(({id:n,label:r})=>c.jsx(as,{className:({selected:s})=>AE("px-4 py-2 text-sm font-medium rounded-lg focus:outline-none transition-colors duration-200",s?"bg-indigo-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-50"),children:r},n))}),c.jsx(as.Panels,{className:"mt-6",children:t.map(({id:n,element:r})=>c.jsx(as.Panel,{className:"focus:outline-none",children:r},n))})]})]})})}const ME="AGENT_SELECTOR_ASSISTANT",Zh="AGENT_SELECTOR_RESPONSE";class FE{async select(t,n){const r=new Date().toISOString().split("T")[0],s=`${_a[ME]}

   ${r}.`;let i;if(n&&n.length>0){const a=[...n,{role:"user",content:t}];i=(await ui.conversation(a,{systemPrompt:s,jsonSchema:Zh})).content}else i=(await ui.chat(t,{systemPrompt:s,jsonSchema:Zh})).content;return i}}const ep=new FE,DE=[{date:"2025-01-05",description:" ",creditId:"12345678",amount:230.45},{date:"2025-01-12",description:" ",creditId:"87654321",amount:410.2},{date:"2025-01-20",description:" ",creditId:"11223344",amount:150.9},{date:"2025-02-02",description:"",creditId:"12345678",amount:320},{date:"2025-02-09",description:" ",creditId:"87654321",amount:275.3},{date:"2025-02-18",description:"",creditId:"11223344",amount:180.75},{date:"2025-03-03",description:"",creditId:"12345678",amount:95.6},{date:"2025-03-11",description:" ",creditId:"87654321",amount:99.9},{date:"2025-03-22",description:" ",creditId:"11223344",amount:245.1},{date:"2025-04-01",description:" ",creditId:"12345678",amount:60},{date:"2025-04-10",description:" ",creditId:"87654321",amount:1200},{date:"2025-04-19",description:" ",creditId:"11223344",amount:340.8},{date:"2025-05-05",description:" ",creditId:"12345678",amount:210.35},{date:"2025-05-15",description:" ",creditId:"87654321",amount:180},{date:"2025-05-27",description:" ",creditId:"11223344",amount:85},{date:"2025-06-04",description:" ",creditId:"12345678",amount:150.5},{date:"2025-06-12",description:"",creditId:"87654321",amount:190.25},{date:"2025-06-23",description:" ",creditId:"11223344",amount:160.4},{date:"2025-07-02",description:" ",creditId:"12345678",amount:255.9},{date:"2025-07-05",description:" ",creditId:"87654321",amount:395.15},{date:"2025-01-07",description:" ",creditId:"11223344",amount:45.9},{date:"2025-01-15",description:"   ",creditId:"12345678",amount:199},{date:"2025-01-22",description:" ",creditId:"87654321",amount:95.3},{date:"2025-01-29",description:" ",creditId:"11223344",amount:25},{date:"2025-02-01",description:" ",creditId:"12345678",amount:12},{date:"2025-02-05",description:" ",creditId:"87654321",amount:150},{date:"2025-02-06",description:" ",creditId:"11223344",amount:57.8},{date:"2025-02-14",description:" ",creditId:"12345678",amount:180.45},{date:"2025-02-20",description:" ",creditId:"87654321",amount:148.6},{date:"2025-02-24",description:"  ",creditId:"11223344",amount:320},{date:"2025-02-28",description:" ",creditId:"12345678",amount:70.2},{date:"2025-03-01",description:" ",creditId:"87654321",amount:320.5},{date:"2025-03-05",description:" Netflix",creditId:"11223344",amount:39.9},{date:"2025-03-09",description:" ",creditId:"12345678",amount:55},{date:"2025-03-12",description:" ",creditId:"87654321",amount:230.45},{date:"2025-03-14",description:"  ",creditId:"11223344",amount:260},{date:"2025-03-18",description:" ",creditId:"12345678",amount:300},{date:"2025-03-26",description:" ",creditId:"87654321",amount:450},{date:"2025-03-30",description:" ",creditId:"11223344",amount:110.25},{date:"2025-04-02",description:" ",creditId:"12345678",amount:200},{date:"2025-04-05",description:" ",creditId:"87654321",amount:80.6},{date:"2025-04-07",description:" ",creditId:"11223344",amount:28.9},{date:"2025-04-12",description:" ",creditId:"12345678",amount:155},{date:"2025-04-15",description:" ",creditId:"87654321",amount:2e3},{date:"2025-04-18",description:"  ",creditId:"11223344",amount:380},{date:"2025-04-22",description:" ",creditId:"12345678",amount:450.1},{date:"2025-04-26",description:"  ",creditId:"87654321",amount:60},{date:"2025-04-30",description:" ",creditId:"11223344",amount:98.75},{date:"2025-05-02",description:" ",creditId:"12345678",amount:90},{date:"2025-05-05",description:" ",creditId:"87654321",amount:50.2},{date:"2025-05-08",description:" ",creditId:"11223344",amount:120.4},{date:"2025-05-11",description:" ",creditId:"12345678",amount:400},{date:"2025-05-13",description:"",creditId:"87654321",amount:160},{date:"2025-05-17",description:"  ",creditId:"11223344",amount:160.3},{date:"2025-05-21",description:" ",creditId:"12345678",amount:350},{date:"2025-05-25",description:" Spotify",creditId:"87654321",amount:19.9},{date:"2025-05-29",description:" ",creditId:"11223344",amount:280},{date:"2025-06-01",description:" ",creditId:"12345678",amount:450},{date:"2025-06-06",description:" ",creditId:"87654321",amount:162.4},{date:"2025-06-08",description:" ",creditId:"11223344",amount:120.15},{date:"2025-06-10",description:" ",creditId:"12345678",amount:300},{date:"2025-06-14",description:" ",creditId:"87654321",amount:210.5},{date:"2025-06-16",description:" ",creditId:"11223344",amount:500},{date:"2025-06-18",description:"",creditId:"12345678",amount:18.9},{date:"2025-06-20",description:" ",creditId:"87654321",amount:85},{date:"2025-06-25",description:"  ",creditId:"11223344",amount:300},{date:"2025-06-28",description:" ",creditId:"12345678",amount:160},{date:"2025-07-06",description:"  ",creditId:"87654321",amount:249},{date:"2025-07-12",description:" ",creditId:"11223344",amount:220},{date:"2025-07-15",description:" ",creditId:"12345678",amount:165.35},{date:"2025-07-17",description:" ",creditId:"87654321",amount:260.45},{date:"2025-07-18",description:" ",creditId:"11223344",amount:129},{date:"2025-07-20",description:" ",creditId:"12345678",amount:200},{date:"2025-07-22",description:"  ",creditId:"87654321",amount:320},{date:"2025-07-24",description:" ",creditId:"11223344",amount:75.8},{date:"2025-07-25",description:"  ",creditId:"12345678",amount:405},{date:"2025-07-26",description:" ",creditId:"87654321",amount:30.5},{date:"2025-07-27",description:"  ",creditId:"11223344",amount:65},{date:"2025-07-28",description:"",creditId:"12345678",amount:270.3},{date:"2025-07-29",description:"  ",creditId:"87654321",amount:116.8},{date:"2025-07-30",description:" ",creditId:"11223344",amount:80}],BE=[{billingDate:"2025-07-15",creditLimit:2e4,creditName:" ..",creditId:"12345678",last4Digits:"1234",imageLink:"https://example.com/images/visa.png"},{billingDate:"2025-07-20",creditLimit:15e3,creditName:" ",creditId:"87654321",last4Digits:"5678",imageLink:"https://example.com/images/mastercard.png"},{billingDate:"2025-07-25",creditLimit:3e4,creditName:" ",creditId:"11223344",last4Digits:"9012",imageLink:"https://example.com/images/amex.png"}],UE=DE.map((e,t)=>({id:t+1,description:e.description,amount:e.amount,billedAt:new Date(e.date),creditId:e.creditId})),Rl=BE.map(e=>({creditName:e.creditName,creditId:e.creditId,last4Digits:e.last4Digits,imageLink:e.imageLink,billingDate:new Date(e.billingDate),creditLimit:e.creditLimit})),zE=({response:e,onComplete:t,className:n=""})=>{var s,i,a,o;const r=l=>{t==null||t(l)};switch(e.callType){case"expense":console.log(">>>",e.expense);const l=Rl[0],u=Rl.find(f=>{var d;return f.creditId===((d=e.expense)==null?void 0:d.card)})||l;return c.jsx("div",{className:n,children:c.jsx(Gy,{cardType:"Credit",cardBrand:u.creditName,last4:u.last4Digits,nextChargeDate:u.billingDate,creditLimit:u.creditLimit,expenses:UE,fromDate:(i=(s=e.expense)==null?void 0:s.dates)!=null&&i[0]?new Date(e.expense.dates[0]):void 0,toDate:(o=(a=e.expense)==null?void 0:a.dates)!=null&&o[1]?new Date(e.expense.dates[1]):void 0,creditId:u.creditId,className:"max-w-2xl mx-auto"})});case"loan":return c.jsx("div",{className:n,children:c.jsx(Qy,{minAmount:1e3,maxAmount:5e4,sliderStep:1e3,onSuccess:r,className:"max-w-2xl mx-auto"})});case"lost":return c.jsx("div",{className:n,children:c.jsx(Xy,{cards:Rl,onComplete:r,className:"max-w-2xl mx-auto"})});case"info":return c.jsx("div",{className:n,children:c.jsx(Zy,{className:"max-w-2xl mx-auto"})});case"followup":return c.jsx("div",{className:`${n} max-w-2xl mx-auto`,children:c.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/20 rounded-2xl p-6 shadow-lg",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center flex-shrink-0",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"I need more information"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.followup})]})]})})});default:return c.jsx("div",{className:`${n} max-w-2xl mx-auto`,children:c.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/20 rounded-2xl p-6 shadow-lg",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl flex items-center justify-center flex-shrink-0",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"I need clarification"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"I'm not sure how to help with that. Please try rephrasing your request or be more specific about what you need assistance with."})]})]})})})}},WE=({className:e="",placeholder:t,welcomeMessage:n})=>{const{t:r,i18n:s}=me(),i=Zc(),[a,o]=y.useState([]),[l,u]=y.useState(""),[f,d]=y.useState(!1),h=y.useRef(null),p=y.useRef(null),g=s.dir(),x=g==="rtl",b=n||r("chat.welcome","Hello! How can I help you with your banking needs today?"),v=t||r("chat.placeholder","Type your message here...");y.useEffect(()=>{var _;(_=h.current)==null||_.scrollIntoView({behavior:"smooth"})},[a]),y.useEffect(()=>{a.length===0&&o([{id:"1",type:"assistant",content:b,timestamp:new Date}])},[b,a.length]);const m=async _=>{if(_.preventDefault(),!l.trim()||f)return;const C={id:Date.now().toString(),type:"user",content:l.trim(),timestamp:new Date};o(E=>[...E,C]),u(""),d(!0);try{const E=a.filter(N=>(N.type==="user"||N.type==="assistant")&&N.id!=="1").map(N=>({role:N.type,content:N.content})),j=E.length>0?await ep.select(l.trim(),E):await ep.select(l.trim()),P={id:(Date.now()+1).toString(),type:"component",content:"",timestamp:new Date,component:j};o(N=>[...N,P])}catch(E){console.error("Chat error:",E);const j={id:(Date.now()+1).toString(),type:"assistant",content:r("chat.error","Sorry, I encountered an error. Please try again."),timestamp:new Date};o(P=>[...P,j])}finally{d(!1)}},w=_=>{var E;const C={id:Date.now().toString(),type:"assistant",content:r("chat.completed","Task completed successfully! Is there anything else I can help you with?"),timestamp:new Date};o(j=>[...j,C]),(E=p.current)==null||E.focus()},S=_=>new Intl.DateTimeFormat(x?"he-IL":"en-US",{hour:"2-digit",minute:"2-digit",hour12:!x}).format(_);return c.jsxs("div",{dir:g,className:`flex flex-col h-full bg-[#f7faff] backdrop-blur-xl ${e}`.trim(),children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/20",style:{backgroundColor:"#f7faff"},children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r("chat.title","Banking Assistant")}),c.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${f?"bg-amber-400 animate-pulse":"bg-emerald-400"}`}),f?r("chat.typing","Analyzing your request..."):r("chat.online","Ready to help")]})]})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("button",{onClick:()=>i("/"),className:"p-2 rounded-xl bg-white/50 hover:bg-white/70 transition-colors",children:c.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 min-h-0 max-w-4xl mx-auto w-full bg-[#f7faff]",children:[a.map(_=>c.jsx("div",{className:`flex ${_.type==="user"?"justify-end":"justify-start"}`,children:c.jsx("div",{className:`max-w-lg ${_.type==="component"?"w-full max-w-none":""}`,children:_.type==="user"?c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-3xl px-6 py-4 shadow-lg",children:[c.jsx("p",{className:"text-base leading-relaxed",children:_.content}),c.jsx("p",{className:"text-xs text-blue-100 mt-2 opacity-80",children:S(_.timestamp)})]}):_.type==="assistant"?c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm text-gray-900 rounded-3xl px-6 py-4 shadow-lg border border-white/20",children:[c.jsx("p",{className:"text-base leading-relaxed",children:_.content}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:S(_.timestamp)})]}):_.type==="component"&&_.component?c.jsxs("div",{className:"my-6",children:[c.jsx(zE,{response:_.component,onComplete:w,className:"w-full"}),c.jsx("p",{className:"text-xs text-gray-500 text-center mt-3 opacity-70",children:S(_.timestamp)})]}):null})},_.id)),f&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-3xl px-6 py-4 shadow-lg border border-white/20",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),c.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),c.jsx("span",{className:"text-sm text-gray-600",children:r("chat.thinking","Analyzing your request...")})]})})}),c.jsx("div",{ref:h})]}),c.jsx("div",{className:"p-4 bg-[#f7faff]",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("form",{onSubmit:m,className:"relative",children:[c.jsx("input",{ref:p,type:"text",value:l,onChange:_=>u(_.target.value),placeholder:v,disabled:f,className:`w-full px-4 py-3 text-base bg-white/90 backdrop-blur-sm border border-white/40 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed shadow-xl placeholder-gray-500 ${l.trim()?"pr-12":""}`}),l.trim()&&c.jsx("button",{type:"submit",disabled:f,className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center",children:f?c.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})})]})};function HE(){const{t:e}=me();return c.jsx("div",{className:"h-screen w-screen overflow-hidden",style:{backgroundColor:"#f7faff"},children:c.jsx(WE,{className:"h-full w-full",welcomeMessage:e("chat.bankingWelcome","Welcome to your Banking Assistant! I can help you with expenses, loans, lost cards, and more. How can I assist you today?"),placeholder:e("chat.bankingPlaceholder","Ask about your expenses, request a loan, report a lost card...")})})}function VE(){const{t:e,i18n:t}=me(),[n,r]=y.useState(()=>typeof window<"u"&&localStorage.getItem("OPENAI_API_KEY")||""),[s,i]=y.useState(!n),a=l=>{localStorage.setItem("OPENAI_API_KEY",l),r(l),i(!1),ui.updateApiKey(l)},o=t.language==="he";return c.jsxs(c.Fragment,{children:[c.jsx(sk,{isOpen:s,onSave:a}),c.jsxs(H2,{children:[c.jsx(ds,{path:"/",element:c.jsx(ud,{title:e("appTitle"),children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"text-center space-y-4",children:c.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:e("homeWelcome")})}),c.jsxs("div",{className:"grid gap-6 max-w-2xl mx-auto",children:[c.jsx(yl,{to:"/components",className:"group block p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200",children:c.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-4":"space-x-4"}`,children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-200 transition-colors duration-200",children:c.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors duration-200",children:e("componentsShowcase")}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e("componentsShowcaseDesc")})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-600 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{transform:o?"rotate(180deg)":"none"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),c.jsx(yl,{to:"/chat",className:"group block p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200",children:c.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-4":"space-x-4"}`,children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors duration-200",children:c.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-green-600 transition-colors duration-200",children:e("chatDemo")}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e("chatDemoDesc")})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{transform:o?"rotate(180deg)":"none"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),c.jsx(yl,{to:"/settings",className:"group block p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200",children:c.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-4":"space-x-4"}`,children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center group-hover:bg-yellow-200 transition-colors duration-200",children:c.jsxs("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-yellow-600 transition-colors duration-200",children:e("settings.title")}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e("settings.openaiConfigDesc")})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-yellow-600 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{transform:o?"rotate(180deg)":"none"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})]})]})})}),c.jsx(ds,{path:"/components",element:c.jsx(OE,{})}),c.jsx(ds,{path:"/chat",element:c.jsx(HE,{})}),c.jsx(ds,{path:"/settings",element:c.jsx(pE,{})})]})]})}const KE=document.getElementById("root"),qE=pg(KE);qE.render(c.jsx(u1,{i18n:Ie,children:c.jsx(G2,{basename:"/uiAgentDemo",children:c.jsx(VE,{})})}));
